{"version":3,"sources":["ComplexCron.js"],"names":["styles","theme","headerID","fontWeight","fontStyle","radio","display","dialogPaper","height","buttonIcon","marginRight","spacing","DialogComplexCron","props","cron","replace","trim","state","onClose","onOk","paper","classes","title","I18n","t","overflow","setState","getLanguage","handleOk","ok","handleCancel","cancel","React","Component","propTypes","PropTypes","object","func","isRequired","string","simple","bool","language"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles/index';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nimport IconOk from '@material-ui/icons/Check';\r\nimport IconCancel from '@material-ui/icons/Cancel';\r\n\r\nimport ComplexCron from '../Components/ComplexCron';\r\n\r\nimport I18n from '../i18n';\r\n\r\n// Generate cron expression\r\nconst styles = theme => ({\r\n    headerID: {\r\n        fontWeight: 'bold',\r\n        fontStyle: 'italic'\r\n    },\r\n    radio: {\r\n        display: 'inline-block'\r\n    },\r\n    dialogPaper: {\r\n        height: 'calc(100% - 96px)'\r\n    },\r\n    buttonIcon: {\r\n        marginRight: theme.spacing(1),\r\n    }\r\n});\r\n\r\nclass DialogComplexCron extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let cron;\r\n        if (this.props.cron && typeof this.props.cron === 'string' && this.props.cron.replace(/^[\"']/, '')[0] !== '{') {\r\n            cron = this.props.cron.replace(/['\"]/g, '').trim();\r\n        } else {\r\n            cron = this.props.cron || '{}';\r\n            if (typeof cron === 'string') {\r\n                cron = cron.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '');\r\n            }\r\n        }\r\n\r\n        this.state =  {\r\n            cron,\r\n        };\r\n    }\r\n\r\n    handleCancel() {\r\n        this.props.onClose();\r\n    }\r\n\r\n    handleOk() {\r\n        this.props.onOk(this.state.cron);\r\n        this.props.onClose();\r\n    }\r\n\r\n    render() {\r\n        return <Dialog\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            maxWidth=\"md\"\r\n            fullWidth={true}\r\n            classes={{paper: this.props.classes.dialogPaper}}\r\n            open={true}\r\n            aria-labelledby=\"cron-dialog-title\"\r\n        >\r\n            <DialogTitle id=\"cron-dialog-title\">{this.props.title || I18n.t('ra_Define schedule...')}</DialogTitle>\r\n            <DialogContent style={{height: '100%', overflow: 'hidden'}}>\r\n                <ComplexCron\r\n                    cronExpression={this.state.cron}\r\n                    onChange={cron => this.setState({cron})}\r\n                    language={I18n.getLanguage()}\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\"><IconOk className={this.props.classes.buttonIcon}/>{this.props.ok || I18n.t('ra_Ok')}</Button>\r\n                <Button variant=\"contained\" onClick={() => this.handleCancel()}><IconCancel className={this.props.classes.buttonIcon}/>{this.props.cancel || I18n.t('ra_Cancel')}</Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n}\r\n\r\nDialogComplexCron.propTypes = {\r\n    classes: PropTypes.object,\r\n    onClose: PropTypes.func,\r\n    onOk: PropTypes.func.isRequired,\r\n    title: PropTypes.string,\r\n    cron: PropTypes.string,\r\n    cancel: PropTypes.string,\r\n    ok: PropTypes.string,\r\n    simple: PropTypes.bool,\r\n    language: PropTypes.string\r\n\r\n};\r\n\r\nexport default withStyles(styles)(DialogComplexCron);\r\n"],"file":"ComplexCron.js"}