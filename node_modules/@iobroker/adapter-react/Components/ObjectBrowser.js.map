{"version":3,"sources":["ObjectBrowser.js"],"names":["ICON_SIZE","ROW_HEIGHT","ITEM_LEVEL","SMALL_BUTTON_SIZE","COLOR_NAME_SYSTEM","COLOR_NAME_SYSTEM_ADAPTER","styles","theme","toolbar","minHeight","toolbarButtons","padding","marginLeft","switchColumnAuto","spacing","dialogColumns","transition","dialogColumnsLabel","fontSize","paddingTop","columnCustom","width","display","columnCustomEditable","cursor","columnCustomCenter","textAlign","columnCustomLeft","columnCustomRight","width100","transparent_10","opacity","transparent_20","transparent_30","transparent_40","transparent_50","transparent_60","transparent_70","transparent_80","transparent_90","transparent_100","columnsDialogInputWidth","headerRow","paddingLeft","height","whiteSpace","buttonClearFilter","position","buttonClearFilterIcon","zIndex","top","left","color","tableDiv","overflow","tableRow","lineHeight","verticalAlign","userSelect","background","palette","primary","main","Utils","invertColor","flexWrap","tableRowAlias","tableRowAliasReadWrite","checkBox","cellId","textOverflow","marginTop","cellIdSpan","cellIdIconFolder","marginRight","secondary","cellIdIconDocument","cellIdIconOwn","cellCopyButton","right","cellEditButton","cellName","cellIdAlias","fontStyle","type","cellIdAliasReadWriteDiv","cellIdAliasAlone","cellIdAliasReadWrite","cellType","cellRole","cellRoom","cellEnumParent","cellFunc","cellValue","cellValueButton","transform","cellValueButtonFalse","cellAdapter","cellValueTooltip","cellValueText","cellValueTooltipTitle","cellValueTooltipValue","cellValueTooltipBoth","cellValueTooltipBox","cellValueTextUnit","newValue","animation","cellValueTextState","cellValueTooltipCopy","bottom","cellValueTooltipEdit","cellButtons","cellButtonsButton","cellButtonsEmptyButton","cellButtonMinWidth","minWidth","cellButtonsButtonAlone","cellButtonsButtonWithCustoms","cellButtonsValueButton","action","active","cellButtonsValueButtonCopy","cellButtonsValueButtonEdit","filteredOut","filterInput","marginBottom","selectIcon","paddingRight","selectNone","itemSelected","light","dark","header","headerCell","headerCellValue","headerCellInput","headerCellSelectItem","visibleButtons","grow","flexGrow","enumIconDiv","borderRadius","enumIcon","enumDialog","enumList","enumButton","enumCheckbox","buttonIcon","backgroundDef","backgroundColor","buttonDiv","alignItems","aclText","rightsObject","rightsState","textCenter","tooltipAccessControl","flexDirection","fontSizeTitle","generateFile","filename","obj","el","document","createElement","setAttribute","encodeURIComponent","JSON","stringify","style","body","appendChild","click","removeChild","binarySearch","list","find","_start","_end","undefined","length","middle","Math","floor","applyFilter","item","filters","lang","objects","context","counter","customFilter","id","toLowerCase","name","custom","role","room","common","members","func","data","expertMode","startsWith","expert","fID","indexOf","fName","getName","includes","visible","hasVisibleChildren","children","forEach","_item","count","getVisibleItems","_result","push","getSystemIcon","k","imagePrefix","icon","endsWith","getSelectIdIcon","buildTree","options","ids","Object","keys","sort","a","b","replace","currentPathArr","currentPath","currentPathLen","root","info","funcEnums","roomEnums","roles","types","customs","enums","hasSomeCustoms","croot","i","parts","split","supportCustoms","substring","repeat","curPath","_croot","parent","level","generated","title","hasCustoms","button","write","u","move","splice","join","findNode","_parts","_path","_level","found","_id","en","toString","findRoomsForObject","withParentInfo","rooms","per","origin","ownEnums","pop","findEnumsForObjectAsIds","enumName","funcs","findFunctionsForObject","pef","formatValue","state","texts","dateFormat","isFloatComma","states","getStates","isCommon","valText","v","val","round","match","parseInt","Date","s","valFull","unit","t","value","ack","ts","formatDate","lc","from","user","quality","quality2text","q","nbr","src","_id_","aIcon","cIcon","instance","prepareSparkData","values","time","DEFAULT_FILTER","ITEM_IMAGES","channel","device","adapter","meta","chart","config","group","host","schedule","script","StyledBadge","badge","border","paper","Badge","SCREEN_WIDTHS","xs","idWidth","fields","widths","sm","md","buttons","lg","changedFrom","qualityCode","timestamp","lastChange","xl","ObjectBrowser","props","console","log","findItem","pausedSubscribes","statesUpdateTimer","setTimeout","forceUpdate","clearTimeout","oldObj","columnsForAdmin","parse","parseObjectForAdmins","setState","objectsUpdateTimer","lastAppliedFilter","result","mobile","objId","e","_enObj","enObj","socket","setObject","objs","hasOwnProperty","_createAllEnums","getState","def","window","alert","evt","f","target","files","r","FileReader","onload","contents","json","len","loadObjects","readAsText","selected","selectedNonObject","acl","check","valueNum","arrayTooltipText","funcRenderStateObject","rights","classes","ownerGroup","ownerUser","owner","map","extendObject","error","lastSelectedItems","localStorage","getItem","dialogName","filter","expanded","defaultFilters","assign","sessionStorage","tableRef","filterRefs","selectedFound","subscribes","visibleCols","columns","pos","possibleCols","customDialog","router","location","getLocation","dialog","pauseSubscribe","columnsWidths","foldersFirst","statesView","objectStatesView","loaded","filterKey","depth","expandAllVisible","toast","scrollBarWidth","editObjectDialog","roleDialog","modalEmptyId","columnsSelectorShow","columnsAuto","columnsDialogTransparent","columnsEditCustomDialog","customColumnDialogValueChanged","showExportDialog","edit","editObject","deleteObject","customConfig","copyState","editState","close","filter_id","filter_name","filter_type","filter_role","filter_room","filter_func","filter_customs","objectChangedByUser","objectChangedBy","objectChangedFrom","stateChangedBy","stateChangedFrom","aclOwner_read_object","aclOwner_read_state","aclOwner_write_object","aclOwner_write_state","aclGroup_read_object","aclGroup_read_state","aclGroup_write_object","aclGroup_write_state","aclEveryone_read_object","aclEveryone_read_state","aclEveryone_write_object","aclEveryone_write_state","calculateColumnsVisibility","getObjects","then","systemConfig","defaultNewAcl","object","node","expandAllSelected","onAfterSelect","getCompactSystemConfig","defaultHistory","getAdditionalColumns","showError","cb","changed","path","setItem","isDouble","getObjectName","language","onSelect","subscribeObject","onObjectChange","unsubscribeObject","pattern","unsubscribeState","onStateChange","toggleItem","multiSelect","removeItem","isLast","cols","unshift","underline","clsx","event","_renderDefinedList","column","getAdapters","instances","recordStates","unsubscribe","_root","_partyId","shift","adminColumns","objTypes","warn","subscribeState","isPause","filterTimer","current","tagName","onFilterChanged","childNodes","someNotEmpty","attr","onFilter","firstChild","hasIcons","newFilter","getFilterSelect","onExpandAll","expandDepth","collapseDepth","idDot","idLen","key","isAll","_getSelectedIdsForExport","getEnumsForId","_exportObjects","allowObjectCreation","refreshComponent","showExpertButton","disableColumnSelector","onCollapseAll","onExpandVisible","onCollapseVisible","onStatesViewVisible","objectAddBoolean","toolTipObjectCreating","modalNewObj","objectImportExport","input","addEventListener","handleJsonUpload","objectBrowserEditObject","objectEditBoolean","doNavigate","text","stopPropagation","preventDefault","onObjectDelete","objectEditOfAccessControl","modalEditOfAccess","modalEditOfAccessObjData","cellButtonsButtonIcon","aclTooltip","renderTooltipAccessControl","aclSystemConfig","isNaN","Number","dontDelete","objectCustomDialog","sparkline","now","setHours","getHours","setMinutes","setSeconds","setMilliseconds","nowMs","getTime","getHistory","start","end","step","addID","aggregate","sparks","getElementsByClassName","dataset","subscribe","fill","copyText","onCopy","tooltip","popper","readHistory","enumIds","newArray","enumId","promises","Promise","all","_syncEnum","toCheck","resolve","itemEnums","enumDialogEnums","enumsOriginal","syncEnum","labelId","objectBrowserEditRole","ObjectBrowserEditRole","isSave","customColumnDialog","parseFloat","getObject","setCustomValue","it","Error","getCustomValue","initValue","keyCode","onColumnsEditCustomDialogClose","checked","pathText","p","notEditable","align","isExpanded","iconFolder","itemType","toggleExpanded","iconItem","typeImg","checkbox","valueEditable","enumEditable","checkVisibleObjectType","newValueTitle","readWriteAlias","alias","read","scrollToItem","checkColor","invertBackground","columnsVisibility","adapterColumns","renderCustomValue","updateOpened","renderColumnValue","renderColumnButtons","items","leaf","renderLeaf","DragWrapper","dragEnabled","renderItem","WIDTHS","widthSum","nameHeader","newWidth","reduce","accumulator","filterClearInValue","isFilterEmpty","clearFilter","getFilterInput","getFilterSelectType","getFilterSelectRole","getFilterSelectRoom","getFilterSelectFunction","getFilterSelectCustoms","offsetWidth","clientWidth","getElementById","scrollIntoView","behavior","block","inline","ObjectCustomDialog","changedIds","themeName","themeType","valAck","expire","ObjectBrowserEditObject","objectBrowserValue","ObjectBrowserValue","res","onUpdate","unsubscribeTimer","jsonFilter","checkUnsubscribes","getToolbar","renderHeader","renderToast","renderColumnsEditCustomDialog","renderColumnsSelectorDialog","renderCustomDialog","renderEditValueDialog","renderEditObjectDialog","renderEditRoleDialog","renderEnumDialog","renderErrorDialog","renderExportDialog","modalNewObject","modalEditOfAccessControl","newState","Component","defaultProps","propTypes","PropTypes","string","oneOfType","array","bool","isRequired","dragSettings","useDrag","_export"],"mappings":"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","sourcesContent":["/**\r\n * Copyright 2020-2021, bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport copy from './copy-to-clipboard';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport SVG from 'react-inlinesvg';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport withWidth from '@material-ui/core/withWidth';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n// own\r\nimport Utils from './Utils';\r\nimport TabContainer from './TabContainer';\r\nimport TabContent from './TabContent';\r\nimport TabHeader from './TabHeader';\r\n\r\n// Icons\r\nimport IconEdit from '@material-ui/icons/Edit';\r\nimport IconDelete from '@material-ui/icons/Delete';\r\nimport IconConfig from '@material-ui/icons/Settings';\r\nimport IconSystem from '@material-ui/icons/SettingsApplications';\r\nimport IconPhoto from '@material-ui/icons/Photo';\r\nimport IconGroup from '@material-ui/icons/SupervisedUserCircle';\r\nimport IconSchedule from '@material-ui/icons/CalendarToday';\r\nimport IconUser from '@material-ui/icons/PersonOutlined';\r\nimport IconHost from '@material-ui/icons/Router';\r\nimport IconConnection from '@material-ui/icons/Wifi';\r\nimport IconInfo from '@material-ui/icons/Info';\r\nimport IconMeta from '@material-ui/icons/Description';\r\nimport IconScript from '@material-ui/icons/Code';\r\nimport IconChart from '@material-ui/icons/ShowChart';\r\nimport IconEnum from '@material-ui/icons/ListAlt';\r\nimport IconColumns from '@material-ui/icons/ViewColumn';\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconCheck from '@material-ui/icons/Check';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport LooksOneIcon from '@material-ui/icons/LooksOne';\r\nimport PressButtonIcon from '@material-ui/icons/RoomService';\r\n\r\nimport IconExpert from '../icons/IconExpert';\r\nimport IconAdapter from '../icons/IconAdapter';\r\nimport IconAlias from '../icons/IconAlias';\r\nimport IconChannel from '../icons/IconChannel';\r\nimport IconCopy from '../icons/IconCopy';\r\nimport IconDevice from '../icons/IconDevice';\r\nimport IconDocument from '../icons/IconDocument';\r\nimport IconInstance from '../icons/IconInstance';\r\nimport IconState from '../icons/IconState';\r\nimport IconClosed from '../icons/IconClosed';\r\nimport IconOpen from '../icons/IconOpen';\r\nimport IconClearFilter from '../icons/IconClearFilter';\r\n\r\nconst ICON_SIZE = 24;\r\nconst ROW_HEIGHT = 32;\r\nconst ITEM_LEVEL = 16;\r\nconst SMALL_BUTTON_SIZE = 20;\r\nconst COLOR_NAME_SYSTEM = '#ff6d69';\r\nconst COLOR_NAME_SYSTEM_ADAPTER = '#5773ff';\r\n\r\nconst styles = theme => ({\r\n    toolbar: {\r\n        minHeight: 38,//Theme.toolbar.height,\r\n        //        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\r\n    },\r\n    toolbarButtons: {\r\n        padding: 4,\r\n        marginLeft: 4\r\n    },\r\n    switchColumnAuto: {\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n    dialogColumns: {\r\n        transition: 'opacity 1s'\r\n    },\r\n    dialogColumnsLabel: {\r\n        fontSize: 12,\r\n        paddingTop: theme.spacing(1),\r\n    },\r\n    columnCustom: {\r\n        width: '100%',\r\n        display: 'inline-block',\r\n    },\r\n    columnCustomEditable: {\r\n        cursor: 'text'\r\n    },\r\n    columnCustomCenter: {\r\n        textAlign: 'center',\r\n    },\r\n    columnCustomLeft: {\r\n        textAlign: 'left',\r\n    },\r\n    columnCustomRight: {\r\n        textAlign: 'right',\r\n    },\r\n    width100: {\r\n        width: '100%',\r\n    },\r\n    transparent_10: {\r\n        opacity: 0.1\r\n    },\r\n    transparent_20: {\r\n        opacity: 0.2\r\n    },\r\n    transparent_30: {\r\n        opacity: 0.3\r\n    },\r\n    transparent_40: {\r\n        opacity: 0.4\r\n    },\r\n    transparent_50: {\r\n        opacity: 0.5\r\n    },\r\n    transparent_60: {\r\n        opacity: 0.6\r\n    },\r\n    transparent_70: {\r\n        opacity: 0.7\r\n    },\r\n    transparent_80: {\r\n        opacity: 0.8\r\n    },\r\n    transparent_90: {\r\n        opacity: 0.9\r\n    },\r\n    transparent_100: {\r\n        opacity: 1\r\n    },\r\n    columnsDialogInputWidth: {\r\n        width: 80\r\n    },\r\n    headerRow: {\r\n        paddingLeft: theme.spacing(1),\r\n        height: 38,\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    buttonClearFilter: {\r\n        position: 'relative',\r\n        float: 'right',\r\n        padding: 0,\r\n    },\r\n    buttonClearFilterIcon: {\r\n        zIndex: 2,\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        color: '#FF0000',\r\n        opacity: 0.7\r\n    },\r\n\r\n    tableDiv: {\r\n        paddingTop: 0,//theme.spacing(1),\r\n        paddingLeft: 0,\r\n        width: 'calc(100% - ' + theme.spacing(1) + 'px)',\r\n        height: 'calc(100% - ' + 38 + 'px)',\r\n        overflow: 'auto'\r\n    },\r\n    tableRow: {\r\n        paddingLeft: theme.spacing(1),\r\n        height: ROW_HEIGHT,\r\n        lineHeight: ROW_HEIGHT + 'px',\r\n        verticalAlign: 'top',\r\n        userSelect: 'none',\r\n        cursor: 'pointer',\r\n        width: '100%',\r\n        '&:hover': {\r\n            background: `${theme.palette.primary.main} !important`,\r\n            color: Utils.invertColor(theme.palette.primary.main, true),\r\n        },\r\n        whiteSpace: 'nowrap',\r\n        flexWrap: 'nowrap',\r\n    },\r\n    tableRowAlias: {\r\n        height: ROW_HEIGHT + 10,\r\n    },\r\n    tableRowAliasReadWrite: {\r\n        height: ROW_HEIGHT + 22,\r\n    },\r\n    checkBox: {\r\n        padding: 0,\r\n    },\r\n    cellId: {\r\n        position: 'relative',\r\n        fontSize: '1rem',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        //verticalAlign: 'top',\r\n        //position: 'relative',\r\n        '& .copyButton': {\r\n            display: 'none'\r\n        },\r\n        '&:hover .copyButton': {\r\n            display: 'block'\r\n        },\r\n        '& .iconOwn': {\r\n            display: 'block',\r\n            width: ROW_HEIGHT - 4,\r\n            height: ROW_HEIGHT - 4,\r\n            marginTop: 2,\r\n            float: 'right',\r\n        },\r\n        '&:hover .iconOwn': {\r\n            display: 'none'\r\n        },\r\n        '& *': {\r\n            width: 'initial'\r\n        }\r\n    },\r\n    cellIdSpan: {\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap'\r\n        //display: 'inline-block',\r\n        //verticalAlign: 'top',\r\n    },\r\n    cellIdIconFolder: {\r\n        marginRight: theme.spacing(1),\r\n        width: ROW_HEIGHT - 4,\r\n        height: ROW_HEIGHT - 4,\r\n        cursor: 'pointer',\r\n        color: theme.palette.secondary.main || '#fbff7d',\r\n        verticalAlign: 'top',\r\n    },\r\n    cellIdIconDocument: {\r\n        verticalAlign: 'middle',\r\n        marginLeft: (ROW_HEIGHT - SMALL_BUTTON_SIZE) / 2,\r\n        marginRight: theme.spacing(1),\r\n        width: SMALL_BUTTON_SIZE,\r\n        height: SMALL_BUTTON_SIZE,\r\n    },\r\n    cellIdIconOwn: {\r\n\r\n    },\r\n    cellCopyButton: {\r\n        // color: 'white',\r\n        width: SMALL_BUTTON_SIZE,\r\n        height: SMALL_BUTTON_SIZE,\r\n        top: (ROW_HEIGHT - SMALL_BUTTON_SIZE) / 2,\r\n        opacity: 0.8,\r\n        '&:hover': {\r\n            opacity: 1,\r\n        },\r\n        position: 'absolute',\r\n        right: 3,\r\n    },\r\n    cellEditButton: {\r\n        width: SMALL_BUTTON_SIZE,\r\n        height: SMALL_BUTTON_SIZE,\r\n        color: 'white',\r\n        position: 'absolute',\r\n        top: (ROW_HEIGHT - SMALL_BUTTON_SIZE) / 2,\r\n        right: SMALL_BUTTON_SIZE + 3,\r\n        opacity: 0.7,\r\n        '&:hover': {\r\n            opacity: 1,\r\n        },\r\n    },\r\n    cellName: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        fontSize: 14,\r\n        marginLeft: 5,\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    cellIdAlias: {\r\n        fontStyle: 'italic',\r\n        fontSize: 12,\r\n        opacity: 0.7,\r\n        '&:hover': {\r\n            color: theme.palette.type === 'dark' ? '#009900' : '#007700',\r\n        }\r\n    },\r\n    cellIdAliasReadWriteDiv: {\r\n        height: 24,\r\n        marginTop: -5,\r\n    },\r\n    cellIdAliasAlone: {\r\n        lineHeight: 0,\r\n    },\r\n    cellIdAliasReadWrite: {\r\n        lineHeight: '12px',\r\n    },\r\n    cellType: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        '& .itemIcon': {\r\n            verticalAlign: 'middle',\r\n            width: ICON_SIZE,\r\n            height: ICON_SIZE,\r\n            display: 'inline-block',\r\n        },\r\n    },\r\n    cellRole: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n    },\r\n    cellRoom: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n    },\r\n    cellEnumParent: {\r\n        opacity: 0.4,\r\n    },\r\n    cellFunc: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n    },\r\n    cellValue: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n    },\r\n    cellValueButton: {\r\n        marginTop: 5,\r\n        '&:active': {\r\n            transform: 'scale(0.8)'\r\n        }\r\n    },\r\n    cellValueButtonFalse: {\r\n        opacity: 0.3\r\n    },\r\n    cellAdapter: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top'\r\n    },\r\n    cellValueTooltip: {\r\n        fontSize: 12,\r\n    },\r\n    cellValueText: {\r\n        width: '100%',\r\n        height: ROW_HEIGHT,\r\n        fontSize: 16,\r\n        display: 'inline-block',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        position: 'relative',\r\n        verticalAlign: 'top',\r\n        '& .copyButton': {\r\n            display: 'none'\r\n        },\r\n        '&:hover .copyButton': {\r\n            display: 'block'\r\n        }\r\n    },\r\n    cellValueTooltipTitle: {\r\n        fontStyle: 'italic',\r\n        width: 100,\r\n        display: 'inline-block',\r\n    },\r\n    cellValueTooltipValue: {\r\n        width: 120,\r\n        display: 'inline-block',\r\n        //overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    cellValueTooltipBoth: {\r\n        width: 220,\r\n        display: 'inline-block',\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    cellValueTooltipBox: {\r\n        width: 250,\r\n        overflow: 'hidden',\r\n    },\r\n    cellValueTextUnit: {\r\n        marginLeft: theme.spacing(0.5),\r\n        opacity: 0.8\r\n    },\r\n    newValue: {\r\n        animation: '$newValueAnimation 2s ease-in-out'\r\n    },\r\n    '@keyframes newValueAnimation': {\r\n        '0%': {\r\n            color: '#00f900',\r\n        },\r\n        '80%': {\r\n            color: '#008000',\r\n        },\r\n        '100%': {\r\n            color: theme.palette.type === 'dark' ? '#fff' : '#000',\r\n        }\r\n    },\r\n    cellValueTextState: {\r\n        opacity: 0.7,\r\n    },\r\n    cellValueTooltipCopy: {\r\n        position: 'absolute',\r\n        bottom: 3,\r\n        right: 3,\r\n    },\r\n    cellValueTooltipEdit: {\r\n        position: 'absolute',\r\n        bottom: 3,\r\n        right: 15,\r\n    },\r\n    cellButtons: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n    },\r\n    cellButtonsButton: {\r\n        display: 'inline-block',\r\n        opacity: 0.7,\r\n        width: SMALL_BUTTON_SIZE + 4,\r\n        height: SMALL_BUTTON_SIZE + 4,\r\n        '&:hover': {\r\n            opacity: 1,\r\n        },\r\n        paddingTop: 0,\r\n        marginTop: -2,\r\n    },\r\n    cellButtonsEmptyButton: {\r\n        fontSize: 12,\r\n    },\r\n    cellButtonMinWidth: {\r\n        minWidth: 47,\r\n    },\r\n    cellButtonsButtonAlone: {\r\n        marginLeft: SMALL_BUTTON_SIZE + 4,\r\n        paddingTop: 0,\r\n        marginTop: -2,\r\n    },\r\n    cellButtonsButtonWithCustoms: {\r\n        color: theme.palette.secondary.main,\r\n    },\r\n    cellButtonsValueButton: {\r\n        position: 'absolute',\r\n        display: 'inline-block',\r\n        top: SMALL_BUTTON_SIZE / 2 - 2,\r\n        opacity: 0.7,\r\n        width: SMALL_BUTTON_SIZE - 2,\r\n        height: SMALL_BUTTON_SIZE - 2,\r\n        color: theme.palette.action.active,\r\n        '&:hover': {\r\n            opacity: 1,\r\n        }\r\n    },\r\n    cellButtonsValueButtonCopy: {\r\n        right: theme.spacing(1),\r\n        cursor: 'pointer',\r\n    },\r\n    cellButtonsValueButtonEdit: {\r\n        right: SMALL_BUTTON_SIZE / 2 + theme.spacing(2),\r\n    },\r\n\r\n    filteredOut: {\r\n        opacity: 0.3\r\n    },\r\n    filterInput: {\r\n        marginTop: 0,\r\n        marginBottom: 0\r\n    },\r\n    selectIcon: {\r\n        width: 16,\r\n        height: 16,\r\n        paddingRight: 5\r\n    },\r\n    selectNone: {\r\n        opacity: 0.5,\r\n    },\r\n    itemSelected: {\r\n        background: `${theme.palette.type === 'dark' ? theme.palette.primary.light : theme.palette.primary.dark} !important`,\r\n        color: `${Utils.invertColor(theme.palette.primary.main, true)} !important`,\r\n    },\r\n    header: {\r\n        width: '100%'\r\n    },\r\n    headerCell: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n    },\r\n    headerCellValue: {\r\n        paddingTop: 4,\r\n        // paddingLeft: 5,\r\n        fontSize: 16,\r\n    },\r\n    headerCellInput: {\r\n        width: 'calc(100% - 5px)',\r\n        height: ROW_HEIGHT,\r\n        paddingTop: 3,\r\n        '& .itemIcon': {\r\n            verticalAlign: 'middle',\r\n            width: ICON_SIZE,\r\n            height: ICON_SIZE,\r\n            display: 'inline-block',\r\n        }\r\n    },\r\n    headerCellSelectItem: {\r\n        '& .itemIcon': {\r\n            width: ICON_SIZE,\r\n            height: ICON_SIZE,\r\n            marginRight: 5,\r\n            display: 'inline-block'\r\n        }\r\n    },\r\n    visibleButtons: {\r\n        color: '#2196f3',\r\n        opacity: 0.7\r\n    },\r\n    grow: {\r\n        flexGrow: 1\r\n    },\r\n    enumIconDiv: {\r\n        marginRight: theme.spacing(1),\r\n        width: 32,\r\n        height: 32,\r\n        borderRadius: 8,\r\n        background: '#FFFFFF'\r\n    },\r\n    enumIcon: {\r\n        marginTop: 4,\r\n        marginLeft: 4,\r\n        width: 24,\r\n        height: 24\r\n    },\r\n    enumDialog: {\r\n        overflow: 'hidden',\r\n    },\r\n    enumList: {\r\n        minWidth: 250,\r\n        height: 'calc(100% - 50px)',\r\n        overflow: 'auto',\r\n    },\r\n    enumButton: {\r\n        float: 'right'\r\n    },\r\n    enumCheckbox: {\r\n        minWidth: 0,\r\n    },\r\n    buttonIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    backgroundDef: {\r\n        backgroundColor: theme.palette.background.default\r\n    },\r\n    buttonDiv: {\r\n        display: 'flex',\r\n        height: '100%',\r\n        alignItems: 'center'\r\n    },\r\n    aclText: {\r\n        fontSize: 13\r\n    },\r\n    rightsObject: {\r\n        color: '#55ff55',\r\n        paddingLeft: 3,\r\n    },\r\n    rightsState: {\r\n        color: '#86b6ff',\r\n        paddingLeft: 3,\r\n    },\r\n    textCenter: {\r\n        padding: 12,\r\n        textAlign: 'center'\r\n    },\r\n    tooltipAccessControl: {\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    '@media screen and (max-width: 465px)': {\r\n        columnsDialogInputWidth: {\r\n            width: 50\r\n        },\r\n        fontSizeTitle: {\r\n            '& *': {\r\n                fontSize: 12\r\n            }\r\n        },\r\n    },\r\n    '@media screen and (max-width: 700px)': {\r\n\r\n    },\r\n    '@media screen and (max-width: 430px)': {\r\n\r\n    },\r\n});\r\n\r\nfunction generateFile(filename, obj) {\r\n    let el = document.createElement('a');\r\n    el.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(obj, null, 2)));\r\n    el.setAttribute('download', filename);\r\n\r\n    el.style.display = 'none';\r\n    document.body.appendChild(el);\r\n\r\n    el.click();\r\n\r\n    document.body.removeChild(el);\r\n}\r\n\r\n// d=data, t=target, s=start, e=end, m=middle\r\nfunction binarySearch(list, find, _start, _end) {\r\n    _start = _start || 0;\r\n    if (_end === undefined) {\r\n        _end = list.length - 1;\r\n        if (!_end) {\r\n            return list[0] === find;\r\n        }\r\n    }\r\n    const middle = Math.floor((_start + _end) / 2);\r\n    if (find === list[middle]) {\r\n        return list[middle];\r\n    }\r\n    if (_end - 1 === _start) {\r\n        return list[_start] === find || list[_end] === find;\r\n    }\r\n    if (find > list[middle]) {\r\n        return binarySearch(list, find, middle, _end);\r\n    }\r\n    if (find < list[middle]) {\r\n        return binarySearch(list, find, _start, middle);\r\n    }\r\n}\r\n\r\nfunction applyFilter(item, filters, lang, objects, context, counter, customFilter) {\r\n    let filteredOut = false;\r\n    if (!context) {\r\n        context = {};\r\n        if (filters.id) {\r\n            context.id = filters.id.toLowerCase();\r\n        }\r\n        if (filters.name) {\r\n            context.name = filters.name.toLowerCase();\r\n        }\r\n        if (filters.type) {\r\n            context.type = filters.type.toLowerCase();\r\n        }\r\n        if (filters.custom) {\r\n            context.custom = filters.custom.toLowerCase();\r\n        }\r\n        if (filters.role) {\r\n            context.role = filters.role.toLowerCase();\r\n        }\r\n        if (filters.room) {\r\n            context.room = (objects[filters.room] && objects[filters.room].common && objects[filters.room].common.members) || [];\r\n        }\r\n        if (filters.func) {\r\n            context.func = (objects[filters.func] && objects[filters.func].common && objects[filters.func].common.members) || [];\r\n        }\r\n    }\r\n\r\n    const data = item.data;\r\n\r\n    if (data && data.id) {\r\n        const common = data.obj && data.obj.common;\r\n\r\n        if (customFilter) {\r\n            if (customFilter.type && customFilter.type !== data.obj.type) {\r\n                filteredOut = true;\r\n            } else\r\n            if (customFilter.common && customFilter.common.custom) {\r\n                if (!common || !common.custom || (customFilter.common.custom !== true && !common.custom[customFilter.common.custom])) {\r\n                    filteredOut = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!filteredOut && !filters.expertMode) {\r\n            filteredOut =\r\n                data.id === 'system' ||\r\n                data.id === 'enum' ||\r\n                // (data.obj && data.obj.type === 'meta') ||\r\n                data.id.startsWith('system.') ||\r\n                data.id.startsWith('enum.') ||\r\n                data.id.startsWith('_design/') ||\r\n                (common && common.expert);\r\n        }\r\n        if (!filteredOut && context.id) {\r\n            if (data.fID === undefined) {\r\n                data.fID = data.id.toLowerCase();\r\n            }\r\n            filteredOut = data.fID.indexOf(context.id) === -1;\r\n        }\r\n        if (!filteredOut && context.name) {\r\n            if (common) {\r\n                if (data.fName === undefined) {\r\n                    data.fName = (common && getName(common.name, lang)) || '';\r\n                    data.fName = data.fName.toLowerCase();\r\n                }\r\n                filteredOut = !data.fName.includes(context.name);\r\n            } else {\r\n                filteredOut = true;\r\n            }\r\n        }\r\n        if (!filteredOut && filters.role && common) {\r\n            if (common) {\r\n                filteredOut = !(common.role && common.role.startsWith(context.role));\r\n            } else {\r\n                filteredOut = true;\r\n            }\r\n        }\r\n        if (!filteredOut && context.room) {\r\n            filteredOut = !context.room.find(id => id === data.id || data.id.startsWith(id + '.'));\r\n        }\r\n        if (!filteredOut && context.func) {\r\n            filteredOut = !context.func.find(id => id === data.id || data.id.startsWith(id + '.'));\r\n        }\r\n        if (!filteredOut && context.type) {\r\n            filteredOut = !(data.obj && data.obj.type && data.obj.type === context.type);\r\n        }\r\n        if (!filteredOut && context.custom) {\r\n            if (common) {\r\n                filteredOut = !common.custom || !common.custom[context.custom];\r\n            } else {\r\n                filteredOut = true;\r\n            }\r\n        }\r\n    }\r\n    data.visible = !filteredOut;\r\n    data.hasVisibleChildren = false;\r\n    if (item.children) {\r\n        item.children.forEach(_item => {\r\n            const visible = applyFilter(_item, filters, lang, objects, context, counter, customFilter);\r\n            if (visible) {\r\n                data.hasVisibleChildren = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    const visible = data.visible || data.hasVisibleChildren;\r\n    if (counter && visible) {\r\n        counter.count++;\r\n    }\r\n\r\n    return visible;\r\n}\r\n\r\nfunction getVisibleItems(item, type, objects, _result) {\r\n    _result = _result || [];\r\n    const data = item.data;\r\n    if (data.visible || data.hasVisibleChildren) {\r\n        data.id && objects[data.id] && (!type || objects[data.id].type === type) && _result.push(data.id);\r\n        item.children?.forEach(_item =>\r\n            getVisibleItems(_item, type, objects, _result));\r\n    }\r\n\r\n    return _result;\r\n}\r\n\r\nfunction getSystemIcon(objects, id, k, imagePrefix) {\r\n    let icon;\r\n\r\n    // system or design have special icons\r\n    if (id.startsWith('_design/') || (id === 'system')) {\r\n        icon = <IconSystem className=\"iconOwn\" />;\r\n    } else if (id === '0_userdata' || id === '0_userdata.0') {\r\n        icon = <IconPhoto className=\"iconOwn\" />;\r\n    } else if (id === 'alias' || id === 'alias.0') {\r\n        icon = <IconAlias className=\"iconOwn\" />;\r\n    } else if (id === 'system.adapter') {\r\n        icon = <IconSystem className=\"iconOwn\" />;\r\n    } else if (id === 'system.group') {\r\n        icon = <IconGroup className=\"iconOwn\" />;\r\n    } else if (id === 'system.user') {\r\n        icon = <IconUser className=\"iconOwn\" />;\r\n    } else if (id === 'system.host') {\r\n        icon = <IconHost className=\"iconOwn\" />;\r\n    } else if (id.endsWith('.connection') || id.endsWith('.connected')) {\r\n        icon = <IconConnection className=\"iconOwn\" />;\r\n    } else if (id.endsWith('.info')) {\r\n        icon = <IconInfo className=\"iconOwn\" />;\r\n    } else if (objects[id] && objects[id].type === 'meta') {\r\n        icon = <IconMeta className=\"iconOwn\" />;\r\n    } else if (k < 2) {\r\n        // detect \"cloud.0\"\r\n        if (objects['system.adapter.' + id]) {\r\n            icon = getSelectIdIcon(objects, 'system.adapter.' + id, imagePrefix);\r\n        }\r\n    }\r\n\r\n    return icon || null;\r\n}\r\n\r\nfunction buildTree(objects, options) {\r\n    options = options || {};\r\n    const imagePrefix = options.imagePrefix || '.';\r\n\r\n    const ids = Object.keys(objects);\r\n\r\n    ids.sort((a, b) => {\r\n        if (a === b) return 0;\r\n        a = a.replace(/\\./g, '!!!');\r\n        b = b.replace(/\\./g, '!!!');\r\n        if (a > b) return 1;\r\n        return -1;\r\n    });\r\n\r\n    // find empty nodes and create names for it\r\n    let currentPathArr = [];\r\n    let currentPath = '';\r\n    let currentPathLen = 0;\r\n    let root = {\r\n        data: {\r\n            name: '',\r\n            id: ''\r\n        },\r\n        children: []\r\n    };\r\n\r\n    let info = {\r\n        funcEnums: [],\r\n        roomEnums: [],\r\n        roles:     [],\r\n        ids:       [],\r\n        types:     [],\r\n        objects,\r\n        customs:   [],\r\n        enums:     [],\r\n        hasSomeCustoms: false,\r\n    };\r\n\r\n    let croot = root;\r\n\r\n    for (let i = 0; i < ids.length; i++) {\r\n        const id = ids[i];\r\n        if (!id) {\r\n            continue;\r\n        }\r\n        const obj = objects[id];\r\n        const parts = id.split('.');\r\n\r\n        if (obj.type && !info.types.includes(obj.type)) {\r\n            info.types.push(obj.type);\r\n        }\r\n\r\n        if (obj) {\r\n            const common = obj.common;\r\n            const role = common && common.role;\r\n            if (role && !info.roles.includes(role)) {\r\n                info.roles.push(role);\r\n            } else if (id.startsWith('enum.rooms.')) {\r\n                info.roomEnums.push(id);\r\n                info.enums.push(id);\r\n            } else if (id.startsWith('enum.functions.')) {\r\n                info.funcEnums.push(id);\r\n                info.enums.push(id);\r\n            } else if (obj.type === 'enum') {\r\n                info.enums.push(id);\r\n            } else if (obj.type === 'instance' && common && common.supportCustoms) {\r\n                info.hasSomeCustoms = true;\r\n                info.customs.push(id.substring('system.adapter.'.length));\r\n            }\r\n        }\r\n\r\n        info.ids.push(id);\r\n\r\n        let repeat;\r\n\r\n        // if next level\r\n        do {\r\n            repeat = false;\r\n\r\n            // If current level is still OK and we can add ID to children\r\n            if (!currentPath || id.startsWith(currentPath + '.')) {\r\n                // if more than one level added\r\n                if (parts.length - currentPathLen > 1) {\r\n                    let curPath = currentPath;\r\n                    // generate missing levels\r\n                    for (let k = currentPathLen; k < parts.length - 1; k++) {\r\n                        curPath += (curPath ? '.' : '') + parts[k];\r\n                        // level does not exist\r\n                        if (!binarySearch(info.ids, curPath)) {\r\n                            const _croot = {\r\n                                data: {\r\n                                    name:      parts[k],\r\n                                    parent:    croot,\r\n                                    id:        curPath,\r\n                                    obj:       objects[curPath],\r\n                                    level:     k,\r\n                                    icon:      getSystemIcon(objects, curPath, k, imagePrefix),\r\n                                    generated: true,\r\n                                }\r\n                            };\r\n\r\n                            croot.children = croot.children || [];\r\n                            croot.children.push(_croot);\r\n                            croot = _croot;\r\n                            info.ids.push(curPath); // IDs will be added by alphabet\r\n                        } else {\r\n                            croot = croot.children.find(item => item.data.name === parts[k]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const _croot = {\r\n                    data: {\r\n                        name:       parts[parts.length - 1],\r\n                        title:      getName(obj && obj.common && obj.common.name, options.lang),\r\n                        obj,\r\n                        parent:     croot,\r\n                        icon:       getSelectIdIcon(objects, id, imagePrefix) || getSystemIcon(objects, id, 0, imagePrefix),\r\n                        id,\r\n                        hasCustoms: obj.common?.custom && Object.keys(obj.common.custom).length,\r\n                        level:      parts.length - 1,\r\n                        generated:  false,\r\n                        button:     obj.type === 'state' && obj.common?.role && typeof obj.common.role === 'string' && obj.common.role.startsWith('button') && obj.common?.write !== false,\r\n                    }\r\n                };\r\n\r\n                croot.children = croot.children || [];\r\n                croot.children.push(_croot);\r\n                croot = _croot;\r\n\r\n                currentPathLen = parts.length;\r\n                currentPathArr = parts;\r\n                currentPath    = id;\r\n            } else {\r\n                let u = 0;\r\n\r\n                while (currentPathArr[u] === parts[u]) {\r\n                    u++;\r\n                }\r\n\r\n                if (u > 0) {\r\n                    let move = currentPathArr.length;\r\n                    currentPathArr = currentPathArr.splice(0, u);\r\n                    currentPathLen = u;\r\n                    currentPath = currentPathArr.join('.');\r\n                    while (move > u) {\r\n                        croot = croot.data.parent;\r\n                        move--;\r\n                    }\r\n                } else {\r\n                    croot = root;\r\n                    currentPathArr = [];\r\n                    currentPath    = '';\r\n                    currentPathLen = 0;\r\n                }\r\n                repeat = true;\r\n            }\r\n        } while (repeat);\r\n    }\r\n\r\n    info.roomEnums.sort();\r\n    info.funcEnums.sort();\r\n    info.roles.sort();\r\n    info.types.sort();\r\n\r\n    return { info, root };\r\n}\r\n\r\nfunction findNode(root, id, _parts, _path, _level) {\r\n    if (root.data.id === id) {\r\n        return root;\r\n    }\r\n    if (!_parts) {\r\n        _parts = id.split('.');\r\n        _level = 0;\r\n        _path = _parts[_level];\r\n    }\r\n    if (!root.children && root.data.id !== id) {\r\n        return null;\r\n    } else {\r\n        let found;\r\n        for (let i = 0; i < root.children.length; i++) {\r\n            const _id = root.children[i].data.id;\r\n            if (_id === _path) {\r\n                found = root.children[i];\r\n                break;\r\n            } else\r\n            if (_id > _path) {\r\n                break;\r\n            }\r\n        }\r\n        if (found) {\r\n            return findNode(found, id, _parts, _path + '.' + _parts[_level + 1], _level + 1);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nfunction getName(name, lang) {\r\n    if (name && typeof name === 'object') {\r\n        return (name[lang] || name.en || '').toString();\r\n    } else {\r\n        return (name || '').toString();\r\n    }\r\n}\r\n\r\nfunction findRoomsForObject(data, id, lang, withParentInfo, rooms) {\r\n    if (!id) {\r\n        return { rooms: [], per: false };\r\n    }\r\n    rooms = rooms || [];\r\n    for (let i = 0; i < data.roomEnums.length; i++) {\r\n        const common = data.objects[data.roomEnums[i]]?.common;\r\n        const name = getName(common.name, lang);\r\n\r\n        if (common?.members?.includes(id) && !rooms.includes(name)) {\r\n            if (!withParentInfo) {\r\n                rooms.push(name);\r\n            } else {\r\n                rooms.push({ name: name, origin: id });\r\n            }\r\n        }\r\n    }\r\n\r\n    let ownEnums;\r\n\r\n    // Check parent\r\n    const parts = id.split('.');\r\n    parts.pop();\r\n    id = parts.join('.');\r\n    if (data.objects[id]) {\r\n        ownEnums = rooms.length;\r\n        findRoomsForObject(data, id, lang, withParentInfo, rooms);\r\n    }\r\n\r\n    return { rooms, per: !ownEnums }; // pe is if the enums are from parent\r\n}\r\n\r\nfunction findEnumsForObjectAsIds(data, id, enumName, funcs) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    funcs = funcs || [];\r\n    for (let i = 0; i < data[enumName].length; i++) {\r\n        const common = data.objects[data[enumName][i]]?.common;\r\n        if (common?.members?.includes(id) && !funcs.includes(data[enumName][i])) {\r\n            funcs.push(data[enumName][i]);\r\n        }\r\n    }\r\n    funcs.sort();\r\n\r\n    return funcs;\r\n}\r\n\r\nfunction findFunctionsForObject(data, id, lang, withParentInfo, funcs) {\r\n    if (!id) {\r\n        return { funcs: [], pef: false };\r\n    }\r\n    funcs = funcs || [];\r\n    for (let i = 0; i < data.funcEnums.length; i++) {\r\n        const common = data.objects[data.funcEnums[i]]?.common;\r\n        const name = getName(common.name, lang);\r\n        if (common?.members?.includes(id) && !funcs.includes(name)) {\r\n            if (!withParentInfo) {\r\n                funcs.push(name);\r\n            } else {\r\n                funcs.push({ name: name, origin: id });\r\n            }\r\n        }\r\n    }\r\n\r\n    let ownEnums;\r\n\r\n    // Check parent\r\n    const parts = id.split('.');\r\n    parts.pop();\r\n    id = parts.join('.');\r\n    if (data.objects[id]) {\r\n        ownEnums = funcs.length;\r\n        findFunctionsForObject(data, id, lang, withParentInfo, funcs);\r\n    }\r\n\r\n    return { funcs, pef: !ownEnums };\r\n}\r\n\r\n/*function quality2text(q) {\r\n    if (!q) {\r\n        return 'ok';\r\n    }\r\n    const custom = q & 0xFFFF0000;\r\n    let text = '';\r\n    if (q & 0x40) text += 'device';\r\n    if (q & 0x80) text += 'sensor';\r\n    if (q & 0x01) text += ' bad';\r\n    if (q & 0x02) text += ' not connected';\r\n    if (q & 0x04) text += ' error';\r\n\r\n    return text + (custom ? '|0x' + (custom >> 16).toString(16).toUpperCase() : '') + ' [0x' + q.toString(16).toUpperCase() + ']';\r\n}*/\r\n\r\nfunction formatValue(id, state, obj, texts, dateFormat, isFloatComma) {\r\n    const states = Utils.getStates(obj);\r\n    const isCommon = obj.common;\r\n\r\n    const valText = {};\r\n    let v = !state || state.val === null ? '(null)' : (state.val === undefined ? '[undef]' : state.val);\r\n    const type = typeof v;\r\n    if (type === 'number') {\r\n        v = (Math.round(v * 100000000) / 100000000); // remove 4.00000000000000001\r\n        if (isFloatComma) {\r\n            v = v.toString().replace('.', ',');\r\n        }\r\n    } else if (type === 'object') {\r\n        v = JSON.stringify(v);\r\n    } else if (type !== 'string') {\r\n        v = v.toString();\r\n    }\r\n\r\n    if (isCommon && isCommon.role && typeof isCommon.role === 'string' && isCommon.role.match(/^value\\.time|^date/)) {\r\n        if (typeof v === 'string' && v.length === 13) { // warning, this solution only works till Nov 20 2286 18:46:39CET\r\n            v = parseInt(v, 10);\r\n        }\r\n        v = v ? new Date(v).toString() : v;\r\n    } else if (typeof v !== 'string') {\r\n        v = v.toString();\r\n    }\r\n\r\n    if (states && states[v] !== undefined) {\r\n        valText.s = v;\r\n        v = states[valText.s];\r\n    }\r\n\r\n    let valFull;\r\n    if (isCommon && isCommon.unit) {\r\n        valText.u = isCommon.unit;\r\n    }\r\n    valFull = [{ t: texts.value, v }];\r\n\r\n    if (state) {\r\n        if (state.ack !== undefined) {\r\n            valFull.push({ t: texts.ack, v: state.ack.toString() });\r\n        }\r\n        if (state.ts) {\r\n            valFull.push({ t: texts.ts, v: state.ts ? Utils.formatDate(new Date(state.ts), dateFormat) : '' });\r\n        }\r\n        if (state.lc) {\r\n            valFull.push({ t: texts.lc, v: state.lc ? Utils.formatDate(new Date(state.lc), dateFormat) : '' });\r\n        }\r\n        if (state.from) {\r\n            let from = (state.from || '');\r\n            if (from.startsWith('system.adapter.')) {\r\n                from = from.substring(15);\r\n            }\r\n            valFull.push({ t: texts.from, v: from });\r\n        }\r\n        if (state.user) {\r\n            let user = (state.user || '');\r\n            if (user.startsWith('system.user.')) {\r\n                user = user.substring(12);\r\n            }\r\n            valFull.push({ t: texts.user, v: user });\r\n        }\r\n        valFull.push({ t: texts.quality, v: Utils.quality2text(state.q || 0).join(', '), nbr: true });\r\n    }\r\n\r\n    if (typeof v === 'string' && v) {\r\n        v = v.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n    }\r\n\r\n    valText.v = v;\r\n\r\n    return {\r\n        valText,\r\n        valFull,\r\n        style: { color: state?.ack ? (state.q ? '#ffa500' : '') : '#ff2222c9' }\r\n    };\r\n}\r\n\r\nfunction getSelectIdIcon(objects, id, imagePrefix) {\r\n    imagePrefix = imagePrefix || '.';//http://localhost:8081';\r\n    let src = '';\r\n    const _id_ = 'system.adapter.' + id;\r\n    const aIcon = id && objects[_id_] && objects[_id_].common && objects[_id_].common.icon;\r\n    if (aIcon) {\r\n        // if not BASE64\r\n        if (!aIcon.startsWith('data:image/')) {\r\n            if (aIcon.includes('.')) {\r\n                src = imagePrefix + '/adapter/' + objects[_id_].common.name + '/' + aIcon;\r\n            } else if (aIcon && aIcon.length < 3) {\r\n                return aIcon; // utf-8\r\n            } else {\r\n                return null; //'<i class=\"material-icons iob-list-icon\">' + objects[_id_].common.icon + '</i>';\r\n            }\r\n        } else {\r\n            if (aIcon.startsWith('data:image/svg')) {\r\n                src = <SVG src={aIcon} width={28} height={28} />;\r\n            } else {\r\n                src = aIcon;\r\n            }\r\n        }\r\n    } else {\r\n        const common = objects[id] && objects[id].common;\r\n\r\n        if (common) {\r\n            const cIcon = common.icon;\r\n            if (cIcon) {\r\n                if (!cIcon.startsWith('data:image/')) {\r\n                    if (cIcon.includes('.')) {\r\n                        let instance;\r\n                        if (objects[id].type === 'instance' || objects[id].type === 'adapter') {\r\n                            src = imagePrefix + '/adapter/' + common.name + '/' + cIcon;\r\n                        } else if (id && id.startsWith('system.adapter.')) {\r\n                            instance = id.split('.', 3);\r\n                            if (cIcon[0] === '/') {\r\n                                instance[2] += cIcon;\r\n                            } else {\r\n                                instance[2] += '/' + cIcon;\r\n                            }\r\n                            src = imagePrefix + '/adapter/' + instance[2];\r\n                        } else {\r\n                            instance = id.split('.', 2);\r\n                            if (cIcon[0] === '/') {\r\n                                instance[0] += cIcon;\r\n                            } else {\r\n                                instance[0] += '/' + cIcon;\r\n                            }\r\n                            src = imagePrefix + '/adapter/' + instance[0];\r\n                        }\r\n                    } else if (aIcon && aIcon.length < 3) {\r\n                        return aIcon; // utf-8\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                } else {\r\n                    // base 64 image\r\n                    if (cIcon.startsWith('data:image/svg')) {\r\n                        src = <SVG src={cIcon} width={28} height={28} />;\r\n                    } else {\r\n                        src = cIcon;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return src || null;\r\n}\r\n\r\nfunction prepareSparkData(values, from) {\r\n    // set every hour one point\r\n    let time = from;\r\n    let i = 1;\r\n    const v = [];\r\n\r\n    while (i < values.length && time < from + 25 * 3600000) {\r\n        // find the interval\r\n        while (values[i - 1].ts < time && time <= values[i].ts && i < values.length) {\r\n            i++;\r\n        }\r\n        if (i === 1 && values[i - 1].ts >= time) {\r\n            // assume the value was always null\r\n            v.push(0);\r\n        } else\r\n        if (i < values.length) {\r\n            if (typeof values[i].val === 'boolean' || typeof values[i - 1].val === 'boolean') {\r\n                v.push(values[i].val ? 1 : 0);\r\n            } else {\r\n                // remove nulls\r\n                values[i - 1].val = values[i - 1].val || 0;\r\n                values[i].val = values[i].val || 0;\r\n                // interpolate\r\n                let val = values[i - 1].val + (values[i].val - values[i - 1].val) * (time - values[i - 1].ts) / (values[i].ts - values[i - 1].ts);\r\n\r\n                v.push(val);\r\n            }\r\n        }\r\n\r\n        time += 3600000;\r\n    }\r\n\r\n    return v;\r\n}\r\n\r\n/**\r\n * @type {import('./types').ObjectBrowserTableFilter}\r\n */\r\nconst DEFAULT_FILTER = {\r\n    id:     '',\r\n    name:   '',\r\n    room:   '',\r\n    func:   '',\r\n    role:   '',\r\n    type:   '',\r\n    custom: '',\r\n    expertMode: false\r\n};\r\n\r\nconst ITEM_IMAGES = {\r\n    state:    <IconState    className=\"itemIcon\" />,\r\n    channel:  <IconChannel  className=\"itemIcon\" />,\r\n    device:   <IconDevice   className=\"itemIcon\" />,\r\n    adapter:  <IconAdapter  className=\"itemIcon\" />,\r\n    meta:     <IconMeta     className=\"itemIcon\" />,\r\n    instance: <IconInstance className=\"itemIcon\" style={{ color: '#7da7ff' }} />,\r\n    enum:     <IconEnum     className=\"itemIcon\" />,\r\n    chart:    <IconChart    className=\"itemIcon\" />,\r\n    config:   <IconConfig   className=\"itemIcon\" />,\r\n    group:    <IconGroup    className=\"itemIcon\" />,\r\n    user:     <IconUser     className=\"itemIcon\" />,\r\n    host:     <IconHost     className=\"itemIcon\" />,\r\n    schedule: <IconSchedule className=\"itemIcon\" />,\r\n    script:   <IconScript   className=\"itemIcon\" />,\r\n};\r\n\r\nconst StyledBadge = withStyles(theme => ({\r\n    badge: {\r\n        right: 3,\r\n        top: 3,\r\n        border: `2px solid ${theme.palette.background.paper}`,\r\n        padding: '0 4px',\r\n    },\r\n}))(Badge);\r\n\r\nconst SCREEN_WIDTHS = {\r\n    // extra-small: 0px\r\n    xs: { idWidth: '100%', fields: [], widths: {} },\r\n    // small: 600px\r\n    sm: { idWidth: 300, fields: ['room', 'val'], widths: { room: 100, val: 200 } },\r\n    // medium: 960px\r\n    md: { idWidth: 300, fields: ['room', 'func', 'val', 'buttons'], widths: { name: 200, room: 150, func: 150, val: 120, buttons: 120 } },\r\n    // large: 1280px\r\n    lg: {\r\n        idWidth: 300, fields: ['name', 'type', 'role', 'room', 'func', 'val', 'buttons', 'changedFrom', 'qualityCode', 'timestamp', 'lastChange'],\r\n        widths: {\r\n            name: 300,\r\n            type: 80,\r\n            role: 120,\r\n            room: 180,\r\n            func: 180,\r\n            val: 140,\r\n            buttons: 120,\r\n            changedFrom: 120,\r\n            qualityCode: 100,\r\n            timestamp: 165,\r\n            lastChange: 165\r\n        }\r\n    },\r\n    ///////////////\r\n    // extra-large: 1920px\r\n    xl: {\r\n        idWidth: 650, fields: ['name', 'type', 'role', 'room', 'func', 'val', 'buttons', 'changedFrom', 'qualityCode', 'timestamp', 'lastChange'],\r\n        widths: {\r\n            name: 400,\r\n            type: 80,\r\n            role: 120,\r\n            room: 180,\r\n            func: 180,\r\n            val: 140,\r\n            buttons: 120,\r\n            changedFrom: 120,\r\n            qualityCode: 100,\r\n            timestamp: 170,\r\n            lastChange: 170\r\n        }\r\n    },\r\n};\r\n\r\n/**\r\n * @extends {React.Component<import('./types').ObjectBrowserProps>}\r\n */\r\nclass ObjectBrowser extends Component {\r\n    /**\r\n     * @param {import('./types').ObjectBrowserProps} props\r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.lastSelectedItems = window.localStorage.getItem(`${props.dialogName || 'App'}.objectSelected`) || '[]';\r\n        try {\r\n            this.lastSelectedItems = JSON.parse(this.lastSelectedItems);\r\n            if (typeof this.lastSelectedItems !== 'object') {\r\n                this.lastSelectedItems = [this.lastSelectedItems];\r\n            }\r\n            this.lastSelectedItems = this.lastSelectedItems.filter(id => id);\r\n        } catch (e) {\r\n\r\n        }\r\n\r\n        let expanded = window.localStorage.getItem(`${props.dialogName || 'App'}.objectExpanded`) || '[]';\r\n        try {\r\n            expanded = JSON.parse(expanded);\r\n        } catch (e) {\r\n            expanded = [];\r\n        }\r\n\r\n        let filter =\r\n            props.defaultFilters ||\r\n            window.localStorage.getItem(`${props.dialogName || 'App'}.objectFilter`) ||\r\n            Object.assign({}, DEFAULT_FILTER);\r\n\r\n        if (typeof filter === 'string') {\r\n            try {\r\n                filter = JSON.parse(filter);\r\n            } catch (e) {\r\n                filter = Object.assign({}, DEFAULT_FILTER);\r\n            }\r\n        }\r\n\r\n        filter.expertMode = props.expertMode !== undefined ? props.expertMode : (window.sessionStorage.getItem('App.expertMode') === 'true');\r\n        this.tableRef = createRef();\r\n        this.filterRefs = {};\r\n\r\n        Object.keys(DEFAULT_FILTER).forEach(name =>\r\n            this.filterRefs[name] = createRef());\r\n\r\n        this.lastAppliedFilter = null;\r\n        this.pausedSubscribes = false;\r\n\r\n        this.selectedFound = false;\r\n        this.root = null;\r\n        this.states = {};\r\n        this.subscribes = [];\r\n        this.statesUpdateTimer = null;\r\n        this.objectsUpdateTimer = null;\r\n\r\n        this.visibleCols = props.columns || SCREEN_WIDTHS[props.width].fields;\r\n        // remove type column if only one type must be selected\r\n        if (props.types && props.types.length === 1) {\r\n            const pos = this.visibleCols.indexOf('type');\r\n            pos !== -1 && this.visibleCols.splice(pos, 1);\r\n        }\r\n\r\n        this.possibleCols = SCREEN_WIDTHS.xl.fields;\r\n\r\n        let customDialog = null;\r\n\r\n        if (props.router) {\r\n            const location = props.router.getLocation();\r\n            if (location.id && location.dialog === 'customs') {\r\n                customDialog = [location.id];\r\n                this.pauseSubscribe(true);\r\n            }\r\n        }\r\n\r\n        let selected = (props.selected || '');\r\n        if (typeof selected !== 'object') {\r\n            selected = [selected];\r\n        }\r\n        selected = selected.map(id => id.replace(/[\"']/g, '')).filter(id => id);\r\n\r\n        let columns = window.localStorage.getItem(`${props.dialogName || 'App'}.columns`);\r\n        try {\r\n            columns = columns ? JSON.parse(columns) : null;\r\n        } catch (e) {\r\n            columns = null;\r\n        }\r\n\r\n        let columnsWidths = window.localStorage.getItem(`${props.dialogName || 'App'}.columnsWidths`);\r\n        try {\r\n            columnsWidths = columnsWidths ? JSON.parse(columnsWidths) : {};\r\n        } catch (e) {\r\n            columnsWidths = {};\r\n        }\r\n\r\n        this.imagePrefix = props.imagePrefix || '.';\r\n        let foldersFirst = window.localStorage.getItem((props.dialogName || 'App') + '.foldersFirst');\r\n        if (foldersFirst === 'false') {\r\n            foldersFirst = false;\r\n        } else if (foldersFirst === 'true') {\r\n            foldersFirst = true;\r\n        } else {\r\n            foldersFirst = props.foldersFirst === undefined ? true : props.foldersFirst;\r\n        }\r\n\r\n        const statesView = this.props.objectStatesView ? JSON.parse(window.localStorage.getItem((props.dialogName || 'App') + '.objectStatesView')) || false : false;\r\n        this.state = {\r\n            loaded: false,\r\n            foldersFirst,\r\n            selected,\r\n            selectedNonObject: window.localStorage.getItem(`${props.dialogName || 'App'}.selectedNonObject`) || '',\r\n            filter,\r\n            filterKey: 0,\r\n            depth: 0,\r\n            expandAllVisible: false,\r\n            expanded,\r\n            toast: '',\r\n            lang: props.lang,\r\n            scrollBarWidth: 16,\r\n            hasSomeCustoms: false,\r\n            customDialog,\r\n            editObjectDialog: '',\r\n            enumDialog: null,\r\n            roleDialog: null,\r\n            modalEmptyId: null,\r\n            statesView,\r\n            columns,\r\n            columnsForAdmin: null,\r\n            columnsSelectorShow: false,\r\n            columnsAuto: window.localStorage.getItem(`${props.dialogName || 'App'}.columnsAuto`) !== 'false',\r\n            columnsWidths,\r\n            columnsDialogTransparent: 100,\r\n            columnsEditCustomDialog: null,\r\n            customColumnDialogValueChanged: false,\r\n            showExportDialog: false,\r\n        };\r\n\r\n        this.edit = {};\r\n\r\n        this.texts = {\r\n            value:                    props.t('ra_tooltip_value'),\r\n            ack:                      props.t('ra_tooltip_ack'),\r\n            ts:                       props.t('ra_tooltip_ts'),\r\n            lc:                       props.t('ra_tooltip_lc'),\r\n            from:                     props.t('ra_tooltip_from'),\r\n            user:                     props.t('ra_tooltip_user'),\r\n            quality:                  props.t('ra_tooltip_quality'),\r\n            editObject:               props.t('ra_tooltip_editObject'),\r\n            deleteObject:             props.t('ra_tooltip_deleteObject'),\r\n            customConfig:             props.t('ra_tooltip_customConfig'),\r\n            copyState:                props.t('ra_tooltip_copyState'),\r\n            editState:                props.t('ra_tooltip_editState'),\r\n            close:                    props.t('ra_Close'),\r\n            filter_id:                props.t('ra_filter_id'),\r\n            filter_name:              props.t('ra_filter_name'),\r\n            filter_type:              props.t('ra_filter_type'),\r\n            filter_role:              props.t('ra_filter_role'),\r\n            filter_room:              props.t('ra_filter_room'),\r\n            filter_func:              props.t('ra_filter_func'),\r\n            filter_customs:           props.t('ra_filter_customs'), //\r\n            objectChangedByUser:      props.t('ra_object_changed_by_user'), // Object last changed at\r\n            objectChangedBy:          props.t('ra_object_changed_by'), // Object changed by\r\n            objectChangedFrom:        props.t('ra_state_changed_from'), // Object changed from\r\n            stateChangedBy:           props.t('ra_state_changed_by'), // State changed by\r\n            stateChangedFrom:         props.t('ra_state_changed_from'), // State changed from\r\n            ownerGroup:               props.t('ra_Owner group'),\r\n            ownerUser:                props.t('ra_Owner user'),\r\n\r\n            aclOwner_read_object:     props.t('ra_aclOwner_read_object'),\r\n            aclOwner_read_state:      props.t('ra_aclOwner_read_state'),\r\n            aclOwner_write_object:    props.t('ra_aclOwner_write_object'),\r\n            aclOwner_write_state:     props.t('ra_aclOwner_write_state'),\r\n            aclGroup_read_object:     props.t('ra_aclGroup_read_object'),\r\n            aclGroup_read_state:      props.t('ra_aclGroup_read_state'),\r\n            aclGroup_write_object:    props.t('ra_aclGroup_write_object'),\r\n            aclGroup_write_state:     props.t('ra_aclGroup_write_state'),\r\n            aclEveryone_read_object:  props.t('ra_aclEveryone_read_object'),\r\n            aclEveryone_read_state:   props.t('ra_aclEveryone_read_state'),\r\n            aclEveryone_write_object: props.t('ra_aclEveryone_write_object'),\r\n            aclEveryone_write_state:  props.t('ra_aclEveryone_write_state'),\r\n        };\r\n\r\n        this.calculateColumnsVisibility();\r\n\r\n        props.socket.getObjects(true, true)\r\n            .then(objects => {\r\n                this.systemConfig = objects['system.config'] || {};\r\n                this.systemConfig.common = this.systemConfig.common || {};\r\n                this.systemConfig.common.defaultNewAcl = this.systemConfig.common.defaultNewAcl || {};\r\n                this.systemConfig.common.defaultNewAcl.owner = this.systemConfig.common.defaultNewAcl.owner || 'system.user.admin';\r\n                this.systemConfig.common.defaultNewAcl.ownerGroup = this.systemConfig.common.defaultNewAcl.ownerGroup || 'system.group.administrator';\r\n                if (typeof this.systemConfig.common.defaultNewAcl.state !== 'number') {\r\n                    this.systemConfig.common.defaultNewAcl.state = 0x664;\r\n                }\r\n                if (typeof this.systemConfig.common.defaultNewAcl.object !== 'number') {\r\n                    this.systemConfig.common.defaultNewAcl.state = 0x664;\r\n                }\r\n\r\n                if (props.types) {\r\n                    this.objects = {};\r\n                    Object.keys(objects).forEach(id => {\r\n                        const type = objects[id] && objects[id].type;\r\n                        if (type && (\r\n                            type === 'channel'  ||\r\n                            type === 'device'   ||\r\n                            type === 'enum'     ||\r\n                            type === 'folder'   ||\r\n                            type === 'adapter'  ||\r\n                            type === 'instance' ||\r\n                            props.types.includes(type))) {\r\n                            this.objects[id] = objects[id];\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.objects = objects;\r\n                }\r\n\r\n                const { info, root } = buildTree(this.objects, this.props);\r\n                this.root = root;\r\n                this.info = info;\r\n\r\n                // Show first selected item\r\n                let node = this.state.selected && this.state.selected.length && findNode(this.root, this.state.selected[0]);\r\n\r\n                // If selected ID is not visible, reset filter\r\n                if (node && !applyFilter(node, this.state.filter, this.state.lang, this.objects, null, null, props.customFilter)) {\r\n                    // reset filter\r\n                    this.setState({ filter: Object.assign({}, DEFAULT_FILTER) }, () => {\r\n                        this.setState({ loaded: true }, () =>\r\n                            this.expandAllSelected(() =>\r\n                                this.onAfterSelect()));\r\n                    });\r\n                } else {\r\n                    this.setState({ loaded: true }, () =>\r\n                        this.expandAllSelected(() =>\r\n                            this.onAfterSelect()));\r\n                }\r\n            });\r\n\r\n        // read default history\r\n        props.socket.getCompactSystemConfig()\r\n            .then(config => {\r\n                this.defaultHistory = config && config.common && config.common.defaultHistory;\r\n                if (this.defaultHistory) {\r\n                    return props.socket.getState('system.adapter.' + this.defaultHistory + '.alive')\r\n                        .then(state => {\r\n                            if (!state || !state.val) {\r\n                                this.defaultHistory = '';\r\n                            }\r\n                        })\r\n                        .catch(e => window.alert('Cannot get state: ' + e));\r\n                }\r\n            })\r\n            .then(() => this.getAdditionalColumns())\r\n            .then(columnsForAdmin => {\r\n                this.calculateColumnsVisibility(null, null, columnsForAdmin);\r\n                this.setState({ columnsForAdmin });\r\n            })\r\n            .catch(e => this.showError(e));\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {ioBroker.EmptyCallback} cb\r\n     */\r\n    expandAllSelected(cb) {\r\n        let expanded = [...this.state.expanded];\r\n        let changed = false;\r\n        this.state.selected.forEach(id => {\r\n            const parts = id.split('.');\r\n            let path = [];\r\n            for (let i = 0; i < parts.length - 1; i++) {\r\n                path.push(parts[i]);\r\n                if (!expanded.includes(path.join('.'))) {\r\n                    expanded.push(path.join('.'));\r\n                    changed = true;\r\n                }\r\n            }\r\n        });\r\n        if (changed) {\r\n            expanded.sort();\r\n            window.localStorage.setItem(`${this.props.dialogName || 'App'}.objectExpanded`, JSON.stringify(expanded));\r\n            this.setState({ expanded }, cb)\r\n        } else {\r\n            cb && cb();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {boolean} [isDouble]\r\n     */\r\n    onAfterSelect(isDouble) {\r\n        this.lastSelectedItems = [...this.state.selected];\r\n        if (this.state.selected && this.state.selected.length) {\r\n            window.localStorage.setItem(`${this.props.dialogName || 'App'}.objectSelected`, JSON.stringify(this.lastSelectedItems));\r\n\r\n            const name = this.lastSelectedItems.length === 1 ? Utils.getObjectName(this.objects, this.lastSelectedItems[0], null, { language: this.state.lang }) : '';\r\n            this.props.onSelect && this.props.onSelect(this.lastSelectedItems, name, isDouble);\r\n        } else {\r\n            window.localStorage.setItem(`${this.props.dialogName || 'App'}.objectSelected`, '');\r\n            if (this.state.selected.length) {\r\n                this.setState({ selected: [] }, () => this.props.onSelect && this.props.onSelect([], ''));\r\n            } else {\r\n                this.props.onSelect && this.props.onSelect([], '');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {import('./types').ObjectBrowserProps} props\r\n     * @param {any} state\r\n     */\r\n    static getDerivedStateFromProps(props, state) {\r\n        const newState = {};\r\n        let changed = false;\r\n        if (props.expertMode !== undefined && props.expertMode !== state.filter.expertMode) {\r\n            changed = true;\r\n            newState.filter = Object.assign({}, state.filter);\r\n            newState.filter.expertMode = props.expertMode;\r\n        }\r\n        return changed ? newState : null;\r\n    }\r\n\r\n    /**\r\n     * Called when component is mounted.\r\n     */\r\n    componentDidMount() {\r\n        this.props.socket.subscribeObject('*', this.onObjectChange);\r\n    }\r\n\r\n    /**\r\n     * Called when component is unmounted.\r\n     */\r\n    componentWillUnmount() {\r\n        this.props.socket.unsubscribeObject('*', this.onObjectChange);\r\n\r\n        // remove all subscribes\r\n        this.subscribes.forEach(pattern => {\r\n            console.log('- unsubscribe ' + pattern);\r\n            this.props.socket.unsubscribeState(pattern, this.onStateChange);\r\n        });\r\n\r\n        this.subscribes = [];\r\n    }\r\n\r\n    /**\r\n     * Called when component is mounted.\r\n     */\r\n    async refreshComponent() {\r\n        try {\r\n            await this.props.socket.unsubscribeObject('*', this.onObjectChange);\r\n        } catch (e) {\r\n            window.alert('Cannot unsubscribe object: ' + e);\r\n        }\r\n\r\n        // remove all subscribes\r\n        this.subscribes.forEach(async pattern => {\r\n            console.log('- unsubscribe ' + pattern);\r\n            await this.props.socket.unsubscribeState(pattern, this.onStateChange);\r\n        });\r\n\r\n        this.subscribes = [];\r\n        await this.props.socket.subscribeObject('*', this.onObjectChange);\r\n    }\r\n\r\n    /**\r\n     * Renders the error dialog.\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderErrorDialog() {\r\n        return this.state.error ? <Dialog\r\n            open={true}\r\n            maxWidth=\"sm\"\r\n            fullWidth={true}\r\n            onClose={() => this.setState({ error: '' })}\r\n            aria-labelledby=\"error-dialog-title\"\r\n            aria-describedby=\"error-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{this.props.title || this.props.t('ra_Error')}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    {this.state.error}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"contained\" onClick={() => this.setState({ error: '' })} color=\"primary\" autoFocus><IconCheck className={this.props.classes.buttonIcon} />{this.props.t('ra_Ok')}</Button>\r\n            </DialogActions>\r\n        </Dialog> : null;\r\n    }\r\n\r\n    /**\r\n     * Show the error dialog.\r\n     * @param {any} error\r\n     */\r\n    showError(error) {\r\n        this.setState({ error: typeof error === 'object' ? (error && typeof error.toString === 'function' ? error.toString() : JSON.stringify(error)) : error });\r\n    }\r\n\r\n    /**\r\n     * Called when an item is selected/deselected.\r\n     * @param {string} toggleItem\r\n     * @param {boolean} [isDouble]\r\n     */\r\n    onSelect(toggleItem, isDouble) {\r\n        if (!this.props.multiSelect) {\r\n            if (this.objects[toggleItem] && (!this.props.types || this.props.types.includes(this.objects[toggleItem].type))) {\r\n                window.localStorage.removeItem(`${this.props.dialogName || 'App'}.selectedNonObject`);\r\n                if (this.state.selected[0] !== toggleItem) {\r\n                    this.setState({ selected: [toggleItem], selectedNonObject: '' }, () =>\r\n                        this.onAfterSelect(isDouble));\r\n                } else if (isDouble && this.props.onSelect) {\r\n                    this.onAfterSelect(isDouble);\r\n                }\r\n            } else {\r\n                window.localStorage.setItem(`${this.props.dialogName || 'App'}.selectedNonObject`, toggleItem);\r\n                this.setState({ selected: [], selectedNonObject: toggleItem }, () =>\r\n                    this.onAfterSelect());\r\n            }\r\n        } else {\r\n            if (this.objects[toggleItem] && (!this.props.types || this.props.types.includes(this.objects[toggleItem].type))) {\r\n                window.localStorage.removeItem(`${this.props.dialogName || 'App'}.selectedNonObject`);\r\n\r\n                const selected = [...this.state.selected];\r\n                const pos = selected.indexOf(toggleItem);\r\n                if (pos === -1) {\r\n                    selected.push(toggleItem);\r\n                    selected.sort();\r\n                } else if (!isDouble) {\r\n                    selected.splice(pos, 1);\r\n                }\r\n\r\n                this.setState({ selected, selectedNonObject: '' }, () =>\r\n                    this.onAfterSelect(isDouble));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {boolean} isLast\r\n     */\r\n    _renderDefinedList(isLast) {\r\n        const cols = [...this.possibleCols];\r\n        cols.unshift('id');\r\n        if (this.props.columns && !this.props.columns.includes('buttons')) {\r\n            const pos = cols.indexOf('buttons');\r\n            if (pos !== -1) {\r\n                cols.splice(pos, 1);\r\n            }\r\n        }\r\n        return cols\r\n            .filter(id => (isLast && (id === 'val' || id === 'buttons')) || (!isLast && id !== 'val' && id !== 'buttons'))\r\n            .map(id =>\r\n                <ListItem button onClick={() => {\r\n                    if (!this.state.columnsAuto && id !== 'id') {\r\n                        const columns = [...(this.state.columns || [])];\r\n                        const pos = columns.indexOf(id);\r\n                        if (pos === -1) {\r\n                            columns.push(id);\r\n                            columns.sort();\r\n                        } else {\r\n                            columns.splice(pos, 1);\r\n                        }\r\n                        window.localStorage.setItem((this.props.dialogName || 'App') + '.columns', JSON.stringify(columns));\r\n                        this.calculateColumnsVisibility(null, columns);\r\n                        this.setState({ columns });\r\n                    }\r\n                }} key={id}>\r\n                    {/* <ListItemIcon> */}\r\n                    <Checkbox\r\n                        edge=\"start\"\r\n                        disabled={id === 'id' || this.state.columnsAuto}\r\n                        checked={id === 'id' || (this.state.columnsAuto ? this.visibleCols.includes(id) : (this.state.columns && this.state.columns.includes(id)))}\r\n                        disableRipple\r\n                    />\r\n                    {/* </ListItemIcon> */}\r\n                    <ListItemText primary={this.texts['filter_' + id] || this.props.t('ra_' + id)} />\r\n                    <ListItemSecondaryAction>\r\n                        <FormControl className={this.props.classes.columnsDialogInputWidth} style={{ marginTop: 0, marginBottom: 0 }} margin=\"dense\">\r\n                            <Input\r\n                                classes={{ underline: 'no-underline' }}\r\n                                placeholder={this.props.t('ra_Width')}\r\n                                value={this.state.columnsWidths[id] || ''}\r\n                                onChange={e => {\r\n                                    const columnsWidths = JSON.parse(JSON.stringify(this.state.columnsWidths));\r\n                                    columnsWidths[id] = e.target.value;\r\n                                    window.localStorage.setItem((this.props.dialogName || 'App') + '.columnsWidths', JSON.stringify(columnsWidths));\r\n                                    this.calculateColumnsVisibility(null, null, null, columnsWidths);\r\n                                    this.setState({ columnsWidths });\r\n                                }}\r\n                                autoComplete=\"off\"\r\n                            />\r\n                        </FormControl>\r\n                    </ListItemSecondaryAction>\r\n                </ListItem>\r\n            );\r\n    }\r\n\r\n    /**\r\n     * Renders the columns selector.\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderColumnsSelectorDialog() {\r\n        if (!this.state.columnsSelectorShow) {\r\n            return null;\r\n        } else {\r\n            return <Dialog\r\n                onClose={() => this.setState({ columnsSelectorShow: false })}\r\n                open={true}\r\n                classes={{ root: Utils.clsx(this.props.classes.dialogColumns, this.props.classes['transparent_' + this.state.columnsDialogTransparent]) }}\r\n            >\r\n                <DialogTitle className={this.props.classes.fontSizeTitle}>{this.props.t('ra_Configure visible columns')}</DialogTitle>\r\n                <DialogContent className={this.props.classes.fontSizeTitle}>\r\n                    <FormControlLabel\r\n                        className={this.props.classes.switchColumnAuto}\r\n                        control={<Switch checked={this.state.columnsAuto} onChange={() => {\r\n                            window.localStorage.setItem((this.props.dialogName || 'App') + '.columnsAuto', this.state.columnsAuto ? 'false' : 'true');\r\n                            if (!this.state.columnsAuto) {\r\n                                this.calculateColumnsVisibility(true);\r\n                                this.setState({ columnsAuto: true });\r\n                            } else {\r\n                                if (!this.state.columns) {\r\n                                    this.calculateColumnsVisibility(false, [...this.visibleCols]);\r\n                                    this.setState({ columnsAuto: false, columns: [...this.visibleCols] });\r\n                                } else {\r\n                                    this.calculateColumnsVisibility(false);\r\n                                    this.setState({ columnsAuto: false });\r\n                                }\r\n                            }\r\n                        }} />}\r\n                        label={this.props.t('ra_Auto (no custom columns)')}\r\n                    />\r\n                    <FormControlLabel\r\n                        className={this.props.classes.switchColumnAuto}\r\n                        control={<Switch checked={this.state.foldersFirst} onChange={() => {\r\n                            window.localStorage.setItem((this.props.dialogName || 'App') + '.foldersFirst', this.state.foldersFirst ? 'false' : 'true');\r\n                            this.setState({ foldersFirst: !this.state.foldersFirst });\r\n                        }} />}\r\n                        label={this.props.t('ra_Folders always first')}\r\n                    />\r\n                    <Typography classes={{ root: this.props.classes.dialogColumnsLabel }}>{this.props.t('ra_Transparent dialog')}</Typography>\r\n                    <Slider classes={{ root: this.props.classes.width100 }} value={this.state.columnsDialogTransparent} min={20} max={100} step={10} onChange={(event, newValue) =>\r\n                        this.setState({ columnsDialogTransparent: newValue })\r\n                    } />\r\n                    <List>\r\n                        {this._renderDefinedList(false)}\r\n\r\n                        {this.state.columnsForAdmin && Object.keys(this.state.columnsForAdmin).sort().map(adapter =>\r\n                            this.state.columnsForAdmin[adapter].map(column =>\r\n                                <ListItem button onClick={() => {\r\n                                    if (!this.state.columnsAuto) {\r\n                                        const columns = [...(this.state.columns || [])];\r\n                                        const id = '_' + adapter + '_' + column.path;\r\n                                        const pos = columns.indexOf(id);\r\n                                        if (pos === -1) {\r\n                                            columns.push(id);\r\n                                            columns.sort();\r\n                                        } else {\r\n                                            columns.splice(pos, 1);\r\n                                        }\r\n                                        this.calculateColumnsVisibility(null, columns);\r\n                                        window.localStorage.setItem((this.props.dialogName || 'App') + '.columns', JSON.stringify(columns));\r\n                                        this.setState({ columns });\r\n                                    }\r\n                                }} key={adapter + '_' + column.name}>\r\n                                    <ListItemIcon>\r\n                                        <Checkbox\r\n                                            disabled={this.state.columnsAuto}\r\n                                            edge=\"start\"\r\n                                            checked={!this.state.columnsAuto && this.state.columns && this.state.columns.includes('_' + adapter + '_' + column.path)}\r\n                                            disableRipple\r\n                                        />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary={column.name + ' (' + adapter + ')'} />\r\n                                    <ListItemSecondaryAction>\r\n                                        <FormControl className={this.props.classes.columnsDialogInputWidth} style={{ marginTop: 0, marginBottom: 0 }} margin=\"dense\">\r\n                                            <Input\r\n                                                classes={{ underline: 'no-underline' }}\r\n                                                placeholder={this.props.t('ra_Width')}\r\n                                                value={this.state.columnsWidths['_' + adapter + '_' + column.path] || ''}\r\n                                                onChange={e => {\r\n                                                    const columnsWidths = JSON.parse(JSON.stringify(this.state.columnsWidths));\r\n                                                    columnsWidths['_' + adapter + '_' + column.path] = e.target.value;\r\n                                                    window.localStorage.setItem((this.props.dialogName || 'App') + '.columnsWidths', JSON.stringify(columnsWidths));\r\n                                                    this.calculateColumnsVisibility(null, null, null, columnsWidths);\r\n                                                    this.setState({ columnsWidths });\r\n                                                }}\r\n                                                autoComplete=\"off\"\r\n                                            />\r\n                                        </FormControl>\r\n                                    </ListItemSecondaryAction>\r\n                                </ListItem>\r\n                            )\r\n                        )}\r\n                        {this._renderDefinedList(true)}\r\n                    </List>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" onClick={() => this.setState({ columnsSelectorShow: false })} color=\"primary\">\r\n                        <IconClose className={this.props.classes.buttonIcon} />{this.texts['close']}\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    getAdditionalColumns() {\r\n        return this.props.socket.getAdapters()\r\n            .then(instances => {\r\n                let columnsForAdmin = null;\r\n                // find all additional columns\r\n                instances.forEach(obj =>\r\n                    columnsForAdmin = this.parseObjectForAdmins(columnsForAdmin, obj));\r\n\r\n                return columnsForAdmin;\r\n            })\r\n            .catch(e => window.alert('Cannot get adapters: ' + e));\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    checkUnsubscribes() {\r\n        // Remove unused subscribed\r\n        for (let i = this.subscribes.length - 1; i >= 0; i--) {\r\n            !this.recordStates.includes(this.subscribes[i]) &&\r\n                this.unsubscribe(this.subscribes[i]);\r\n        }\r\n        this.recordStates = [];\r\n    }\r\n\r\n    /**\r\n     * Find an item.\r\n     * @param {string} id\r\n     * @param {string[] | undefined} [_parts]\r\n     * @param {{ data: { name: string; id: string; }; children: never[]; } | null | undefined} [_root]\r\n     * @param {string | undefined} [_partyId]\r\n     * @returns {any}\r\n     */\r\n    findItem(id, _parts, _root, _partyId) {\r\n        _parts = _parts || id.split('.');\r\n        _root = _root || this.root;\r\n        if (!_root || !_parts.length) {\r\n            return null;\r\n        }\r\n\r\n        _partyId = (_partyId ? _partyId + '.' : '') + _parts.shift();\r\n\r\n        if (_root.children) {\r\n            const item = _root.children.find(i => i.data.id === _partyId);\r\n            if (item) {\r\n                if (item.data.id === id) {\r\n                    return item;\r\n                } else if (_parts.length) {\r\n                    return this.findItem(id, _parts, item, _partyId);\r\n                }\r\n            } else {\r\n                return null;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when a state changes.\r\n     * @param {string} id\r\n     * @param {ioBroker.State} state\r\n     */\r\n    onStateChange = (id, state) => {\r\n        console.log('> stateChange ' + id);\r\n        if (this.states[id]) {\r\n            const item = this.findItem(id);\r\n            if (item && item.data.state) {\r\n                item.data.state = null;\r\n            }\r\n        }\r\n        this.states[id] = state;\r\n\r\n        if (!this.pausedSubscribes) {\r\n            if (!this.statesUpdateTimer) {\r\n                this.statesUpdateTimer = setTimeout(() => {\r\n                    this.statesUpdateTimer = null;\r\n                    this.forceUpdate();\r\n                }, 300);\r\n            }\r\n        } else {\r\n            if (this.statesUpdateTimer) {\r\n                clearTimeout(this.statesUpdateTimer);\r\n                this.statesUpdateTimer = null;\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @private\r\n     * @param {{ [x: string]: any; }} columnsForAdmin\r\n     * @param {any} obj\r\n     */\r\n    parseObjectForAdmins(columnsForAdmin, obj) {\r\n        if (obj.common && obj.common.adminColumns && obj.common.name) {\r\n            let columns = obj.common.adminColumns;\r\n            if (typeof columns !== 'object') {\r\n                columns = [columns];\r\n            }\r\n            columns = columns.map(item => {\r\n                if (typeof item !== 'object') {\r\n                    return { path: item, name: item.split('.').pop() };\r\n                }\r\n\r\n                // string => array\r\n                if (item.objTypes && typeof item.objTypes !== 'object') {\r\n                    item.objTypes = [item.objTypes];\r\n                } else if (!item.objTypes) {\r\n                    item.objTypes = null;\r\n                }\r\n\r\n                if (!item.name && item.path) {\r\n                    return { path: item.path, name: item.path.split('.').pop(), width: item.width, edit: !!item.edit, type: item.type, objTypes: item.objTypes };\r\n                }\r\n                if (typeof item.name !== 'object' && item.path) {\r\n                    return { path: item.path, name: item.name, width: item.width, edit: !!item.edit, type: item.type, objTypes: item.objTypes };\r\n                }\r\n                if (!item.path) {\r\n                    console.warn(`Admin columns for ${obj._id} ignored, because path not found`);\r\n                    return null;\r\n                } else {\r\n                    return { path: item.path, name: item.name[this.props.lang] || item.name.en, width: item.width, edit: !!item.edit, type: item.type, objTypes: item.objTypes };\r\n                }\r\n            }).filter(item => item);\r\n\r\n            if (columns && columns.length) {\r\n                columnsForAdmin = columnsForAdmin || {};\r\n                columnsForAdmin[obj.common.name] = columns.sort((a, b) => a.path > b.path ? -1 : (a.path < b.path ? 1 : 0));\r\n            }\r\n        } else if (obj.common && obj.common.name && columnsForAdmin && columnsForAdmin[obj.common.name]) {\r\n            delete columnsForAdmin[obj.common.name];\r\n        }\r\n        return columnsForAdmin;\r\n    }\r\n\r\n    /**\r\n     * @param {string} id\r\n     * @param {ioBroker.Object} obj\r\n     * @param {import('./types').OldObject} oldObj\r\n     */\r\n    onObjectChange = (id, obj, oldObj) => {\r\n        console.log('> objectChange ' + id);\r\n\r\n        this.objects = this.objects || [];\r\n\r\n        if (id.startsWith('system.adapter.') && obj && obj.type === 'adapter') {\r\n            let columnsForAdmin = JSON.parse(JSON.stringify(this.state.columnsForAdmin));\r\n            this.parseObjectForAdmins(columnsForAdmin, obj);\r\n            if (JSON.stringify(this.state.columnsForAdmin) !== JSON.stringify(columnsForAdmin)) {\r\n                this.setState({ columnsForAdmin });\r\n            }\r\n        }\r\n\r\n        if (this.objects[id]) {\r\n            if (obj) {\r\n                this.objects[id] = obj;\r\n            } else {\r\n                delete this.objects[id];\r\n            }\r\n        } else if (this.objects[id]) {\r\n            delete this.objects[id];\r\n        }\r\n\r\n        if (!this.objectsUpdateTimer) {\r\n            this.objectsUpdateTimer = setTimeout(() => {\r\n                this.objectsUpdateTimer = null;\r\n                const { info, root } = buildTree(this.objects, this.props);\r\n                this.root = root;\r\n                this.info = info;\r\n                this.lastAppliedFilter = null; // apply filter anew\r\n\r\n                if (!this.pausedSubscribes) {\r\n                    this.forceUpdate();\r\n                }\r\n                // else it will be re-rendered when dialog will be closed\r\n            }, 500);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} id\r\n     */\r\n    subscribe(id) {\r\n        if (this.subscribes.indexOf(id) === -1) {\r\n            this.subscribes.push(id);\r\n            console.log('+ subscribe ' + id);\r\n            if (!this.pausedSubscribes) {\r\n                this.props.socket.subscribeState(id, this.onStateChange);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} id\r\n     */\r\n    unsubscribe(id) {\r\n        const pos = this.subscribes.indexOf(id);\r\n        if (pos !== -1) {\r\n            this.subscribes.splice(pos, 1);\r\n            if (this.states[id]) {\r\n                delete this.states[id];\r\n            }\r\n            console.log('- unsubscribe ' + id);\r\n            this.props.socket.unsubscribeState(id, this.onStateChange);\r\n\r\n            if (this.pausedSubscribes) {\r\n                console.warn('Unsubscribe during pause?');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {boolean} isPause\r\n     */\r\n    pauseSubscribe(isPause) {\r\n        if (!this.pausedSubscribes && isPause) {\r\n            this.pausedSubscribes = true;\r\n            this.subscribes.forEach(id => this.props.socket.unsubscribeState(id, this.onStateChange));\r\n        } else if (this.pausedSubscribes && !isPause) {\r\n            this.pausedSubscribes = false;\r\n            this.subscribes.forEach(id => this.props.socket.subscribeState(id, this.onStateChange));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} [name]\r\n     * @param {boolean} [value]\r\n     */\r\n    onFilter(name, value) {\r\n        this.filterTimer = null;\r\n        let filter = {};\r\n\r\n        Object.keys(this.filterRefs).forEach(name => {\r\n            if (this.filterRefs[name] && this.filterRefs[name].current) {\r\n                for (let i = 0; i < this.filterRefs[name].current.children.length; i++) {\r\n                    if (this.filterRefs[name].current.children[i].tagName === 'INPUT') {\r\n                        filter[name] = this.filterRefs[name].current.children[i].value;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if (name) {\r\n            filter[name] = value;\r\n            if (name === 'expertMode') {\r\n                window.sessionStorage.setItem('App.expertMode', value ? 'true' : 'false');\r\n            }\r\n        }\r\n\r\n        filter = Object.assign({}, this.state.filter, filter);\r\n\r\n        if (JSON.stringify(this.state.filter) !== JSON.stringify(filter)) {\r\n            window.localStorage.setItem((this.props.dialogName || 'App') + '.objectFilter', JSON.stringify(filter));\r\n            this.setState({ filter }, () =>\r\n                this.props.onFilterChanged && this.props.onFilterChanged(filter));\r\n        }\r\n    }\r\n\r\n    clearFilter() {\r\n        let filter = {};\r\n\r\n        Object.keys(this.filterRefs).forEach(name => {\r\n            if (this.filterRefs[name] && this.filterRefs[name].current) {\r\n                for (let i = 0; i < this.filterRefs[name].current.childNodes.length; i++) {\r\n                    const item = this.filterRefs[name].current.childNodes[i];\r\n                    if (item.tagName === 'INPUT') {\r\n                        filter[name] = '';\r\n                        item.value = '';\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        filter = Object.assign({}, this.state.filter, filter);\r\n\r\n        if (JSON.stringify(this.state.filter) !== JSON.stringify(filter)) {\r\n            window.localStorage.setItem((this.props.dialogName || 'App') + '.objectFilter', JSON.stringify(filter));\r\n            this.setState({ filter, filterKey: this.state.filterKey + 1 }, () =>\r\n                this.props.onFilterChanged && this.props.onFilterChanged(filter));\r\n        }\r\n    }\r\n\r\n    isFilterEmpty() {\r\n        const someNotEmpty = Object.keys(this.state.filter).find(attr =>\r\n            attr !== 'expertMode' && this.state.filter[attr]);\r\n        return !someNotEmpty;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} name\r\n     */\r\n    getFilterInput(name) {\r\n        return <FormControl\r\n            className={Utils.clsx(this.props.classes.headerCellInput, this.props.classes.filterInput)}\r\n            key={name + '_' + this.state.filterKey}\r\n            //style={{ marginTop: 0, marginBottom: 0 }}\r\n            margin=\"dense\"\r\n        >\r\n            <Input\r\n                ref={this.filterRefs[name]}\r\n                classes={{ underline: 'no-underline' }}\r\n                id={name}\r\n                placeholder={this.texts['filter_' + name]}\r\n                defaultValue={this.state.filter[name]}\r\n                onChange={e => {\r\n                    this.filterTimer && clearTimeout(this.filterTimer);\r\n                    this.filterTimer = setTimeout(() => this.onFilter(), 400);\r\n                }}\r\n                autoComplete=\"off\"\r\n            />\r\n            {this.filterRefs[name]?.current?.firstChild.value ?\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    right: 0\r\n                }}>\r\n                    <IconButton\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                            this.filterRefs[name].current.firstChild.value = '';\r\n                            this.onFilter(name, '');\r\n                        }}\r\n                    >\r\n                        <IconClose />\r\n                    </IconButton>\r\n                </div> : null}\r\n        </FormControl>;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} name\r\n     * @param {any[]} values\r\n     */\r\n    getFilterSelect(name, values) {\r\n        const hasIcons = !!values.find(item => item.icon);\r\n        return <div style={{ position: 'relative' }}>\r\n            <Select\r\n                key={name + '_' + this.state.filterKey}\r\n                ref={this.filterRefs[name]}\r\n                className={this.props.classes.headerCellInput + ' no-underline'}\r\n                onChange={e => {\r\n                    this.filterTimer && clearTimeout(this.filterTimer);\r\n                    this.filterTimer = setTimeout(() => this.onFilter(), 400);\r\n                }}\r\n                defaultValue={this.state.filter[name] || ''}\r\n                inputProps={{ name, id: name }}\r\n                displayEmpty={true}\r\n            >\r\n                <MenuItem key=\"empty\" value=\"\"><span className={this.props.classes.selectNone}>{this.texts['filter_' + name]}</span></MenuItem>\r\n                {values.map(item => {\r\n                    let id;\r\n                    let name;\r\n                    let icon;\r\n                    if (typeof item === 'object') {\r\n                        id   = item.value;\r\n                        name = item.name;\r\n                        icon = item.icon;\r\n                    } else {\r\n                        id = item;\r\n                        name = item;\r\n                    }\r\n                    return <MenuItem className={this.props.classes.headerCellSelectItem} key={id} value={id}>\r\n                        {icon ? icon : (hasIcons ? <div className=\"itemIcon\" /> : null)}\r\n                        {name}\r\n                    </MenuItem>;\r\n                })}\r\n            </Select>\r\n            {this.filterRefs[name]?.current?.childNodes[1]?.value ?\r\n                <div className={this.props.classes.backgroundDef} style={{\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    right: 0,\r\n                    borderRadius: 20\r\n                }}>\r\n                    <IconButton\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                            const newFilter = { ...this.state.filter };\r\n                            newFilter[name] = '';\r\n                            this.filterRefs[name].current.childNodes[1].value = \"\";\r\n                            window.localStorage.setItem((this.props.dialogName || 'App') + '.objectFilter', JSON.stringify(newFilter));\r\n                            this.setState({ filter: newFilter, filterKey: this.state.filterKey + 1 }, () =>\r\n                                this.props.onFilterChanged && this.props.onFilterChanged(newFilter));\r\n                        }}\r\n                    >\r\n                        <IconClose />\r\n                    </IconButton>\r\n                </div> : null}\r\n        </div>;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    getFilterSelectRole() {\r\n        return this.getFilterSelect('role', this.info.roles);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    getFilterSelectRoom() {\r\n        const rooms = this.info.roomEnums.map(id => ({\r\n            name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()),\r\n            value: id,\r\n        }));\r\n\r\n        return this.getFilterSelect('room', rooms);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    getFilterSelectFunction() {\r\n        const func = this.info.funcEnums.map(id => ({\r\n            name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()),\r\n            value: id\r\n        }));\r\n        return this.getFilterSelect('func', func);\r\n\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    getFilterSelectType() {\r\n        const types = this.info.types.map(type => ({\r\n            name: type,\r\n            value: type,\r\n            icon: ITEM_IMAGES[type]\r\n        }));\r\n\r\n        return this.getFilterSelect('type', types);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    getFilterSelectCustoms() {\r\n        if (this.info.customs.length) {\r\n            return this.getFilterSelect('custom', this.info.customs);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {any} [root]\r\n     * @param {any[]} [expanded]\r\n     */\r\n    onExpandAll(root, expanded) {\r\n        root = root || this.root;\r\n        expanded = expanded || [];\r\n\r\n        root.children && root.children.forEach(item => {\r\n            if (item.data.hasVisibleChildren) {\r\n                expanded.push(item.data.id);\r\n                this.onExpandAll(item, expanded);\r\n            }\r\n        });\r\n\r\n        if (root === this.root) {\r\n            expanded.sort();\r\n            window.localStorage.setItem((this.props.dialogName || 'App') + '.objectExpanded', JSON.stringify(expanded));\r\n\r\n            this.setState({ expanded });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    onCollapseAll() {\r\n        window.localStorage.setItem((this.props.dialogName || 'App') + '.objectExpanded', JSON.stringify([]));\r\n        this.setState({ expanded: [], depth: 0 });\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {any} root\r\n     * @param {number} depth\r\n     * @param {any[]} expanded\r\n     */\r\n    expandDepth(root, depth, expanded) {\r\n        root = root || this.root;\r\n        if (depth > 0) {\r\n            if (root.children) {\r\n                root.children.forEach(item => {\r\n                    if (item.data.visible || item.data.hasVisibleChildren) {\r\n                        if (!binarySearch(expanded, item.data.id)) {\r\n                            expanded.push(item.data.id);\r\n                            expanded.sort();\r\n                        }\r\n                        if (depth - 1 > 0) {\r\n                            this.expandDepth(item, depth - 1, expanded);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {number} depth\r\n     * @param {any[]} expanded\r\n     */\r\n    collapseDepth(depth, expanded) {\r\n        return expanded.filter(id => id.split('.').length <= depth);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    onExpandVisible() {\r\n        if (this.state.depth < 9) {\r\n            const depth = this.state.depth + 1;\r\n            const expanded = [...this.state.expanded];\r\n            this.expandDepth(this.root, depth, expanded);\r\n            window.localStorage.setItem((this.props.dialogName || 'App') + '.objectExpanded', JSON.stringify(expanded));\r\n            this.setState({ depth, expanded });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    onStatesViewVisible() {\r\n        const statesView = !this.state.statesView;\r\n        window.localStorage.setItem((this.props.dialogName || 'App') + '.objectStatesView', JSON.stringify(statesView));\r\n        this.setState({ statesView });\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    onCollapseVisible() {\r\n        if (this.state.depth > 0) {\r\n            const depth = this.state.depth - 1;\r\n            const expanded = this.collapseDepth(depth, this.state.expanded);\r\n            window.localStorage.setItem((this.props.dialogName || 'App') + '.objectExpanded', JSON.stringify(expanded));\r\n            this.setState({ depth, expanded });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} id\r\n     */\r\n    getEnumsForId = id => {\r\n        let result = [];\r\n        this.info.enums.forEach(_id => {\r\n            if (this.objects[_id]?.common?.members?.includes(id)) {\r\n                const en = {\r\n                    _id: this.objects[_id]._id,\r\n                    common: JSON.parse(JSON.stringify(this.objects[_id].common)),\r\n                    native: this.objects[_id].native\r\n                };\r\n                if (en.common) {\r\n                    delete en.common.members;\r\n                    delete en.common.custom;\r\n                    delete en.common.mobile;\r\n                }\r\n                result.push(en);\r\n            }\r\n        });\r\n\r\n        return result.length ? result : undefined;\r\n    };\r\n\r\n    /**\r\n     * @private\r\n     * @param {array} enums\r\n     * @param {string} objId\r\n     */\r\n    _createAllEnums = async (enums, objId) => {\r\n        for (let e = 0; e < enums.length; e++) {\r\n            let id = enums[e];\r\n            let _enObj;\r\n            if (typeof id === 'object') {\r\n                _enObj = id;\r\n                id = id._id;\r\n            }\r\n            let enObj = this.objects[id];\r\n            if (!enObj) {\r\n                enObj = _enObj || {\r\n                    _id: id,\r\n                    common: {\r\n                        name: id.split('.').pop(),\r\n                        members: [],\r\n                    },\r\n                    native: {}\r\n                };\r\n\r\n                enObj.common = enObj.common || {};\r\n                enObj.common.members = [objId];\r\n\r\n                await this.props.socket.setObject(id, enObj);\r\n            } else if (!enObj.common?.members?.includes(objId)) {\r\n                enObj.common = enObj.common || {};\r\n                enObj.common.members = enObj.common.members || [];\r\n                // add missing object\r\n                enObj.common.members.push(objId);\r\n                enObj.common.members.sort();\r\n                await this.props.socket.setObject(id, enObj);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {any} callback\r\n     */\r\n    loadObjects = async objs => {\r\n        if (objs) {\r\n            for (let id in objs) {\r\n                if (!objs.hasOwnProperty(id) || !objs[id]) {\r\n                    continue;\r\n                }\r\n                const obj = objs[id];\r\n                let enums = null;\r\n                if (obj && obj.common && obj.common.enums) {\r\n                    enums = obj.common.enums;\r\n                    delete obj.common.enums;\r\n                } else {\r\n                    enums = null;\r\n                }\r\n                try {\r\n                    await this.props.socket.setObject(id, obj);\r\n                    enums && await this._createAllEnums(enums, obj._id);\r\n                    if (obj.type === 'state') {\r\n                        try {\r\n                            const state = await this.props.socket.getState(obj._id);\r\n                            if (!state || state.val === null) {\r\n                                try {\r\n                                    await this.props.socket.setState(obj._id, !obj.common || obj.common.def === undefined ? null : obj.common.def, true);\r\n                                } catch (e) {\r\n                                    window.alert(`Cannot set state \"${obj._id}\": ${e}`);\r\n                                }\r\n                            }\r\n                        } catch (e) {\r\n                            window.alert(`Cannot read state \"${obj._id}\": ${e}`);\r\n                        }\r\n                    }\r\n                } catch (error) {\r\n                    window.alert(error);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _getSelectedIdsForExport() {\r\n        if (this.state.selected.length || this.state.selectedNonObject) {\r\n            const result = [];\r\n            const keys = Object.keys(this.objects);\r\n            const id = this.state.selected[0] || this.state.selectedNonObject;\r\n            const idDot = id + '.';\r\n            const idLen = idDot.length;\r\n            for (let k = 0; k < keys.length; k++) {\r\n                const key = keys[k];\r\n                if (id === key || key.startsWith(idDot)) {\r\n                    result.push(key);\r\n                }\r\n                if (key.substring(0, idLen) > idDot) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n           return result;\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n    _exportObjects(isAll) {\r\n        if (isAll) {\r\n            generateFile('allObjects.json', this.objects);\r\n        } else\r\n        if (this.state.selected.length || this.state.selectedNonObject) {\r\n            const result = {};\r\n            const id = this.state.selected[0] || this.state.selectedNonObject;\r\n\r\n            this._getSelectedIdsForExport().forEach(key => {\r\n                result[key] = JSON.parse(JSON.stringify(this.objects[key]));\r\n                // add enum information\r\n                if (result[key].common) {\r\n                    const enums = this.getEnumsForId(key);\r\n                    if (enums) {\r\n                        result[key].common.enums = enums;\r\n                    }\r\n                }\r\n            });\r\n\r\n            generateFile(id + '.json', result);\r\n        } else {\r\n            window.alert(this.props.t('ra_Save of objects-tree is not possible'));\r\n        }\r\n    }\r\n\r\n    renderExportDialog() {\r\n        if (this.state.showExportDialog === false) {\r\n            return null;\r\n        } else {\r\n            return <Dialog open={true}>\r\n                <DialogTitle>{this.props.t('Select type of export')}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {this.props.t('You can export all objects or just the selected branch.')}\r\n                        <br/>\r\n                        {this.props.t('Selected %s object(s)', this.state.showExportDialog)}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" onClick={() => this.setState({showExportDialog: false}, () => this._exportObjects(true))}>{this.props.t('All objects')}</Button>\r\n                    <Button variant=\"contained\" autoFocus color=\"primary\" onClick={() => this.setState({showExportDialog: false}, () => this._exportObjects(false))}>{this.props.t('Only selected')}</Button>\r\n                    <Button variant=\"contained\" onClick={() => this.setState({showExportDialog: false})}>{this.props.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {object} evt\r\n     */\r\n    handleJsonUpload = evt => {\r\n        let f = evt.target.files[0];\r\n        if (f) {\r\n            let r = new FileReader();\r\n            r.onload = async e => {\r\n                let contents = e.target.result;\r\n                try {\r\n                    let json = JSON.parse(contents);\r\n                    let len = Object.keys(json).length;\r\n                    let id = json._id;\r\n                    if (id === undefined && len) {\r\n                        await this.loadObjects(json);\r\n                        window.alert(this.props.t('ra_%s object(s) processed', len));\r\n                    } else {\r\n                        // it is only one object in form\r\n                        // {\r\n                        //    \"_id\": \"xxx\",\r\n                        //   \"common\": \"yyy\",\r\n                        //   \"native\": \"zzz\"\r\n                        // }\r\n                        if (!id) {\r\n                            return window.alert(this.props.t('ra_Invalid structure'));\r\n                        }\r\n                        try {\r\n                            let enums;\r\n                            if (json.common.enums) {\r\n                                enums = json.common.enums;\r\n                                delete json.common.enums;\r\n                            }\r\n                            await this.props.socket.setObject(json._id, json);\r\n                            if (json.type === 'state') {\r\n                                const state = await this.props.socket.getState(json._id);\r\n                                if (!state || state.val === null || state.val === undefined) {\r\n                                    await this.props.socket.getState(json._id, json.common.def === undefined ? null : json.common.def, true);\r\n                                }\r\n                            }\r\n                            if (enums) {\r\n                                await this._createAllEnums(enums, json._id);\r\n                            }\r\n\r\n                            window.alert(this.props.t('ra_%s was imported', json._id));\r\n                        } catch (err) {\r\n                            window.alert(err);\r\n                        }\r\n                    }\r\n                } catch (err) {\r\n                    window.alert(err);\r\n                }\r\n            };\r\n            r.readAsText(f);\r\n        } else {\r\n            window.alert(this.props.t('ra_Failed to open JSON File'));\r\n        }\r\n    }\r\n\r\n    toolTipObjectCreating = () => {\r\n        const { t } = this.props;\r\n\r\n        let value = [\r\n            <div key={1}>{t('ra_Only following structures of objects are available:')}</div>,\r\n            <div key={2}>{t('ra_Folder → State')}</div>,\r\n            <div key={3}>{t('ra_Folder → Channel → State')}</div>,\r\n            <div key={4}>{t('ra_Folder → Device → Channel → State')}</div>,\r\n            <div key={5}>{t('ra_Device → Channel → State')}</div>,\r\n            <div key={6}>{t('ra_Channel → State')}</div>,\r\n            <div key={7} style={{height: 10}}/>,\r\n            <div key={8}>{t('ra_Non-experts may create new objects only in \"0_userdata.0\" or \"alias.0\".')}</div>,\r\n            <div key={9}>{t('ra_The experts may create objects everywhere but from second level (e.g. \"vis.0\" or \"javascript.0\").')}</div>,\r\n        ];\r\n\r\n        if (this.state.selected.length || this.state.selectedNonObject) {\r\n            const id = this.state.selected[0] || this.state.selectedNonObject;\r\n            if (id.split('.').length < 2 || (this.objects[id] && this.objects[id]?.type === 'state')) {\r\n            } else {\r\n                if (this.props.expertMode) {\r\n                    switch (this.objects[id]?.type) {\r\n                        case 'device':\r\n                            value = [\r\n                                <div key={1}>{t('ra_Only following structures of objects are available:')}</div>,\r\n                                <div key={5}>{t('ra_Device → Channel → State')}</div>,\r\n                            ];\r\n                            break\r\n                        case 'folder':\r\n                            value = [\r\n                                <div key={1}>{t('ra_Only following structures of objects are available:')}</div>,\r\n                                <div key={2}>{t('ra_Folder → State')}</div>,\r\n                                <div key={3}>{t('ra_Folder → Channel → State')}</div>,\r\n                                <div key={4}>{t('ra_Folder → Device → Channel → State')}</div>,\r\n                            ];\r\n                            break\r\n                        case 'channel':\r\n                            value = [\r\n                                <div key={1}>{t('ra_Only following structures of objects are available:')}</div>,\r\n                                <div key={1}>{t('ra_Channel → State')}</div>,\r\n                            ];\r\n                            break\r\n                        default:\r\n                            break\r\n                    }\r\n                } else if (id.startsWith('alias.0') || id.startsWith('0_userdata')) {\r\n                    value = [\r\n                        <div key={1}>{t('ra_Only following structures of objects are available:')}</div>,\r\n                        <div key={7}>{t('ra_Non-experts may create new objects only in \"0_userdata.0\" or \"alias.0\".')}</div>,\r\n                        <div key={8}>{t('ra_The experts may create objects everywhere but from second level (e.g. \"vis.0\" or \"javascript.0\").')}</div>,\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n        return value.length ? value : t('ra_Add new child object to selected parent');\r\n    }\r\n\r\n    /**\r\n     * Renders the toolbar.\r\n     * @returns {JSX.Element}\r\n     */\r\n    getToolbar() {\r\n        let allowObjectCreation = false;\r\n        if (this.state.selected.length || this.state.selectedNonObject) {\r\n            const id = this.state.selected[0] || this.state.selectedNonObject;\r\n\r\n            if (id.split('.').length < 2 || (this.objects[id] && this.objects[id].type === 'state')) {\r\n                allowObjectCreation = false;\r\n            } else {\r\n                if (this.props.expertMode) {\r\n                    allowObjectCreation = true;\r\n                } else if (id.startsWith('alias.0') || id.startsWith('0_userdata')) {\r\n                    allowObjectCreation = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return <div style={{\r\n            display: 'flex',\r\n            width: '100%',\r\n            alignItems: 'center'\r\n        }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                width: '100%',\r\n                alignItems: 'center'\r\n            }}>\r\n\r\n                <Tooltip title={this.props.t('ra_Refresh tree')}>\r\n                    <IconButton onClick={() => this.refreshComponent()}>\r\n                        <RefreshIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                {this.props.showExpertButton &&\r\n                    <Tooltip title={this.props.t('ra_expertMode')}>\r\n                        <IconButton\r\n                            key=\"expertMode\"\r\n                            color={this.state.filter.expertMode ? 'secondary' : 'default'}\r\n                            onClick={() => this.onFilter('expertMode', !this.state.filter.expertMode)}\r\n                        >\r\n                            <IconExpert />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n                {!this.props.disableColumnSelector &&\r\n                    <Tooltip title={this.props.t('ra_Configure visible columns')}>\r\n                        <IconButton\r\n                            key=\"columnSelector\"\r\n                            color={this.state.columnsAuto ? 'primary' : 'default'}\r\n                            onClick={() => this.setState({ columnsSelectorShow: true })}\r\n                        >\r\n                            <IconColumns />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n                {this.state.expandAllVisible &&\r\n                    <Tooltip title={this.props.t('ra_Expand all nodes')}>\r\n                        <IconButton\r\n                            key=\"expandAll\"\r\n                            onClick={() => this.onExpandAll()}\r\n                        >\r\n                            <IconOpen />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n                <Tooltip title={this.props.t('ra_Collapse all nodes')}>\r\n                    <IconButton\r\n                        key=\"collapseAll\"\r\n                        onClick={() => this.onCollapseAll()}\r\n                    >\r\n                        <IconClosed />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title={this.props.t('ra_Expand one step node')}>\r\n                    <IconButton\r\n                        key=\"expandVisible\"\r\n                        color=\"primary\"\r\n                        onClick={() => this.onExpandVisible()}\r\n                    >\r\n                        <StyledBadge badgeContent={this.state.depth} color=\"secondary\">\r\n                            <IconOpen />\r\n                        </StyledBadge>\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title={this.props.t('ra_Collapse one step node')}>\r\n                    <IconButton\r\n                        key=\"collapseVisible\"\r\n                        color=\"primary\"\r\n                        onClick={() => this.onCollapseVisible()}\r\n                    >\r\n                        <StyledBadge badgeContent={this.state.depth} color=\"secondary\">\r\n                            <IconClosed />\r\n                        </StyledBadge>\r\n                    </IconButton>\r\n                </Tooltip>\r\n                {this.props.objectStatesView && <Tooltip title={this.props.t('ra_Toggle the states view')}>\r\n                    <IconButton onClick={() => this.onStatesViewVisible()}>\r\n                        <LooksOneIcon color={this.state.statesView ? 'primary' : 'inherit'} />\r\n                    </IconButton>\r\n                </Tooltip>}\r\n\r\n                {this.props.objectAddBoolean ?\r\n                    (<Tooltip title={this.toolTipObjectCreating()}>\r\n                        <div>\r\n                            <IconButton disabled={!allowObjectCreation} onClick={() =>\r\n                                this.setState({ modalNewObj: true })}\r\n                            >\r\n                                <AddIcon />\r\n                            </IconButton>\r\n                        </div>\r\n                    </Tooltip>\r\n                    ) : null\r\n                }\r\n\r\n                {this.props.objectImportExport &&\r\n                    <Tooltip title={this.props.t('ra_Add objects tree from JSON file')}>\r\n                        <IconButton onClick={() => {\r\n                            const input = document.createElement('input');\r\n                            input.setAttribute('type', 'file');\r\n                            input.setAttribute('id', 'files');\r\n                            input.setAttribute('opacity', 0);\r\n                            input.addEventListener('change', e => this.handleJsonUpload(e), false);\r\n                            input.click();\r\n                        }}>\r\n                            <PublishIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n                {this.props.objectImportExport && (!!this.state.selected.length || this.state.selectedNonObject) &&\r\n                    <Tooltip title={this.props.t('ra_Save objects tree as JSON file')}>\r\n                        <IconButton onClick={() => this.setState({showExportDialog: this._getSelectedIdsForExport().length})}>\r\n                            <PublishIcon style={{ transform: 'rotate(180deg)' }} />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n            </div>\r\n            {!!this.props.objectBrowserEditObject && <div style={{ display: 'flex', whiteSpace: 'nowrap' }}>\r\n                {`${this.props.t('ra_Objects')}: ${Object.keys(this.info.objects).length}, ${this.props.t('ra_States')}: ${Object.keys(this.info.objects).filter(el => this.info.objects[el].type === 'state').length}`}\r\n            </div>}\r\n            {this.props.objectEditBoolean &&\r\n                <Tooltip title={this.props.t('ra_Edit custom config')}>\r\n                    <IconButton onClick={() => {\r\n                        // get all visible states\r\n                        const ids = getVisibleItems(this.root, 'state', this.objects);\r\n\r\n                        if (ids.length) {\r\n                            this.pauseSubscribe(true);\r\n\r\n                            if (ids.length === 1) {\r\n                                window.localStorage.setItem((this.props.dialogName || 'App') + '.objectSelected', this.state.selected[0]);\r\n                                this.props.router && this.props.router.doNavigate(null, 'custom', this.state.selected[0]);\r\n                            }\r\n                            this.setState({ customDialog: ids });\r\n                        } else {\r\n                            this.setState({ toast: this.props.t('ra_please select object') });\r\n                        }\r\n                    }}>\r\n                        <BuildIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n            }\r\n        </div>;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} id\r\n     */\r\n    toggleExpanded(id) {\r\n        const expanded = JSON.parse(JSON.stringify(this.state.expanded));\r\n        const pos = expanded.indexOf(id);\r\n        if (pos === -1) {\r\n            expanded.push(id);\r\n            expanded.sort();\r\n        } else {\r\n            expanded.splice(pos, 1);\r\n        }\r\n\r\n        window.localStorage.setItem((this.props.dialogName || 'App') + '.objectExpanded', JSON.stringify(expanded));\r\n\r\n        this.setState({ expanded });\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {Event} e\r\n     * @param {string} text\r\n     */\r\n    onCopy(e, text) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        copy(text);\r\n        if (text.length < 50) {\r\n            this.setState({ toast: this.props.t('ra_Copied %s', text) });\r\n        } else {\r\n            this.setState({ toast: this.props.t('ra_Copied') });\r\n        }\r\n    }\r\n\r\n    renderTooltipAccessControl = acl => {\r\n        // acl ={object,state,owner,ownerGroup}\r\n        if (!acl) {\r\n            return null;\r\n        }\r\n        const check = [\r\n            { value: '0x400', valueNum: 0x400, title: 'read',  group: 'Owner' },\r\n            { value: '0x200', valueNum: 0x200, title: 'write', group: 'Owner' },\r\n            { value: '0x40',  valueNum: 0x40,  title: 'read',  group: 'Group' },\r\n            { value: '0x20',  valueNum: 0x20,  title: 'write', group: 'Group' },\r\n            { value: '0x4',   valueNum: 0x4,   title: 'read',  group: 'Everyone' },\r\n            { value: '0x2',   valueNum: 0x2,   title: 'write', group: 'Everyone' }\r\n        ];\r\n        const arrayTooltipText = [];\r\n        const funcRenderStateObject = (value = 'object') => {\r\n            let rights = acl[value];\r\n            check.forEach((el, i) => {\r\n                if (rights & el.valueNum) {\r\n                    arrayTooltipText.push(<span key={value + i}>{this.texts['acl' + el.group + '_' + el.title + '_' + value]},\r\n                        <span className={value === 'object' ? this.props.classes.rightsObject : this.props.classes.rightsState}>\r\n                            {el.value}\r\n                        </span>\r\n                    </span>);\r\n                }\r\n            });\r\n        }\r\n        arrayTooltipText.push(<span key=\"group\">{this.texts.ownerGroup + ': ' + (acl.ownerGroup || '').replace('system.group.', '')}</span>);\r\n        arrayTooltipText.push(<span key=\"owner\">{this.texts.ownerUser  + ': ' + (acl.owner || '').replace('system.user.', '')}</span>);\r\n        funcRenderStateObject();\r\n        if (acl.state) {\r\n            funcRenderStateObject('state');\r\n        }\r\n        return arrayTooltipText.length ? <span className={this.props.classes.tooltipAccessControl}>{arrayTooltipText.map(el => el)}</span> : '';\r\n    }\r\n\r\n    /**\r\n     * @param {string} id\r\n     * @param {{ data: { obj: { type: string; }; hasCustoms: any; }; }} item\r\n     * @param {{ cellButtonsButton: string | undefined; cellButtonsButtonAlone: any; cellButtonsButtonIcon: string | undefined; cellButtonsButtonWithCustoms: any; }} classes\r\n     */\r\n    renderColumnButtons(id, item, classes) {\r\n        if (!item.data.obj) {\r\n            return this.props.onObjectDelete || this.props.objectEditOfAccessControl ? <div className={classes.buttonDiv}>\r\n                {this.props.expertMode && this.props.objectEditOfAccessControl ? <IconButton\r\n                    className={Utils.clsx(classes.cellButtonsButton, classes.cellButtonsEmptyButton, classes.cellButtonMinWidth)}\r\n                    onClick={() =>\r\n                        this.setState({ modalEditOfAccess: true, modalEmptyId: id, modalEditOfAccessObjData: item.data })}\r\n                >---</IconButton> : null}\r\n                {this.props.onObjectDelete && item.children && item.children.length ? <IconButton\r\n                    className={Utils.clsx(classes.cellButtonsButton, classes.cellButtonsButtonAlone)}\r\n                    size=\"small\"\r\n                    aria-label=\"delete\"\r\n                    title={this.texts.deleteObject}\r\n                    onClick={() => this.props.onObjectDelete(id, !!(item.children && item.children.length), false)}\r\n                >\r\n                    <IconDelete className={classes.cellButtonsButtonIcon} />\r\n                </IconButton> : null}\r\n            </div> : null;\r\n        }\r\n\r\n        item.data.aclTooltip = item.data.aclTooltip || this.renderTooltipAccessControl(item.data.obj.acl);\r\n\r\n        const acl = item.data.obj.acl ? (item.data.obj.type === 'state' ? item.data.obj.acl.state : item.data.obj.acl.object) : 0;\r\n        const aclSystemConfig = item.data.obj.acl && (item.data.obj.type === 'state' ? this.systemConfig.common.defaultNewAcl.state : this.systemConfig.common.defaultNewAcl.object);\r\n\r\n        return [\r\n            this.props.expertMode && this.props.objectEditOfAccessControl ? <Tooltip key=\"acl\" title={item.data.aclTooltip}><IconButton className={classes.cellButtonMinWidth} onClick={() =>\r\n                this.setState({ modalEditOfAccess: true, modalEditOfAccessObjData: item.data })}\r\n            >\r\n                <div className={classes.aclText}>{isNaN(Number(acl).toString(16)) ? Number(aclSystemConfig).toString(16) : Number(acl).toString(16)}</div>\r\n            </IconButton></Tooltip> : <div key=\"aclEmpty\" className={classes.cellButtonMinWidth} />,\r\n            <IconButton\r\n                key=\"edit\"\r\n                className={classes.cellButtonsButton}\r\n                size=\"small\"\r\n                aria-label=\"edit\"\r\n                title={this.texts.editObject}\r\n                onClick={() => {\r\n                    window.localStorage.setItem(`${this.props.dialogName || 'App'}.objectSelected`, id);\r\n                    this.setState({ editObjectDialog: id });\r\n                }}\r\n            >\r\n                <IconEdit className={classes.cellButtonsButtonIcon} />\r\n            </IconButton>,\r\n            this.props.onObjectDelete && (item.children?.length || !item.data.obj.common?.dontDelete) ? <IconButton\r\n                key=\"delete\"\r\n                className={classes.cellButtonsButton}\r\n                size=\"small\"\r\n                aria-label=\"delete\"\r\n                onClick={() => this.props.onObjectDelete(id, !!item.children?.length, !item.data.obj.common?.dontDelete)}\r\n                title={this.texts.deleteObject}\r\n            >\r\n                <IconDelete className={classes.cellButtonsButtonIcon} />\r\n            </IconButton> : null,\r\n            this.props.objectCustomDialog && this.info.hasSomeCustoms && item.data.obj.type === 'state' ? <IconButton\r\n                className={Utils.clsx(classes.cellButtonsButton, item.data.hasCustoms && classes.cellButtonsButtonWithCustoms)}\r\n                key=\"custom\"\r\n                size=\"small\"\r\n                aria-label=\"config\"\r\n                title={this.texts.customConfig}\r\n                onClick={() => {\r\n                    window.localStorage.setItem((this.props.dialogName || 'App') + '.objectSelected', id);\r\n\r\n                    this.pauseSubscribe(true);\r\n                    this.props.router && this.props.router.doNavigate(null, 'customs', id);\r\n                    this.setState({ customDialog: [id] });\r\n                }}\r\n            >\r\n                <IconConfig className={classes.cellButtonsButtonIcon} />\r\n            </IconButton> : null,\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} id\r\n     */\r\n    readHistory(id) {\r\n        /*interface GetHistoryOptions {\r\n            instance?: string;\r\n            start?: number;\r\n            end?: number;\r\n            step?: number;\r\n            count?: number;\r\n            from?: boolean;\r\n            ack?: boolean;\r\n            q?: boolean;\r\n            addID?: boolean;\r\n            limit?: number;\r\n            ignoreNull?: boolean;\r\n            sessionId?: any;\r\n            aggregate?: 'minmax' | 'min' | 'max' | 'average' | 'total' | 'count' | 'none';\r\n        }*/\r\n        if (window.sparkline &&\r\n            this.defaultHistory &&\r\n            this.objects[id] &&\r\n            this.objects[id].common &&\r\n            this.objects[id].common.custom &&\r\n            this.objects[id].common.custom[this.defaultHistory]) {\r\n\r\n            const now = new Date();\r\n            now.setHours(now.getHours() - 24);\r\n            now.setMinutes(0);\r\n            now.setSeconds(0);\r\n            now.setMilliseconds(0);\r\n            let nowMs = now.getTime();\r\n\r\n            this.props.socket.getHistory(id, {\r\n                instance:  this.defaultHistory,\r\n                start:     nowMs,\r\n                end:       Date.now(),\r\n                step:      3600000,\r\n                from:      false,\r\n                ack:       false,\r\n                q:         false,\r\n                addID:     false,\r\n                aggregate: 'minmax'\r\n            })\r\n                .then(values => {\r\n                    const sparks = window.document.getElementsByClassName('sparkline');\r\n\r\n                    for (let s = 0; s < sparks.length; s++) {\r\n                        if (sparks[s].dataset.id === id) {\r\n                            const v = prepareSparkData(values, nowMs);\r\n\r\n                            window.sparkline.sparkline(sparks[s], v);\r\n                            break;\r\n                        }\r\n                    }\r\n                })\r\n                .catch(e => this.showError(e));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {string} id\r\n     * @param {any} item\r\n     * @param {Record<string, any>} classes\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderColumnValue(id, item, classes) {\r\n        if (!item.data.obj || !this.states) {\r\n            return null;\r\n        }\r\n\r\n        if (!this.states[id]) {\r\n            if (item.data.obj.type === 'state') {\r\n                this.recordStates.push(id);\r\n                this.states[id] = { val: null };\r\n                this.subscribe(id);\r\n            }\r\n            return null;\r\n        } else {\r\n            this.recordStates.push(id);\r\n        }\r\n\r\n        const state = this.states[id];\r\n        let info = item.data.state;\r\n        if (!info) {\r\n            info = item.data.state = item.data.state || formatValue(id, state, item.data.obj, this.texts, this.props.dateFormat, this.props.isFloatComma);\r\n\r\n            info.valFull = info.valFull.map(item => {\r\n                if (item.t === this.texts.quality && state.q) {\r\n                    return [\r\n                        <div className={classes.cellValueTooltipBoth} key={item.t}>{item.t}: {item.v}</div>,\r\n                        //<div className={classes.cellValueTooltipValue} key={item.t + '_v'}>{item.v}</div>,\r\n                        !item.nbr ? <br key={item.t + '_br'} /> : null\r\n                    ];\r\n                } else {\r\n                    return [\r\n                        <div className={classes.cellValueTooltipTitle} key={item.t}>{item.t}:</div>,\r\n                        <div className={classes.cellValueTooltipValue} key={item.t + '_v'}>{item.v}</div>,\r\n                        !item.nbr ? <br key={item.t + '_br'} /> : null\r\n                    ];\r\n                }\r\n            });\r\n\r\n            if (this.defaultHistory && this.objects[id] && this.objects[id].common && this.objects[id].common.custom && this.objects[id].common.custom[this.defaultHistory]) {\r\n                info.valFull.push(<svg key=\"sparkline\" className=\"sparkline\" data-id={id} style={{ fill: '#3d85de' }} width=\"200\" height=\"30\" strokeWidth=\"3\" />);\r\n            }\r\n\r\n            const copyText = info.valText.v || '';\r\n            info.val = copyText;\r\n            info.valText = [\r\n                <span className={classes.newValue || classes.newValue} key={`${info.valText.v.toString()}valText`}>{info.valText.v.toString()}</span>,\r\n                info.valText.u ? <span className={Utils.clsx(classes.cellValueTextUnit, classes.newValue)} key={`${info.valText.v.toString()}unit`}>{info.valText.u}</span> : null,\r\n                info.valText.s !== undefined ? <span className={Utils.clsx(classes.cellValueTextState, classes.newValue)} key={`${info.valText.v.toString()}states`}>({info.valText.s})</span> : null,\r\n                <IconCopy className={Utils.clsx(classes.cellButtonsValueButton, 'copyButton', classes.cellButtonsValueButtonCopy)} onClick={(e) => this.onCopy(e, copyText)} key=\"cc\" />,\r\n                //<IconEdit className={ Utils.clsx(classes.cellButtonsValueButton, 'copyButton', classes.cellButtonsValueButtonEdit) } key=\"ce\" />\r\n            ];\r\n        }\r\n\r\n        let val = info.valText;\r\n        if (!this.props.expertMode && item.data.button) {\r\n            val = <PressButtonIcon className={Utils.clsx(this.props.classes.cellValueButton, !this.states[id] || !this.states[id].val ? this.props.classes.cellValueButtonFalse : '')} />;\r\n        }\r\n        return <Tooltip\r\n            key=\"value\"\r\n            title={info.valFull}\r\n            classes={{ tooltip: this.props.classes.cellValueTooltip, popper: this.props.classes.cellValueTooltipBox }}\r\n            onOpen={() => this.readHistory(id)}\r\n        >\r\n            <div style={info.style} className={classes.cellValueText} >\r\n                {val}\r\n            </div>\r\n        </Tooltip>;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {undefined}\r\n     */\r\n    _syncEnum(id, enumIds, newArray, cb) {\r\n        if (!enumIds || !enumIds.length) {\r\n            return cb && cb();\r\n        } else {\r\n            const enumId = enumIds.pop();\r\n            const promises = [];\r\n            if (this.info.objects[enumId]?.common) {\r\n                if (this.info.objects[enumId].common.members?.length) {\r\n                    const pos = this.info.objects[enumId].common.members.indexOf(id);\r\n                    if (pos !== -1 && !newArray.includes(enumId)) {\r\n                        // delete from members\r\n                        const obj = JSON.parse(JSON.stringify(this.info.objects[enumId]));\r\n                        obj.common.members.splice(pos, 1);\r\n                        promises.push(this.props.socket.setObject(enumId, obj)\r\n                            .then(() => this.info.objects[enumId] = obj)\r\n                            .catch(e => this.showError(e))\r\n                        );\r\n                    }\r\n                }\r\n\r\n                // add to it\r\n                if (newArray.includes(enumId) && !this.info.objects[enumId].common.members?.includes(id)) {\r\n                    // add to object\r\n                    const obj = JSON.parse(JSON.stringify(this.info.objects[enumId]));\r\n                    obj.common.members = obj.common.members || [];\r\n                    obj.common.members.push(id);\r\n                    obj.common.members.sort();\r\n                    promises.push(this.props.socket.setObject(enumId, obj)\r\n                        .then(() => this.info.objects[enumId] = obj)\r\n                        .catch(e => this.showError(e))\r\n                    );\r\n                }\r\n            }\r\n\r\n            Promise.all(promises)\r\n                .then(() => setTimeout(() =>\r\n                    this._syncEnum(id, enumIds, newArray, cb), 0));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {Promise}\r\n     */\r\n    syncEnum(id, enumName, newArray) {\r\n        const toCheck = [...this.info[enumName === 'func' ? 'funcEnums' : 'roomEnums']];\r\n\r\n        return new Promise(resolve => this._syncEnum(id, toCheck, newArray, error => {\r\n            error && this.showError(error);\r\n            // force update of object\r\n            resolve();\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderEnumDialog() {\r\n        if (this.state.enumDialog) {\r\n            const type = this.state.enumDialog.type;\r\n            const item = this.state.enumDialog.item;\r\n            const itemEnums = this.state.enumDialogEnums;\r\n            const enumsOriginal = this.state.enumDialog.enumsOriginal;\r\n\r\n            const enums = (type === 'room' ? this.info.roomEnums : this.info.funcEnums).map(id => ({\r\n                name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop(), this.props.lang),\r\n                value: id,\r\n                icon: getSelectIdIcon(this.objects, id, this.imagePrefix)\r\n            }));\r\n\r\n            enums.forEach(item => {\r\n                if (item.icon) {\r\n                    item.icon = <div className={this.props.classes.enumIconDiv}>\r\n                        <img src={item.icon} className={this.props.classes.enumIcon} alt={item.name} />\r\n                    </div>;\r\n                }\r\n            });\r\n\r\n            // const hasIcons = !!enums.find(item => item.icon);\r\n\r\n            return <Dialog className={this.props.classes.enumDialog} onClose={() => this.setState({ enumDialog: null })} aria-labelledby=\"enum-dialog-title\" open={true}>\r\n                <DialogTitle id=\"enum-dialog-title\">\r\n                    {type === 'func' ? this.props.t('ra_Define functions') : this.props.t('ra_Define rooms')}\r\n                    <Fab\r\n                        className={this.props.classes.enumButton}\r\n                        color=\"primary\"\r\n                        disabled={JSON.stringify(enumsOriginal) === JSON.stringify(itemEnums)}\r\n                        size=\"small\"\r\n                        onClick={() =>\r\n                            this.syncEnum(item.data.id, type, itemEnums)\r\n                                .then(() => this.setState({ enumDialog: null, enumDialogEnums: null }))}\r\n                    >\r\n                        <IconCheck />\r\n                    </Fab>\r\n                </DialogTitle>\r\n                <List classes={{ root: this.props.classes.enumList }}>\r\n                    {\r\n                        enums.map(item => {\r\n                            let id;\r\n                            let name;\r\n                            let icon;\r\n\r\n                            if (typeof item === 'object') {\r\n                                id   = item.value;\r\n                                name = item.name;\r\n                                icon = item.icon;\r\n                            } else {\r\n                                id   = item;\r\n                                name = item;\r\n                            }\r\n                            const labelId = `checkbox-list-label-${id}`;\r\n\r\n                            return <ListItem\r\n                                className={this.props.classes.headerCellSelectItem}\r\n                                key={id}\r\n                                onClick={() => {\r\n                                    const pos = itemEnums.indexOf(id);\r\n                                    const enumDialogEnums = JSON.parse(JSON.stringify(this.state.enumDialogEnums));\r\n                                    if (pos === -1) {\r\n                                        enumDialogEnums.push(id);\r\n                                        enumDialogEnums.sort();\r\n                                    } else {\r\n                                        enumDialogEnums.splice(pos, 1);\r\n                                    }\r\n                                    this.setState({ enumDialogEnums });\r\n                                }}\r\n                            >\r\n                                <ListItemIcon classes={{ root: this.props.classes.enumCheckbox }}>\r\n                                    <Checkbox\r\n                                        edge=\"start\"\r\n                                        checked={itemEnums.includes(id)}\r\n                                        tabIndex={-1}\r\n                                        disableRipple\r\n                                        inputProps={{ 'aria-labelledby': labelId }}\r\n                                    />\r\n                                </ListItemIcon>\r\n                                <ListItemText id={labelId}>{name}</ListItemText>\r\n                                {icon ? <ListItemSecondaryAction>{icon}</ListItemSecondaryAction> : null}\r\n                            </ListItem>;\r\n                        })\r\n                    }\r\n                </List>\r\n            </Dialog>;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderEditRoleDialog() {\r\n        if (this.state.roleDialog && this.props.objectBrowserEditRole) {\r\n            const ObjectBrowserEditRole = this.props.objectBrowserEditRole;\r\n            return <ObjectBrowserEditRole\r\n                key=\"objectBrowserEditRole\"\r\n                id={this.state.roleDialog}\r\n                socket={this.props.socket}\r\n                t={this.props.t}\r\n                roles={this.info.roles}\r\n                onClose={obj => {\r\n                    if (obj) {\r\n                        this.info.objects[this.state.roleDialog] = obj;\r\n                    }\r\n                    this.setState({ roleDialog: false });\r\n                }}\r\n            />;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {boolean} [isSave]\r\n     */\r\n    onColumnsEditCustomDialogClose(isSave) {\r\n        if (isSave) {\r\n            let value = this.customColumnDialog.value;\r\n            if (this.customColumnDialog.type === 'boolean') {\r\n                value = value === 'true' || value === true;\r\n            } else if (this.customColumnDialog.type === 'number') {\r\n                value = parseFloat(value);\r\n            }\r\n            this.customColumnDialog = null;\r\n            this.props.socket.getObject(this.state.columnsEditCustomDialog.obj._id)\r\n                .then(obj => {\r\n                    if (this.setCustomValue(obj, this.state.columnsEditCustomDialog.it, value)) {\r\n                        return this.props.socket.setObject(obj._id, obj);\r\n                    } else {\r\n                        throw new Error(this.props.t('ra_Cannot update attribute, because not found in the object'))\r\n                    }\r\n                })\r\n                .then(() => this.setState({ columnsEditCustomDialog: null }))\r\n                .catch(e => this.showError(e));\r\n        } else {\r\n            this.customColumnDialog = null;\r\n            this.setState({ columnsEditCustomDialog: null });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    renderColumnsEditCustomDialog() {\r\n        if (this.state.columnsEditCustomDialog) {\r\n            if (!this.customColumnDialog) {\r\n                const value = this.getCustomValue(this.state.columnsEditCustomDialog.obj, this.state.columnsEditCustomDialog.it);\r\n                this.customColumnDialog = {\r\n                    type: this.state.columnsEditCustomDialog.it.type || typeof value,\r\n                    initValue: (value === null || value === undefined ? '' : value).toString(),\r\n                    value: (value === null || value === undefined ? '' : value).toString()\r\n                };\r\n            }\r\n\r\n            return <Dialog\r\n                onClose={() => this.setState({ columnsEditCustomDialog: null })}\r\n                maxWidth=\"md\"\r\n                aria-labelledby=\"custom-dialog-title\" open={true}>\r\n                <DialogTitle id=\"custom-dialog-title\">{this.props.t('ra_Edit object field') + ': ' + this.state.columnsEditCustomDialog.obj._id}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {this.customColumnDialog.type === 'boolean' ?\r\n                            <FormControlLabel\r\n                                control={<Checkbox\r\n                                    onKeyUp={e => e.keyCode === 13 && this.onColumnsEditCustomDialogClose(true)}\r\n                                    defaultChecked={this.customColumnDialog.value === 'true'}\r\n                                    onChange={e => {\r\n                                        this.customColumnDialog.value = e.target.checked.toString();\r\n                                        const changed = this.customColumnDialog.value !== this.customColumnDialog.initValue;\r\n                                        if (changed === !this.state.customColumnDialogValueChanged) {\r\n                                            this.setState({ customColumnDialogValueChanged: changed });\r\n                                        }\r\n                                    }}\r\n                                />}\r\n                                label={this.state.columnsEditCustomDialog.it.name + ' (' + this.state.columnsEditCustomDialog.it.pathText + ')'}\r\n                            />\r\n                            :\r\n                            <TextField\r\n                                defaultValue={this.customColumnDialog.value}\r\n                                fullWidth\r\n                                onKeyUp={e => e.keyCode === 13 && this.onColumnsEditCustomDialogClose(true)}\r\n                                label={this.state.columnsEditCustomDialog.it.name + ' (' + this.state.columnsEditCustomDialog.it.pathText + ')'}\r\n                                onChange={e => {\r\n                                    this.customColumnDialog.value = e.target.value;\r\n                                    const changed = this.customColumnDialog.value !== this.customColumnDialog.initValue;\r\n                                    if (changed === !this.state.customColumnDialogValueChanged) {\r\n                                        this.setState({ customColumnDialogValueChanged: changed });\r\n                                    }\r\n                                }}\r\n                                autoFocus\r\n                            />\r\n                        }\r\n\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        onClick={() => this.onColumnsEditCustomDialogClose(true)}\r\n                        disabled={!this.state.customColumnDialogValueChanged}\r\n                        color=\"primary\"\r\n                    >\r\n                        <IconCheck className={this.props.classes.buttonIcon} /> {this.props.t('ra_Update')}\r\n                    </Button>\r\n                    <Button variant=\"contained\" onClick={() => this.onColumnsEditCustomDialogClose()}><IconClose className={this.props.classes.buttonIcon} />{this.props.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {any} obj\r\n     * @param {any} it\r\n     */\r\n    getCustomValue(obj, it) {\r\n        if (obj && obj._id && obj._id.startsWith(it.adapter + '.') && it.path.length > 1) {\r\n            const p = it.path;\r\n            let value;\r\n            if (obj[p[0]] && typeof obj[p[0]] === 'object') {\r\n                if (p.length === 2) { // most common case\r\n                    value = obj[p[0]][p[1]];\r\n                } else if (p.length === 3) {\r\n                    value = obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object' ? obj[p[0]][p[1]][p[2]] : null;\r\n                } else if (p.length === 4) {\r\n                    value = obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object' && obj[p[0]][p[1]][p[2]] ? obj[p[0]][p[1]][p[2]][p[3]] : null;\r\n                } else if (p.length === 5) {\r\n                    value = obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object' && obj[p[0]][p[1]][p[2]] && obj[p[0]][p[1]][p[2]][p[3]] ? obj[p[0]][p[1]][p[2]][p[3]][p[4]] : null;\r\n                } else if (p.length === 6) {\r\n                    value = obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object' && obj[p[0]][p[1]][p[2]] && obj[p[0]][p[1]][p[2]][p[3]] && obj[p[0]][p[1]][p[2]][p[3]][p[4]] ? obj[p[0]][p[1]][p[2]][p[3]][p[4]][p[5]] : null;\r\n                }\r\n                if (value === undefined || value === null) {\r\n                    return null;\r\n                } else {\r\n                    return value;\r\n                }\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {any} obj\r\n     * @param {any} it\r\n     * @param {any} value\r\n     */\r\n    setCustomValue(obj, it, value) {\r\n        if (obj && obj._id && obj._id.startsWith(it.adapter + '.') && it.path.length > 1) {\r\n            const p = it.path;\r\n            if (obj[p[0]] && typeof obj[p[0]] === 'object') {\r\n                if (p.length === 2) { // most common case\r\n                    obj[p[0]][p[1]] = value;\r\n                    return true;\r\n                } else if (p.length === 3) {\r\n                    if (obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object') {\r\n                        obj[p[0]][p[1]][p[2]] = value;\r\n                        return true;\r\n                    }\r\n                } else if (p.length === 4) {\r\n                    if (obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object' && obj[p[0]][p[1]][p[2]] && typeof obj[p[0]][p[1]][p[2]] === 'object') {\r\n                        obj[p[0]][p[1]][p[2]][p[3]] = value;\r\n                        return true;\r\n                    }\r\n                } else if (p.length === 5) {\r\n                    if (obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object' && obj[p[0]][p[1]][p[2]] && typeof obj[p[0]][p[1]][p[2]] === 'object' && obj[p[0]][p[1]][p[2]][p[3]] && typeof obj[p[0]][p[1]][p[2]][p[3]] === 'object') {\r\n                        obj[p[0]][p[1]][p[2]][p[3]][p[4]] = value;\r\n                        return true;\r\n                    }\r\n                } else if (p.length === 6) {\r\n                    if (obj[p[0]][p[1]] && typeof obj[p[0]][p[1]] === 'object' && obj[p[0]][p[1]][p[2]] && typeof obj[p[0]][p[1]][p[2]] === 'object' && obj[p[0]][p[1]][p[2]][p[3]] && typeof obj[p[0]][p[1]][p[2]][p[3]] === 'object' && obj[p[0]][p[1]][p[2]][p[3]][p[4]] && typeof obj[p[0]][p[1]][p[2]][p[3]][p[4]] === 'object') {\r\n                        obj[p[0]][p[1]][p[2]][p[3]][p[4]][p[5]] = value;\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Renders a custom value.\r\n     * @param {any} obj\r\n     * @param {any} it\r\n     * @param {any} item\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderCustomValue(obj, it, item) {\r\n        let text = this.getCustomValue(obj, it);\r\n        if (text !== null && text !== undefined) {\r\n            if (it.edit && !this.props.notEditable && (!it.objTypes || it.objTypes.includes(obj.type))) {\r\n                return <div\r\n                    className={Utils.clsx(this.props.classes.columnCustom, this.props.classes.columnCustomEditable, this.props.classes['columnCustom_' + it.align])}\r\n                    onClick={() => this.setState({ columnsEditCustomDialog: { item, it, obj }, customColumnDialogValueChanged: false })}>{text}</div>;\r\n            } else {\r\n                return <div\r\n                    className={Utils.clsx(this.props.classes.columnCustom, this.props.classes['columnCustom_' + it.align])}>{text}</div>;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Renders a leaf.\r\n     * @param {any} item\r\n     * @param {boolean} isExpanded\r\n     * @param {Record<string, any>} classes\r\n     * @param {{ count: number; }} counter\r\n     * @returns {JSX.Element}\r\n     */\r\n    renderLeaf(item, isExpanded, classes, counter) {\r\n        const id = item.data.id;\r\n        counter.count++;\r\n        isExpanded = isExpanded === undefined ? this.state.expanded.includes(id) : isExpanded;\r\n\r\n        // icon\r\n        let iconFolder;\r\n        let itemType = item.data.obj?.type;\r\n\r\n        if (item.children || itemType === 'folder' || itemType === 'device' || itemType === 'channel' || itemType === 'meta') {\r\n            iconFolder = isExpanded ? <IconOpen\r\n                className={classes.cellIdIconFolder}\r\n                onClick={() => this.toggleExpanded(id)}\r\n            /> : <IconClosed\r\n                className={classes.cellIdIconFolder}\r\n                onClick={() => this.toggleExpanded(id)}\r\n            />;\r\n        } else {\r\n            iconFolder = <IconDocument className={classes.cellIdIconDocument} />;\r\n        }\r\n\r\n        let iconItem = null;\r\n        if (item.data.icon) {\r\n            if (typeof item.data.icon === 'string') {\r\n                if (item.data.icon.length < 3) {\r\n                    iconItem = <span className={Utils.clsx(classes.cellIdIconOwn, 'iconOwn')}>{item.data.icon}</span>; // utf-8 char\r\n                } else {\r\n                    iconItem = <img className={Utils.clsx(classes.cellIdIconOwn, 'iconOwn')} src={item.data.icon} alt=\"\" />;\r\n                }\r\n            } else {\r\n                iconItem = item.data.icon;\r\n            }\r\n        }\r\n\r\n        const obj = item.data.obj;\r\n\r\n        const typeImg = (obj && obj.type && ITEM_IMAGES[obj.type]) || <div className=\"itemIcon\" />;\r\n\r\n        const paddingLeft = ITEM_LEVEL * item.data.level;\r\n\r\n        if (item.data.lang !== this.state.lang) {\r\n            const { rooms, per } = findRoomsForObject(this.info, id, this.state.lang);\r\n            item.data.rooms = rooms.join(', ');\r\n            item.data.per = per;\r\n            const { funcs, pef } = findFunctionsForObject(this.info, id, this.state.lang);\r\n            item.data.funcs = funcs.join(', ');\r\n            item.data.pef = pef;\r\n            item.data.lang = this.state.lang;\r\n        }\r\n\r\n        const checkbox =\r\n            this.props.multiSelect &&\r\n                this.objects[id] && (!this.props.types || this.props.types.includes(this.objects[id].type)) ?\r\n                <Checkbox\r\n                    className={classes.checkBox}\r\n                    checked={this.state.selected.includes(id)}\r\n                /> :\r\n                null;\r\n\r\n        const valueEditable = !this.props.notEditable && itemType === 'state' && (this.props.expertMode || item.data.obj?.common?.write !== false);\r\n        const enumEditable  = !this.props.notEditable && this.objects[id] && (this.props.expertMode || itemType === 'state' || itemType === 'channel' || itemType === 'device');\r\n        const checkVisibleObjectType = this.state.statesView && (itemType === 'state' || itemType === 'channel' || itemType === 'device');\r\n        let newValue = '';\r\n        let newValueTitle = [];\r\n        if (checkVisibleObjectType) {\r\n            newValue = this.states[id]?.from;\r\n            if (newValue === undefined) {\r\n                newValue = '&nbsp;';\r\n            } else {\r\n                newValue = newValue ? newValue.replace(/^system\\.adapter\\.|^system\\./, '') : '';\r\n                newValueTitle.push(`${this.texts.stateChangedFrom} ${newValue}`);\r\n            }\r\n            if (obj.user) {\r\n                const user = obj.user.replace('system.user.', '');\r\n                newValue += `/${user}`;\r\n                newValueTitle.push(`${this.texts.stateChangedBy} ${user}`);\r\n            }\r\n        }\r\n        item.data.obj?.from && newValueTitle.push(this.texts.objectChangedFrom + ' ' + item.data.obj.from.replace(/^system\\.adapter\\.|^system\\./, ''));\r\n        item.data.obj?.user && newValueTitle.push(this.texts.objectChangedBy + ' ' + item.data.obj.user.replace(/^system\\.user\\./, ''));\r\n        item.data.obj?.ts   && newValueTitle.push(this.texts.objectChangedByUser + ' ' + Utils.formatDate(new Date(item.data.obj.ts), this.props.dateFormat));\r\n\r\n        const readWriteAlias = typeof item.data.obj?.common?.alias?.id === 'object';\r\n\r\n        const alias = id.startsWith('alias.') && item.data.obj?.common?.alias?.id ?\r\n            (readWriteAlias ?\r\n                <div className={classes.cellIdAliasReadWriteDiv}>\r\n                    {item.data.obj.common.alias.id.read ? <div\r\n                        onClick={e => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.onSelect(item.data.obj.common.alias.id.read);\r\n                            setTimeout(() => {\r\n                                this.expandAllSelected(() =>\r\n                                    this.scrollToItem(item.data.obj.common.alias.id.read));\r\n                            }, 100);\r\n                        }}\r\n                        className={Utils.clsx(classes.cellIdAlias, classes.cellIdAliasReadWrite)}\r\n                    >←{item.data.obj.common.alias.id.read}</div> : null}\r\n                    {item.data.obj.common.alias.id.write ? <div\r\n                        onClick={e => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.onSelect(item.data.obj.common.alias.id.write);\r\n                            setTimeout(() => {\r\n                                this.expandAllSelected(() =>\r\n                                    this.scrollToItem(item.data.obj.common.alias.id.write));\r\n                            }, 100);\r\n                        }}\r\n                        className={Utils.clsx(classes.cellIdAlias, classes.cellIdAliasReadWrite)}\r\n                    >→{item.data.obj.common.alias.id.write}</div> : null}\r\n                </div>\r\n                :\r\n                <div\r\n                    onClick={e => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        this.onSelect(item.data.obj.common.alias.id);\r\n                        setTimeout(() => {\r\n                            this.expandAllSelected(() =>\r\n                                this.scrollToItem(item.data.obj.common.alias.id));\r\n                        }, 100);\r\n                    }}\r\n                    className={Utils.clsx(classes.cellIdAlias, classes.cellIdAliasAlone)}\r\n                >→{item.data.obj.common.alias.id}</div>\r\n            ) : null;\r\n\r\n        let checkColor = item.data?.obj?.common?.color;\r\n        let invertBackground = 'none';\r\n        if (checkColor && !this.state.selected.includes(id)) {\r\n            invertBackground = Utils.invertColor(checkColor, true);\r\n        }\r\n        if (!checkColor || this.state.selected.includes(id)) {\r\n            checkColor = 'inherit';\r\n        }\r\n        const q = checkVisibleObjectType ? Utils.quality2text(this.states[id]?.q || 0).join(', ') : null;\r\n\r\n        return <Grid\r\n            container\r\n            direction=\"row\"\r\n            wrap=\"nowrap\"\r\n            className={Utils.clsx(classes.tableRow, alias && classes.tableRowAlias, readWriteAlias && classes.tableRowAliasReadWrite, !item.data.visible && classes.filteredOut, this.state.selected.includes(id) && classes.itemSelected, this.state.selectedNonObject === id && classes.itemSelected)}\r\n            key={id}\r\n            id={id}\r\n            onClick={() => this.onSelect(id)}\r\n            onDoubleClick={() => {\r\n                if (!item.children) {\r\n                    this.onSelect(id, true);\r\n                } else {\r\n                    this.toggleExpanded(id);\r\n                }\r\n            }}\r\n        >\r\n            <Grid\r\n                container\r\n                wrap=\"nowrap\"\r\n                direction=\"row\"\r\n                className={classes.cellId}\r\n                style={{ width: this.columnsVisibility.id, paddingLeft }}\r\n            >\r\n                <Grid\r\n                    item\r\n                    container\r\n                    alignItems=\"center\"\r\n                    style={{\r\n                        color: checkColor,\r\n                        background: invertBackground\r\n                    }}\r\n                >\r\n                    {checkbox}\r\n                    {iconFolder}\r\n                </Grid>\r\n                <Grid\r\n                    item\r\n                    className={classes.cellIdSpan}\r\n                    style={{\r\n                        background: invertBackground,\r\n                        color: id === 'system' ?\r\n                            COLOR_NAME_SYSTEM : (id === 'system.adapter' ? COLOR_NAME_SYSTEM_ADAPTER :\r\n                                checkColor)\r\n                    }}\r\n                >\r\n                    {item.data.name}\r\n                    {alias}\r\n                </Grid>\r\n                <div\r\n                    style={{\r\n                        color: checkColor,\r\n                        background: invertBackground\r\n                    }} className={classes.grow} />\r\n                <Grid\r\n                    item\r\n                    container\r\n                    alignItems=\"center\"\r\n                >\r\n                    {iconItem}\r\n                </Grid>\r\n                <div style={{ color: checkColor }}>\r\n                    <IconCopy className={Utils.clsx(classes.cellCopyButton, 'copyButton')} onClick={(e) => this.onCopy(e, id)} />\r\n                </div>\r\n            </Grid>\r\n            {this.columnsVisibility.name ? <div className={classes.cellName} style={{ width: this.columnsVisibility.name }}>{(item.data?.title) || ''}</div> : null}\r\n\r\n            {!this.state.statesView ?\r\n                <>\r\n                    {this.columnsVisibility.type ? <div className={classes.cellType} style={{ width: this.columnsVisibility.type }}>{typeImg} {obj && obj.type}</div> : null}\r\n                    {this.columnsVisibility.role ? <div className={classes.cellRole} style={{ width: this.columnsVisibility.role, cursor: this.props.expertMode && enumEditable && this.props.objectBrowserEditRole ? 'text' : 'default' }} onClick={this.props.expertMode && enumEditable && this.props.objectBrowserEditRole ? () => this.setState({ roleDialog: item.data.id }) : undefined}>{obj && obj.common && obj.common.role}</div> : null}\r\n                    {this.columnsVisibility.room ? <div className={`${classes.cellRoom} ${item.data.per ? classes.cellEnumParent : ''}`} style={{ width: this.columnsVisibility.room, cursor: enumEditable ? 'text' : 'default' }} onClick={enumEditable ? () => { const enums = findEnumsForObjectAsIds(this.info, item.data.id, 'roomEnums'); this.setState({ enumDialogEnums: enums, enumDialog: { item, type: 'room', enumsOriginal: JSON.parse(JSON.stringify(enums)) } }); } : undefined}>{item.data.rooms}</div> : null}\r\n                    {this.columnsVisibility.func ? <div className={`${classes.cellFunc} ${item.data.pef ? classes.cellEnumParent : ''}`} style={{ width: this.columnsVisibility.func, cursor: enumEditable ? 'text' : 'default' }} onClick={enumEditable ? () => { const enums = findEnumsForObjectAsIds(this.info, item.data.id, 'funcEnums'); this.setState({ enumDialogEnums: enums, enumDialog: { item, type: 'func', enumsOriginal: JSON.parse(JSON.stringify(enums)) } }); } : undefined}>{item.data.funcs}</div> : null}\r\n                </>\r\n                :\r\n                <>\r\n                    {this.columnsVisibility.changedFrom ? <div className={classes.cellRole} style={{ width: this.columnsVisibility.changedFrom }} title={newValueTitle.join('\\n')}>{checkVisibleObjectType && this.states[id]?.from ? newValue : null}</div> : null}\r\n                    {this.columnsVisibility.qualityCode ? <div className={classes.cellRole} style={{ width: this.columnsVisibility.qualityCode }} title={q || ''}>{q}</div> : null}\r\n                    {this.columnsVisibility.timestamp   ? <div className={classes.cellRole} style={{ width: this.columnsVisibility.timestamp }}>{checkVisibleObjectType && this.states[id]?.ts ? Utils.formatDate(new Date(this.states[id].ts), this.props.dateFormat) : null}</div> : null}\r\n                    {this.columnsVisibility.lastChange  ? <div className={classes.cellRole} style={{ width: this.columnsVisibility.lastChange }}>{checkVisibleObjectType && this.states[id]?.lc ? Utils.formatDate(new Date(this.states[id].lc), this.props.dateFormat) : null}</div> : null}\r\n                </>\r\n            }\r\n            {this.adapterColumns.map(it => <div className={classes.cellAdapter} style={{ width: this.columnsVisibility[it.id] }} key={it.id} title={it.adapter + ' => ' + it.pathText}>{this.renderCustomValue(obj, it, item)}</div>)}\r\n            {this.columnsVisibility.val ? <div className={classes.cellValue} style={{ width: this.columnsVisibility.val, cursor: valueEditable ? (item.data.button ? 'grab' : 'text') : 'default' }} onClick={valueEditable ? () => {\r\n                if (!item.data.obj || !this.states) {\r\n                    return null;\r\n                }\r\n\r\n                // in non expert mode control button directly\r\n                if (!this.props.expertMode && item.data.button) {\r\n                    return this.props.socket.setState(id, true)\r\n                        .catch(e => window.alert(`Cannot write state \"${id}\": ${e}`));\r\n                }\r\n\r\n                this.edit = {\r\n                    val: this.states[id] ? this.states[id].val : '',\r\n                    q:   this.states[id] ? this.states[id].q || 0 : 0,\r\n                    ack: false,\r\n                    id,\r\n                };\r\n                this.setState({ updateOpened: true });\r\n            } : undefined}>{this.renderColumnValue(id, item, classes)}</div> : null}\r\n            {this.columnsVisibility.buttons ? <div className={classes.cellButtons} style={{ width: this.columnsVisibility.buttons }}>{this.renderColumnButtons(id, item, classes)}</div> : null}\r\n        </Grid>;\r\n    }\r\n\r\n    /**\r\n     * Renders an item.\r\n     * @param {any} root\r\n     * @param {boolean} isExpanded\r\n     * @param {Record<string, any>} classes\r\n     * @param {{ count: any; }} [counter]\r\n     * @returns {JSX.Element[]}\r\n     */\r\n    renderItem(root, isExpanded, classes, counter) {\r\n        const items = [];\r\n        counter = counter || { count: 0 };\r\n        let leaf = this.renderLeaf(root, isExpanded, classes, counter);\r\n        let DragWrapper = this.props.DragWrapper;\r\n        if (this.props.dragEnabled) {\r\n            leaf = <DragWrapper key={root.data.id} item={root}>{leaf}</DragWrapper>;\r\n        }\r\n        root.data.id && items.push(leaf);\r\n\r\n        isExpanded = isExpanded === undefined ? binarySearch(this.state.expanded, root.data.id) : isExpanded;\r\n\r\n        if (!root.data.id || isExpanded) {\r\n            if (!this.state.foldersFirst) {\r\n                root.children && items.push(root.children.map(item => {\r\n                    // do not render too many items in column editor mode\r\n                    if (!this.state.columnsSelectorShow || counter.count < 15) {\r\n                        if (item.data.visible || item.data.hasVisibleChildren) {\r\n                            return this.renderItem(item, undefined, classes, counter);\r\n                        }\r\n                    }\r\n                    return null;\r\n                }));\r\n            } else {\r\n                // first only folder\r\n                root.children && items.push(root.children.map(item => {\r\n                    if (item.children) {\r\n                        // do not render too many items in column editor mode\r\n                        if (!this.state.columnsSelectorShow || counter.count < 15) {\r\n                            if (item.data.visible || item.data.hasVisibleChildren) {\r\n                                return this.renderItem(item, undefined, classes, counter);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    return null;\r\n                }));\r\n                // then items\r\n                root.children && items.push(root.children.map(item => {\r\n                    if (!item.children) {\r\n                        // do not render too many items in column editor mode\r\n                        if (!this.state.columnsSelectorShow || counter.count < 15) {\r\n                            if (item.data.visible || item.data.hasVisibleChildren) {\r\n                                return this.renderItem(item, undefined, classes, counter);\r\n                            }\r\n                        }\r\n                    }\r\n                    return null;\r\n                }));\r\n            }\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {boolean} [columnsAuto]\r\n     * @param {string[]} [columns]\r\n     * @param {any} [columnsForAdmin]\r\n     * @param {Record<string, number>} [columnsWidths]\r\n     */\r\n    calculateColumnsVisibility(columnsAuto, columns, columnsForAdmin, columnsWidths) {\r\n        columnsWidths   = columnsWidths   || this.state.columnsWidths;\r\n        columnsForAdmin = columnsForAdmin || this.state.columnsForAdmin;\r\n        columns         = columns         || this.state.columns || [];\r\n        columnsAuto     = typeof columnsAuto !== 'boolean' ? this.state.columnsAuto : columnsAuto;\r\n\r\n        columnsWidths = JSON.parse(JSON.stringify(columnsWidths));\r\n        Object.keys(columnsWidths).forEach(name => {\r\n            if (columnsWidths[name]) {\r\n                columnsWidths[name] = parseInt(columnsWidths[name], 10) || 0;\r\n            }\r\n        });\r\n\r\n        this.adapterColumns = [];\r\n        const WIDTHS = SCREEN_WIDTHS[this.props.width].widths;\r\n\r\n        if (columnsAuto) {\r\n            this.columnsVisibility = {\r\n                id:          SCREEN_WIDTHS[this.props.width].idWidth,\r\n                name:        this.visibleCols.includes('name')        ? WIDTHS.name        : 0,\r\n                type:        this.visibleCols.includes('type')        ? WIDTHS.type        : 0,\r\n                role:        this.visibleCols.includes('role')        ? WIDTHS.role        : 0,\r\n                room:        this.visibleCols.includes('room')        ? WIDTHS.room        : 0,\r\n                func:        this.visibleCols.includes('func')        ? WIDTHS.func        : 0,\r\n                changedFrom: this.visibleCols.includes('changedFrom') ? WIDTHS.changedFrom : 0,\r\n                qualityCode: this.visibleCols.includes('qualityCode') ? WIDTHS.qualityCode : 0,\r\n                timestamp:   this.visibleCols.includes('timestamp')   ? WIDTHS.timestamp   : 0,\r\n                lastChange:  this.visibleCols.includes('lastChange')  ? WIDTHS.lastChange  : 0,\r\n                val:         this.visibleCols.includes('val')         ? WIDTHS.val         : 0,\r\n                buttons:     this.visibleCols.includes('buttons')     ? WIDTHS.buttons     : 0,\r\n            };\r\n\r\n            if (this.columnsVisibility.name) {\r\n                let widthSum = this.columnsVisibility.id; // id is always visible\r\n                if (this.state.statesView) {\r\n                    widthSum += this.columnsVisibility.changedFrom;\r\n                    widthSum += this.columnsVisibility.qualityCode;\r\n                    widthSum += this.columnsVisibility.timestamp;\r\n                    widthSum += this.columnsVisibility.lastChange;\r\n                } else {\r\n                    widthSum += this.columnsVisibility.type;\r\n                    widthSum += this.columnsVisibility.role;\r\n                    widthSum += this.columnsVisibility.room;\r\n                    widthSum += this.columnsVisibility.func;\r\n                }\r\n                widthSum += this.columnsVisibility.val;\r\n                widthSum += this.columnsVisibility.buttons;\r\n                this.columnsVisibility.name = `calc(100% - ${widthSum + 5}px)`;\r\n                this.columnsVisibility.nameHeader = `calc(100% - ${widthSum + 5 + this.state.scrollBarWidth}px)`;\r\n            } else {\r\n                // Calculate the with of ID\r\n                let widthSum = 0; // id is always visible\r\n                if (this.state.statesView) {\r\n                    widthSum += this.columnsVisibility.changedFrom;\r\n                    widthSum += this.columnsVisibility.qualityCode;\r\n                    widthSum += this.columnsVisibility.timestamp;\r\n                    widthSum += this.columnsVisibility.lastChange;\r\n                } else {\r\n                    widthSum += this.columnsVisibility.type;\r\n                    widthSum += this.columnsVisibility.role;\r\n                    widthSum += this.columnsVisibility.room;\r\n                    widthSum += this.columnsVisibility.func;\r\n                }\r\n                widthSum += this.columnsVisibility.val;\r\n                widthSum += this.columnsVisibility.buttons;\r\n                this.columnsVisibility.id = `calc(100% - ${widthSum + 5}px)`;\r\n            }\r\n        } else {\r\n            this.columnsVisibility = {\r\n                id:   columnsWidths.id || SCREEN_WIDTHS[this.props.width].idWidth,\r\n                name: columns.includes('name') ? columnsWidths.name || WIDTHS.name || SCREEN_WIDTHS.xl.widths.name : 0,\r\n                type: columns.includes('type') ? columnsWidths.type || WIDTHS.type || SCREEN_WIDTHS.xl.widths.type : 0,\r\n                role: columns.includes('role') ? columnsWidths.role || WIDTHS.role || SCREEN_WIDTHS.xl.widths.role : 0,\r\n                room: columns.includes('room') ? columnsWidths.room || WIDTHS.room || SCREEN_WIDTHS.xl.widths.room : 0,\r\n                func: columns.includes('func') ? columnsWidths.func || WIDTHS.func || SCREEN_WIDTHS.xl.widths.func : 0\r\n            };\r\n            let widthSum = this.columnsVisibility.id; // id is always visible\r\n            if (this.columnsVisibility.name) {\r\n                widthSum += this.columnsVisibility.type;\r\n                widthSum += this.columnsVisibility.role;\r\n                widthSum += this.columnsVisibility.room;\r\n                widthSum += this.columnsVisibility.func;\r\n            }\r\n\r\n            if (columnsForAdmin && columns) {\r\n                Object.keys(columnsForAdmin).sort().forEach(adapter =>\r\n                    columnsForAdmin[adapter].forEach(column => {\r\n                        const id = '_' + adapter + '_' + column.path;\r\n                        this.columnsVisibility[id] = columns.includes(id);\r\n                        if (columns.includes(id)) {\r\n                            const item = {\r\n                                adapter,\r\n                                id:       '_' + adapter + '_' + column.path,\r\n                                name:     column.name,\r\n                                path:     column.path.split('.'),\r\n                                pathText: column.path\r\n                            };\r\n                            if (column.edit) {\r\n                                item.edit = true;\r\n                                if (column.type) {\r\n                                    item.type = column.type;\r\n                                }\r\n                                if (column.objTypes) {\r\n                                    item.objTypes = column.objTypes;\r\n                                }\r\n                            }\r\n\r\n                            this.adapterColumns.push(item);\r\n                            this.columnsVisibility[id] = columnsWidths[item.id] || column.width || SCREEN_WIDTHS[this.props.width].widths.func || SCREEN_WIDTHS.xl.widths.func;\r\n                            widthSum += this.columnsVisibility[id];\r\n                        } else {\r\n                            this.columnsVisibility[id] = 0;\r\n                        }\r\n                    }));\r\n            }\r\n            this.adapterColumns.sort((a, b) => a.id > b.id ? -1 : (a.id < b.id ? 1 : 0));\r\n            this.columnsVisibility.val = columns.includes('val') ? columnsWidths.val || WIDTHS.val || SCREEN_WIDTHS.xl.widths.val : 0;\r\n\r\n            // do not show buttons if not desired\r\n            if (!this.props.columns || this.props.columns.includes('buttons')) {\r\n                this.columnsVisibility.buttons = columns.includes('buttons') ? columnsWidths.buttons || WIDTHS.buttons || SCREEN_WIDTHS.xl.widths.buttons : 0;\r\n                widthSum += this.columnsVisibility.buttons;\r\n            }\r\n\r\n            if (this.columnsVisibility.name && !columnsWidths.name) {\r\n                widthSum += this.columnsVisibility.val;\r\n                this.columnsVisibility.name = `calc(100% - ${widthSum}px)`;\r\n                this.columnsVisibility.nameHeader = `calc(100% - ${widthSum + 5 + this.state.scrollBarWidth}px)`;\r\n            } else {\r\n                const newWidth = Object.keys(this.columnsVisibility).reduce((accumulator, name) =>\r\n                    name === 'id' ? accumulator : accumulator + this.columnsVisibility[name], 0);\r\n                this.columnsVisibility.id = `calc(100% - ${newWidth}px)`;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {JSX.Element}\r\n     */\r\n    renderHeader() {\r\n        const classes = this.props.classes;\r\n\r\n        let filterClearInValue = null;\r\n        if (!this.columnsVisibility.buttons && !this.isFilterEmpty()) {\r\n            filterClearInValue = <IconButton onClick={() => this.clearFilter()} className={classes.buttonClearFilter} title={this.props.t('ra_Clear filter')}>\r\n                <IconClearFilter />\r\n                <IconClose className={classes.buttonClearFilterIcon} />\r\n            </IconButton>;\r\n        }\r\n\r\n        return <div className={classes.headerRow} >\r\n            <div className={classes.headerCell} style={{ width: this.columnsVisibility.id }}>{this.getFilterInput('id')}</div>\r\n            {this.columnsVisibility.name ? <div className={classes.headerCell} style={{ width: this.columnsVisibility.nameHeader }}>{this.getFilterInput('name')}</div> : null}\r\n            {!this.state.statesView && <>\r\n                {this.columnsVisibility.type ? <div className={classes.headerCell} style={{ width: this.columnsVisibility.type }}>{this.getFilterSelectType()}</div> : null}\r\n                {this.columnsVisibility.role ? <div className={classes.headerCell} style={{ width: this.columnsVisibility.role }}>{this.getFilterSelectRole()}</div> : null}\r\n                {this.columnsVisibility.room ? <div className={classes.headerCell} style={{ width: this.columnsVisibility.room }}>{this.getFilterSelectRoom()}</div> : null}\r\n                {this.columnsVisibility.func ? <div className={classes.headerCell} style={{ width: this.columnsVisibility.func }}>{this.getFilterSelectFunction()}</div> : null}\r\n            </>}\r\n            {this.state.statesView && <>\r\n                <div className={Utils.clsx(classes.headerCell, classes.headerCellValue)} style={{ width: this.columnsVisibility.changedFrom }}>{this.props.t('ra_Changed from')}</div>\r\n                <div className={Utils.clsx(classes.headerCell, classes.headerCellValue)} style={{ width: this.columnsVisibility.qualityCode }}>{this.props.t('ra_Quality code')}</div>\r\n                <div className={Utils.clsx(classes.headerCell, classes.headerCellValue)} style={{ width: this.columnsVisibility.timestamp }}>{this.props.t('ra_Timestamp')}</div>\r\n                <div className={Utils.clsx(classes.headerCell, classes.headerCellValue)} style={{ width: this.columnsVisibility.lastChange }}>{this.props.t('ra_Last change')}</div>\r\n            </>}\r\n            {this.adapterColumns.map(item => <div className={Utils.clsx(classes.headerCell, classes.headerCellValue)} style={{ width: this.columnsVisibility[item.id] }} title={item.adapter} key={item.id}>{item.name}</div>)}\r\n            {this.columnsVisibility.val ? <div className={Utils.clsx(classes.headerCell, classes.headerCellValue)} style={{ width: this.columnsVisibility.val }}>{this.props.t('ra_Value')}{filterClearInValue}</div> : null}\r\n            {this.columnsVisibility.buttons ? <div className={classes.headerCell} style={{ width: this.columnsVisibility.buttons }}> {this.getFilterSelectCustoms()}</div> : null}\r\n        </div>;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {JSX.Element}\r\n     */\r\n    renderToast() {\r\n        return <Snackbar\r\n            open={!!this.state.toast}\r\n            autoHideDuration={3000}\r\n            onClick={() => this.setState({ toast: '' })}\r\n            onClose={() => this.setState({ toast: '' })}\r\n            message={this.state.toast}\r\n            action={\r\n                <React.Fragment>\r\n                    <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={() => this.setState({ toast: '' })}>\r\n                        <IconClose fontSize=\"small\" />\r\n                    </IconButton>\r\n                </React.Fragment>\r\n            }\r\n        />;\r\n    }\r\n\r\n    /**\r\n     * Called when component is updated.\r\n     */\r\n    componentDidUpdate() {\r\n        if (this.tableRef.current) {\r\n            const scrollBarWidth = this.tableRef.current.offsetWidth - this.tableRef.current.clientWidth;\r\n            if (this.state.scrollBarWidth !== scrollBarWidth) {\r\n                setTimeout(() => this.setState({ scrollBarWidth }), 100);\r\n            } else {\r\n                if (!this.selectedFound && ((this.state.selected && this.state.selected[0]) || this.lastSelectedItems)) {\r\n                    this.scrollToItem((this.state.selected && this.state.selected[0]) || this.lastSelectedItems);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    scrollToItem(id) {\r\n        const node = window.document.getElementById(id);\r\n        node && node.scrollIntoView({\r\n            behavior: 'auto',\r\n            block: 'center',\r\n            inline: 'center'\r\n        });\r\n        this.selectedFound = true;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderCustomDialog() {\r\n        if (this.state.customDialog && this.props.objectCustomDialog) {\r\n            const ObjectCustomDialog = this.props.objectCustomDialog;\r\n\r\n            return <ObjectCustomDialog\r\n                reportChangedIds={changedIds => this.changedIds = [...changedIds]}\r\n                objectIDs={this.state.customDialog}\r\n                expertMode={this.state.filter.expertMode}\r\n                t={this.props.t}\r\n                lang={this.props.lang}\r\n                socket={this.props.socket}\r\n                themeName={this.props.themeName}\r\n                themeType={this.props.themeType}\r\n                theme={this.props.theme}\r\n                objects={this.objects}\r\n                customsInstances={this.info.customs}\r\n                onClose={() => {\r\n                    this.pauseSubscribe(false);\r\n                    this.setState({ customDialog: null });\r\n                    if (this.changedIds) {\r\n                        this.changedIds = null;\r\n                        // update all changed IDs\r\n                        this.forceUpdate();\r\n                    }\r\n\r\n                    this.props.router && this.props.router.doNavigate('tab-objects');\r\n                }}\r\n            />;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {Partial<ioBroker.State>} valAck\r\n     */\r\n    onUpdate(valAck) {\r\n        this.props.socket.setState(this.edit.id, { val: valAck.val, ack: valAck.ack, q: valAck.q || 0, expire: valAck.expire || undefined })\r\n            .catch(e => this.showError('Cannot write value: ' + e));\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderEditObjectDialog() {\r\n        if (!this.state.editObjectDialog || !this.props.objectBrowserEditObject) {\r\n            return null;\r\n        }\r\n        const ObjectBrowserEditObject = this.props.objectBrowserEditObject;\r\n\r\n        return <ObjectBrowserEditObject\r\n            obj={this.objects[this.state.editObjectDialog]}\r\n            roleArray={this.info.roles}\r\n            objects={this.objects}\r\n            dateFormat={this.props.dateFormat}\r\n            isFloatComma={this.props.isFloatComma}\r\n            themeName={this.props.themeName}\r\n            socket={this.props.socket}\r\n            dialogName={this.props.dialogName}\r\n            t={this.props.t}\r\n            expertMode={this.state.filter.expertMode}\r\n            onClose={obj => {\r\n                this.setState({ editObjectDialog: '' });\r\n                if (obj) {\r\n                    this.props.socket.setObject(obj._id, obj)\r\n                        .catch(e => this.showError('Cannot write object: ' + e));\r\n                }\r\n            }}\r\n        />\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @returns {JSX.Element | null}\r\n     */\r\n    renderEditValueDialog() {\r\n        if (!this.state.updateOpened || !this.props.objectBrowserValue) {\r\n            return null;\r\n        }\r\n\r\n        const type = this.objects[this.edit.id].common?.type ?\r\n            this.objects[this.edit.id].common.type : typeof this.edit.val;\r\n\r\n        const ObjectBrowserValue = this.props.objectBrowserValue;\r\n\r\n        return <ObjectBrowserValue\r\n            t={this.props.t}\r\n            lang={this.props.lang}\r\n            type={type}\r\n            states={Utils.getStates(this.objects[this.edit.id])}\r\n            themeType={this.props.themeType}\r\n            expertMode={this.state.filter.expertMode}\r\n            value={this.edit.val}\r\n            socket={this.props.socket}\r\n            object={this.objects[this.edit.id]}\r\n            defaultHistory={this.defaultHistory}\r\n            dateFormat={this.props.dateFormat}\r\n            onClose={res => {\r\n                this.setState({ updateOpened: false });\r\n                res && this.onUpdate(res);\r\n            }}\r\n        />;\r\n    }\r\n\r\n    extendObject = (id, data) => {\r\n        return this.props.socket.extendObject(id, data, error =>\r\n            error && window.alert(error));\r\n    }\r\n\r\n    /**\r\n     * The rendering method of this component.\r\n     * @returns {JSX.Element}\r\n     */\r\n    render() {\r\n        this.recordStates = [];\r\n        this.unsubscribeTimer && clearTimeout(this.unsubscribeTimer);\r\n\r\n        // apply filter if changed\r\n        const jsonFilter = JSON.stringify(this.state.filter);\r\n        if (this.lastAppliedFilter !== jsonFilter && this.objects && this.root) {\r\n            const counter = { count: 0 };\r\n\r\n            applyFilter(this.root, this.state.filter, this.state.lang, this.objects, null, counter, this.props.customFilter);\r\n\r\n            if (counter.count < 500 && !this.state.expandAllVisible) {\r\n                setTimeout(() => this.setState({ expandAllVisible: true }));\r\n            } else if (counter.count >= 500 && this.state.expandAllVisible) {\r\n                setTimeout(() => this.setState({ expandAllVisible: false }));\r\n            }\r\n\r\n            this.lastAppliedFilter = jsonFilter;\r\n        }\r\n\r\n        this.unsubscribeTimer = setTimeout(() => {\r\n            this.unsubscribeTimer = null;\r\n            this.checkUnsubscribes();\r\n        }, 200);\r\n\r\n        if (!this.state.loaded) {\r\n            return <CircularProgress key={this.props.dialogName + '_c'} />;\r\n        } else {\r\n            const classes = this.props.classes;\r\n            const items = this.renderItem(this.root, undefined, classes);\r\n\r\n            return <TabContainer key={this.props.dialogName}>\r\n                <TabHeader>\r\n                    {this.getToolbar()}\r\n                </TabHeader>\r\n                <TabContent>\r\n                    {this.renderHeader()}\r\n                    <div className={this.props.classes.tableDiv} ref={this.tableRef}>\r\n                        {items}\r\n                    </div>\r\n                </TabContent>\r\n                {this.renderToast()}\r\n                {this.renderColumnsEditCustomDialog()}\r\n                {this.renderColumnsSelectorDialog()}\r\n                {this.renderCustomDialog()}\r\n                {this.renderEditValueDialog()}\r\n                {this.renderEditObjectDialog()}\r\n                {this.renderEditRoleDialog()}\r\n                {this.renderEnumDialog()}\r\n                {this.renderErrorDialog()}\r\n                {this.renderExportDialog()}\r\n                {this.state.modalNewObj && this.props.modalNewObject && this.props.modalNewObject(this)}\r\n                {this.state.modalEditOfAccess && this.props.modalEditOfAccessControl && this.props.modalEditOfAccessControl(this, this.state.modalEditOfAccessObjData)}\r\n            </TabContainer>;\r\n        }\r\n    }\r\n}\r\n\r\nObjectBrowser.defaultProps = {\r\n    objectAddBoolean: false,\r\n    objectEditBoolean: false,\r\n    objectStatesView: false,\r\n    objectImportExport: false,\r\n    objectEditOfAccessControl: false,\r\n    modalNewObject: () => { },\r\n    modalEditOfAccessControl: () => { },\r\n};\r\n\r\nObjectBrowser.propTypes = {\r\n    dialogName: PropTypes.string, // where to store settings in localStorage\r\n    classes: PropTypes.object,\r\n    defaultFilters: PropTypes.object,\r\n    selected: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.array\r\n    ]),\r\n    onSelect: PropTypes.func,\r\n    onFilterChanged: PropTypes.func,\r\n    socket: PropTypes.object,\r\n    showExpertButton: PropTypes.bool,\r\n    expertMode: PropTypes.bool,\r\n    imagePrefix: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    themeType: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    t: PropTypes.func,\r\n    lang: PropTypes.string.isRequired,\r\n    multiSelect: PropTypes.bool,\r\n    notEditable: PropTypes.bool,\r\n    foldersFirst: PropTypes.bool,\r\n    disableColumnSelector: PropTypes.bool,\r\n    isFloatComma: PropTypes.bool,\r\n    dateFormat: PropTypes.string,\r\n\r\n    // components\r\n    objectCustomDialog: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.func\r\n    ]),\r\n    objectAddBoolean: PropTypes.bool,   // optional toolbar button\r\n    objectEditBoolean: PropTypes.bool,  // optional toolbar button\r\n    objectStatesView: PropTypes.bool,   // optional toolbar button\r\n    objectImportExport: PropTypes.bool, // optional toolbar button\r\n    objectEditOfAccessControl: PropTypes.bool, //Access Control\r\n    modalNewObject: PropTypes.func,     // modal add object\r\n    modalEditOfAccessControl: PropTypes.func, //modal Edit Of Access Control\r\n    onObjectDelete: PropTypes.func,     // optional function (id, hasChildren, objectExists) {  }\r\n    customFilter: PropTypes.object,     // optional {common: {custom: true}} or {common: {custom: 'sql.0'}}\r\n    objectBrowserValue: PropTypes.object,\r\n    objectBrowserEditObject: PropTypes.object,\r\n    objectBrowserEditRole: PropTypes.object, // on Edit role\r\n    router: PropTypes.oneOfType([\r\n        PropTypes.object,\r\n        PropTypes.func\r\n    ]),\r\n    types: PropTypes.array,   // optional ['state', 'instance', 'channel']\r\n    columns: PropTypes.array, // optional ['name', 'type', 'role', 'room', 'func', 'val', 'buttons']\r\n    dragSettings: PropTypes.object,\r\n    DragWrapper: PropTypes.func,\r\n    dragEnabled: PropTypes.bool,\r\n    useDrag: PropTypes.func,\r\n};\r\n\r\n/** @type {typeof ObjectBrowser} */\r\nconst _export = withWidth()(withStyles(styles)(ObjectBrowser));\r\nexport default _export;"],"file":"ObjectBrowser.js"}