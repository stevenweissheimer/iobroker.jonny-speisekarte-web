{"version":3,"sources":["SaveCloseButtons.js"],"names":["styles","theme","buttonIcon","marginRight","SaveCloseButtons","props","isIFrame","window","self","top","e","noTextOnButtons","buttonStyle","borderRadius","saveToolbar","button","height","style","bottom","left","paddingLeft","right","position","background","dense","minHeight","error","border","changed","onSave","classes","I18n","t","Object","assign","marginLeft","flexGrow","onClose","React","Component","propTypes","PropTypes","bool","number","object","isRequired","func","_export"],"mappings":"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","sourcesContent":["// please do not delete React, as without it other projects could not be compiled: ReferenceError: React is not defined\r\nimport React from 'react';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport I18n from '../i18n';\r\n\r\nimport IconSave from '@material-ui/icons/Save';\r\nimport IconClose from '@material-ui/icons/Close';\r\n\r\nconst styles = theme => ({\r\n    buttonIcon: {\r\n        marginRight: 8\r\n    },\r\n});\r\n\r\n/**\r\n * @typedef {object} LogoProps\r\n * @property {boolean} noTextOnButtons Are the buttons without text\r\n * @property {any} theme Theme object (from this.state.theme)\r\n * @property {boolean} isIFrame bottom position 0 or 38 for iFrame\r\n * @property {function} onSave on Save handler\r\n * @property {function} onClose on Close handler\r\n *\r\n * @extends {React.Component<LogoProps>}\r\n */\r\nclass SaveCloseButtons extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        try {\r\n            this.isIFrame = window.self !== window.top;\r\n        } catch (e) {\r\n            this.isIFrame = true;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const noTextOnButtons = this.props.noTextOnButtons;\r\n        const buttonStyle = {\r\n            borderRadius: this.props.theme.saveToolbar.button.borderRadius || 3,\r\n            height:       this.props.theme.saveToolbar.button.height       || 32,\r\n        };\r\n\r\n        const style = {\r\n            bottom: this.isIFrame ? 38 : 0,\r\n            left: this.props.paddingLeft || 0,\r\n            right: 0,\r\n            position: 'absolute',\r\n            background: this.props.theme.saveToolbar.background\r\n        };\r\n        if (this.props.dense) {\r\n            style.minHeight = 48;\r\n        }\r\n\r\n        if (this.props.error) {\r\n            buttonStyle.border = '1px solid red';\r\n        }\r\n\r\n        return <Toolbar position=\"absolute\" style={style}>\r\n            <Fab\r\n                variant=\"extended\"\r\n                aria-label=\"Save\"\r\n                disabled={!this.props.changed || this.props.error}\r\n                onClick={() => this.props.onSave(false)}\r\n                style={buttonStyle}\r\n            >\r\n                <IconSave className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>{!noTextOnButtons && I18n.t('ra_Save')}\r\n            </Fab>\r\n            <Fab\r\n                variant=\"extended\"\r\n                aria-label=\"Save and close\"\r\n                disabled={!this.props.changed || this.props.error}\r\n                onClick={() => this.props.onSave(true)}\r\n                style={Object.assign({}, buttonStyle, {marginLeft: 10})}>\r\n                <IconSave className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>\r\n                {!noTextOnButtons ? I18n.t('ra_Save and close') : '+'}\r\n                {noTextOnButtons && <IconClose/>}\r\n            </Fab>\r\n            <div style={{flexGrow: 1}}/>\r\n            <Fab variant=\"extended\" aria-label=\"Close\" onClick={() => this.props.onClose()} style={buttonStyle}>\r\n                <IconClose className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>{!noTextOnButtons && I18n.t('ra_Close')}\r\n            </Fab>\r\n        </Toolbar>;\r\n    }\r\n}\r\n\r\nSaveCloseButtons.propTypes = {\r\n    dense: PropTypes.bool,\r\n    paddingLeft: PropTypes.number,\r\n    noTextOnButtons: PropTypes.bool,\r\n    theme: PropTypes.object,\r\n    isIFrame: PropTypes.bool,\r\n    changed: PropTypes.bool.isRequired,\r\n    error: PropTypes.bool,\r\n    onSave: PropTypes.func.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\n/** @type {typeof SaveCloseButtons} */\r\nconst _export = withStyles(styles)(SaveCloseButtons);\r\nexport default _export;"],"file":"SaveCloseButtons.js"}