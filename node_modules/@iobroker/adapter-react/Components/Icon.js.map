{"version":3,"sources":["Icon.js"],"names":["getSystemIcon","obj","icon","id","_id","startsWith","endsWith","type","getSelectIdIcon","imagePrefix","src","common","cIcon","includes","instance","name","split","Icon","props","length","style","Utils","clsx","className","width","height","React","Component","propTypes","key","PropTypes","string","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SVG from 'react-inlinesvg';\r\n\r\nimport IconSystem from '@material-ui/icons/SettingsApplications';\r\nimport IconPhoto from '@material-ui/icons/Photo';\r\nimport IconGroup from '@material-ui/icons/SupervisedUserCircle';\r\nimport IconUser from '@material-ui/icons/PersonOutlined';\r\nimport IconHost from '@material-ui/icons/Router';\r\nimport IconConnection from '@material-ui/icons/Wifi';\r\nimport IconInfo from '@material-ui/icons/Info';\r\nimport IconMeta from '@material-ui/icons/Description';\r\nimport IconAlias from '../icons/IconAlias';\r\n\r\nimport Utils from './Utils';\r\n\r\nexport function getSystemIcon(obj) {\r\n    let icon;\r\n    const id = obj?._id;\r\n\r\n    if (!id) {\r\n        return null;\r\n    }\r\n\r\n    // system or design have special icons\r\n    if (id.startsWith('_design/') || (id === 'system')) {\r\n        icon = <IconSystem className=\"iconOwn\" />;\r\n    } else if (id === '0_userdata' || id === '0_userdata.0') {\r\n        icon = <IconPhoto className=\"iconOwn\" />;\r\n    } else if (id === 'alias' || id === 'alias.0') {\r\n        icon = <IconAlias className=\"iconOwn\" />;\r\n    } else if (id === 'system.adapter') {\r\n        icon = <IconSystem className=\"iconOwn\" />;\r\n    } else if (id === 'system.group') {\r\n        icon = <IconGroup className=\"iconOwn\" />;\r\n    } else if (id === 'system.user') {\r\n        icon = <IconUser className=\"iconOwn\" />;\r\n    } else if (id === 'system.host') {\r\n        icon = <IconHost className=\"iconOwn\" />;\r\n    } else if (id.endsWith('.connection') || id.endsWith('.connected')) {\r\n        icon = <IconConnection className=\"iconOwn\" />;\r\n    } else if (id.endsWith('.info')) {\r\n        icon = <IconInfo className=\"iconOwn\" />;\r\n    } else if (obj?.type === 'meta') {\r\n        icon = <IconMeta className=\"iconOwn\" />;\r\n    }\r\n\r\n    return icon || null;\r\n}\r\n\r\nexport function getSelectIdIcon(obj, imagePrefix) {\r\n    imagePrefix = imagePrefix || '.';//http://localhost:8081';\r\n    let src = '';\r\n    const common = obj?.common;\r\n\r\n    if (common) {\r\n        const cIcon = common.icon;\r\n        if (cIcon) {\r\n            if (!cIcon.startsWith('data:image/')) {\r\n                if (cIcon.includes('.')) {\r\n                    let instance;\r\n                    if (obj.type === 'instance' || obj.type === 'adapter') {\r\n                        src = imagePrefix + '/adapter/' + common.name + '/' + cIcon;\r\n                    } else if (obj._id && obj._id.startsWith('system.adapter.')) {\r\n                        instance = obj._id.split('.', 3);\r\n                        if (cIcon[0] === '/') {\r\n                            instance[2] += cIcon;\r\n                        } else {\r\n                            instance[2] += '/' + cIcon;\r\n                        }\r\n                        src = imagePrefix + '/adapter/' + instance[2];\r\n                    } else {\r\n                        instance = obj._id.split('.', 2);\r\n                        if (cIcon[0] === '/') {\r\n                            instance[0] += cIcon;\r\n                        } else {\r\n                            instance[0] += '/' + cIcon;\r\n                        }\r\n                        src = imagePrefix + '/adapter/' + instance[0];\r\n                    }\r\n                } else {\r\n                    return null;\r\n                }\r\n            } else {\r\n                // base 64 image\r\n                src = cIcon;\r\n            }\r\n        }\r\n    }\r\n\r\n    return src || null;\r\n}\r\n\r\nclass Icon extends React.Component {\r\n    render() {\r\n        if (this.props.src) {\r\n            if (typeof this.props.src === 'string') {\r\n                if (this.props.src.length < 3) {\r\n                    return <span style={this.props.style || {}} className={ Utils.clsx(this.props.className, 'iconOwn') }>{this.props.src}</span>; // utf-8 char\r\n                } else {\r\n                    if (this.props.src.startsWith('data:image/svg')) {\r\n                        return <SVG src={this.props.src} className={ Utils.clsx(this.props.className, 'iconOwn') } width={this.props.style?.width || 28} height={this.props.style?.height || this.props.style?.width || 28} style={this.props.style || {}}/>;\r\n                    } else {\r\n                        return <img style={this.props.style || {}} className={ Utils.clsx(this.props.className, 'iconOwn') } src={ this.props.src } alt=\"\" />;\r\n                    }\r\n                }\r\n            } else {\r\n                return this.props.src;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nIcon.propTypes = {\r\n    key: PropTypes.string,\r\n    color: PropTypes.string,\r\n    src: PropTypes.string,\r\n    className: PropTypes.string,\r\n    imagePrefix: PropTypes.string,\r\n};\r\n\r\nexport default Icon;"],"file":"Icon.js"}