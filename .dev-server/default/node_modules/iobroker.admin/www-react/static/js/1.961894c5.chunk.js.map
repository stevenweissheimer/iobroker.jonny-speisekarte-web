{"version":3,"sources":["../node_modules/@material-ui/icons/Save.js","components/JsonConfigComponent/ConfigTabs.js","components/JsonConfigComponent/index.js","../node_modules/@material-ui/core/esm/Toolbar/index.js","components/JsonConfigComponent/ConfigCustomEasyAccess.js","components/JsonConfig.js","dialogs/Config.js","../SaveCloseButtons.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","ConfigTabs","props","tab","window","localStorage","getItem","dialogName","adapterName","keys","schema","items","includes","state","this","className","classes","tabs","Tabs","onChange","e","setItem","setState","map","name","disabled","execute","Tab","wrapped","label","getText","ConfigPanel","isParentTab","onCommandRunning","commandRunning","panel","socket","instance","common","customs","alive","themeType","themeName","data","originalData","systemConfig","onError","multiEdit","forceUpdate","registerOnForceUpdate","customObj","instanceObj","custom","ConfigGeneric","propTypes","PropTypes","object","isRequired","string","style","func","number","bool","dateFormat","isFloatComma","withStyles","theme","height","width","display","I18n","extendTranslations","words","lang","translations","console","warn","forEach","word","error","JsonConfigComponent","onAlive","id","val","cb","onValueChange","_data","attr","startsWith","changed","JSON","stringify","errors","parse","length","Array","isArray","a","forceUpdateHandlers","updateData","buildDependencies","readData","Promise","resolve","getObject","then","obj","native","readSettings","getCompactSystemConfig","getState","subscribeState","_list","flatten","attrs","confirm","alsoDependsOn","dep","confirmDependsOn","depObj","cancel","push","replace","onChangeDependsOn","hidden","hiddenDependsOn","labelDependsOn","help","helpDependsOn","item","type","root","renderItem","LinearProgress","i18n","getLanguage","path","fileExists","exists","fileName","readFile","json","Component","ConfigCustomEasyAccess","getAdapterInstances","instances","filter","adminUI","config","_id","adminTab","sort","b","defaultValue","accessAllowedConfigs","getValue","accessAllowedTabs","TableContainer","Table","table","size","TableHead","TableRow","TableCell","header","t","TableBody","row","component","scope","Checkbox","checked","onClick","_accessAllowedConfigs","pos","indexOf","splice","_accessAllowedTabs","minWidth","fontSize","fontWeight","encrypt","key","result","i","String","fromCharCode","charCodeAt","JsonConfig","handleFileSelect","evt","f","target","files","r","FileReader","onload","contents","err","alert","readAsText","componentDidUpdate","prevProps","prevState","configStored","confirmDialog","getInstanceObject","getConfigFile","loadI18n","exportImportButtons","Tooltip","title","Fab","button","input","document","setAttribute","addEventListener","click","Utils","generateFile","transform","catch","encryptedNative","getSystemConfig","secret","decrypt","text","ok","onClose","isYes","Router","doNavigate","k","findAttr","doSave","close","doNotSave","setValue","setObject","renderConfirmDialog","getExportImportButtons","scroll","configCustomEasyAccess","isIFrame","dense","paddingLeft","noTextOnButtons","onSave","menuPadding","overflow","position","overflowY","top","right","zIndex","marginRight","Config","checkedExist","refIframe","createRef","registered","snapshot","contentWindow","onRegisterIframeRef","eventFunc","emit","eventName","adapter","exist","event","closeConfig","removeEventListener","onUnregisterIframeRef","message","easyMode","jsonConfig","open","src","materialize","ref","el","location","port","Paper","AppBar","color","Toolbar","variant","Typography","icon","instanceIcon","renderHelpButton","getConfigurator","flexDirection","spacing","verticalAlign","SaveCloseButtons","buttonStyle","borderRadius","saveToolbar","bottom","left","background","marginLeft","flexGrow","newReact","buttonIcon"],"mappings":"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","file":"static/js/1.961894c5.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport ConfigPanel from './ConfigPanel';\n\nconst styles = theme => ({\n    tabs: {\n        height: '100%',\n        width: '100%',\n    },\n    panel: {\n        height: 'calc(100% - 48px)',\n        width: '100%',\n        display: 'block'\n    }\n});\n\nclass ConfigTabs extends ConfigGeneric {\n    constructor(props) {\n        super(props);\n\n        let tab = window.localStorage.getItem((this.props.dialogName || 'App') + '.' + this.props.adapterName) || Object.keys(this.props.schema.items)[0];\n        if (!Object.keys(this.props.schema.items).includes(tab)) {\n            tab = Object.keys(this.props.schema.items)[0];\n        }\n        this.state = {\n            tab,\n        };\n    }\n\n    render() {\n        const items = this.props.schema.items;\n\n        return <div className={this.props.classes.tabs}>\n            <Tabs value={this.state.tab} onChange={(e, tab) => {\n                window.localStorage.setItem((this.props.dialogName || 'App') + '.' + this.props.adapterName, tab);\n                this.setState({tab});\n            }}>\n                {Object.keys(items).map(name => {\n                    const disabled = this.execute(items[name].disabled, false);\n                    return <Tab wrapped disabled={disabled} key={name} value={name} label={this.getText(items[name].label)} />\n                })}\n            </Tabs>\n            {<ConfigPanel\n                key={this.state.tab}\n                isParentTab={true}\n                onCommandRunning={this.props.onCommandRunning}\n                commandRunning={this.props.commandRunning}\n                className={this.props.classes.panel}\n                socket={this.props.socket}\n                adapterName={this.props.adapterName}\n                instance={this.props.instance}\n                common={this.props.common}\n                customs={this.props.customs}\n                alive={this.props.alive}\n                themeType={this.props.themeType}\n                themeName={this.props.themeName}\n                data={this.props.data}\n                originalData={this.props.originalData}\n                systemConfig={this.props.systemConfig}\n                onError={this.props.onError}\n                onChange={this.props.onChange}\n                multiEdit={this.props.multiEdit}\n\n                forceUpdate={this.props.forceUpdate}\n                registerOnForceUpdate={this.props.registerOnForceUpdate}\n\n                customObj={this.props.customObj}\n                instanceObj={this.props.instanceObj}\n                custom={this.props.custom}\n\n                schema={items[this.state.tab]}\n            />}\n        </div>;\n    }\n}\n\nConfigTabs.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    originalData: PropTypes.object,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    customs: PropTypes.object,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    commandRunning: PropTypes.bool,\n    onCommandRunning: PropTypes.func,\n    dateFormat: PropTypes.string,\n    isFloatComma: PropTypes.bool,\n    multiEdit: PropTypes.bool,\n\n    customObj: PropTypes.object,\n    instanceObj: PropTypes.object,\n    custom: PropTypes.bool,\n\n    registerOnForceUpdate: PropTypes.func.isRequired,\n    forceUpdate: PropTypes.func.isRequired,\n    systemConfig: PropTypes.object,\n    alive: PropTypes.bool,\n    common: PropTypes.object,\n};\n\nexport default withStyles(styles)(ConfigTabs);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport ConfigTabs from './ConfigTabs';\nimport ConfigPanel from './ConfigPanel';\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        height: '100%'\n    }\n});\n\n// Todo: delete it after adapter-react 1.6.9\nI18n.extendTranslations = I18n.extendTranslations || ((words, lang) => {\n    try {\n        if (!lang) {\n            Object.keys(words).forEach(word => {\n                Object.keys(words[word]).forEach(lang => {\n                    if (!I18n.translations[lang]) {\n                        console.warn(`Used unknown language: ${lang}`);\n                    }\n                    if (!I18n.translations[lang][word]) {\n                        I18n.translations[lang][word] = words[word][lang];\n                    } else if (I18n.translations[lang][word] !== words[word][lang]) {\n                        console.warn(`Translation for word \"${word}\" in \"${lang}\" was ignored: existing = \"${I18n.translations[lang][word]}\", new = ${words[word][lang]}`);\n                    }\n                });\n            });\n        } else {\n            if (!I18n.translations[lang]) {\n                console.warn(`Used unknown language: ${lang}`);\n            }\n            I18n.translations[lang] = I18n.translations[lang] || {};\n            Object.keys(words)\n                .forEach(word => {\n                    if (!I18n.translations[lang][word]) {\n                        I18n.translations[lang][word] = words[word];\n                    } else if (I18n.translations[lang][word] !== words[word]) {\n                        console.warn(`Translation for word \"${word}\" in \"${lang}\" was ignored: existing = \"${I18n.translations[lang][word]}\", new = ${words[word]}`);\n                    }\n                });\n        }\n    } catch (e) {\n        console.error(`Cannot apply translations: ${e}`);\n    }\n});\n\nclass JsonConfigComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            originalData: JSON.stringify(this.props.data),\n            changed: false,\n            errors: {\n\n            },\n            updateData: this.props.updateData,\n            systemConfig: null,\n            alive: false,\n            commandRunning: false,\n        };\n\n        this.forceUpdateHandlers = {};\n\n        this.schema = JSON.parse(JSON.stringify(this.props.schema));\n        this.buildDependencies(this.schema);\n\n        this.readData();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (JSON.stringify(props.updateData) !== JSON.stringify(state.updateData)) {\n            return {updateData: props.updateData, originalData: JSON.stringify(props.data)};\n        } else {\n            return null;\n        }\n    }\n\n    static loadI18n(socket, i18n, adapterName) {\n        if (i18n === true || (i18n && typeof i18n === 'string')) {\n            const lang = I18n.getLanguage();\n            const path = typeof i18n === 'string' ? i18n : 'i18n';\n            return socket.fileExists(adapterName + '.admin', `${path}/${lang}.json`)\n                .then(exists => {\n                    if (exists) {\n                        return `${path}/${lang}.json`;\n                    } else {\n                        return socket.fileExists(adapterName + '.admin', `${path}/${lang}/translations.json`)\n                            .then(exists =>\n                                exists ? `${path}/${lang}/translations.json` : '')\n                    }\n                })\n                .then(fileName => {\n                    if (fileName) {\n                        return socket.readFile(adapterName + '.admin', fileName)\n                            .then(json => {\n                                try {\n                                    json = JSON.parse(json);\n                                    // apply file to I18n\n                                    I18n.extendTranslations(json, lang);\n                                } catch (e) {\n                                    console.error(`Cannot parse language file \"${adapterName}.admin/${fileName}: ${e}`);\n                                }\n                            })\n                    } else {\n                        console.warn(`Cannot find i18n for ${adapterName} / ${fileName}`);\n                        return Promise.resolve();\n                    }\n                });\n        } else if (i18n && typeof i18n === 'object') {\n            I18n.extendTranslations(i18n);\n            return Promise.resolve();\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onCommandRunning = commandRunning => this.setState( {commandRunning});\n\n    readSettings() {\n        if ((this.props.custom || this.props.common) && this.props.data) {\n            return Promise.resolve();\n        } else {\n            return this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`)\n                .then(obj => this.setState({common: obj.common, data: this.props.data || obj.native}));\n        }\n    }\n\n    readData() {\n        this.readSettings()\n            .then(() => this.props.socket.getCompactSystemConfig())\n            .then(systemConfig =>\n                this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`)\n                    .then(state => {\n                        if (this.props.custom) {\n                            this.setState({systemConfig: systemConfig.common, alive: !!(state && state.val)});\n                        } else {\n                            this.setState({systemConfig: systemConfig.common, alive: !!(state && state.val)}, () =>\n                                this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`, this.onAlive));\n                        }\n                    }));\n    }\n\n    onAlive = (id, state) => {\n        if ((state?.val || false) !== this.state.alive) {\n            this.setState({alive: state?.val || false});\n        }\n    }\n\n    onChange = (data, value, cb) => {\n        if (this.props.onValueChange) {\n            this.props.onValueChange(data, value);\n            cb && cb();\n        } else {\n            const state = {data};\n\n            const _data = {};\n            // remove all attributes starting with \"_\"\n            Object.keys(data).forEach(attr => !attr.startsWith('_') && (_data[attr] = data[attr]));\n\n            state.changed = JSON.stringify(_data) !== this.state.originalData;\n\n            this.setState({state}, () => {\n                this.props.onChange(_data, state.changed);\n                cb && cb();\n            });\n        }\n    }\n\n    onError = (attr, error) => {\n        const errors = JSON.parse(JSON.stringify(this.state.errors));\n        if (error) {\n            errors[attr] = error;\n        } else {\n            delete errors[attr];\n        }\n\n        if (JSON.stringify(errors) !== JSON.parse(JSON.stringify(this.state.errors))) {\n            this.setState({errors}, () =>\n                this.props.onError(!!Object.keys(this.state.errors).length));\n        }\n    }\n\n    flatten(schema, _list) {\n        _list = _list || {};\n        if (schema.items) {\n            Object.keys(schema.items).forEach(attr => {\n                _list[attr] = schema.items[attr];\n                this.flatten(schema.items[attr], _list);\n            });\n        }\n\n        return _list;\n    }\n\n    buildDependencies(schema) {\n        const attrs = this.flatten(schema);\n        Object.keys(attrs).forEach(attr => {\n            if (attrs[attr].confirm?.alsoDependsOn) {\n                attrs[attr].confirm?.alsoDependsOn.forEach(dep => {\n                    if (!attrs[dep]) {\n                        console.error(`[JsonConfigComponent] Attribute ${dep} does not exist!`);\n                        if (dep.startsWith('data.')) {\n                            console.warn(`[JsonConfigComponent] please use \"${dep.replace(/^data\\./, '')}\" instead of \"${dep}\"`);\n                        }\n                    } else {\n                        attrs[dep].confirmDependsOn = attrs[dep].confirmDependsOn || [];\n\n                        const depObj = {...attrs[attr], attr};\n                        if (depObj.confirm) {\n                            depObj.confirm.cancel = 'Undo';\n                        }\n\n                        attrs[dep].confirmDependsOn.push(depObj);\n                    }\n                });\n            }\n\n            if (attrs[attr].onChange?.alsoDependsOn) {\n                attrs[attr].onChange?.alsoDependsOn.forEach(dep => {\n                    if (!attrs[dep]) {\n                        console.error(`[JsonConfigComponent] Attribute ${dep} does not exist!`);\n                        if (dep.startsWith('data.')) {\n                            console.warn(`[JsonConfigComponent] please use \"${dep.replace(/^data\\./, '')}\" instead of \"${dep}\"`);\n                        }\n                    } else {\n                        attrs[dep].onChangeDependsOn = attrs[dep].onChangeDependsOn || [];\n\n                        const depObj = {...attrs[attr], attr};\n\n                        attrs[dep].onChangeDependsOn.push(depObj);\n                    }\n                });\n            }\n\n            if (attrs[attr].hidden?.alsoDependsOn) {\n                attrs[attr].hidden?.alsoDependsOn.forEach(dep => {\n                    if (!attrs[dep]) {\n                        console.error(`[JsonConfigComponent] Attribute ${dep} does not exist!`);\n                        if (dep.startsWith('data.')) {\n                            console.warn(`[JsonConfigComponent] please use \"${dep.replace(/^data\\./, '')}\" instead of \"${dep}\"`);\n                        }\n                    } else {\n                        attrs[dep].hiddenDependsOn = attrs[dep].hiddenDependsOn || [];\n\n                        const depObj = {...attrs[attr], attr};\n\n                        attrs[dep].hiddenDependsOn.push(depObj);\n                    }\n                });\n            }\n\n            if (attrs[attr].label?.alsoDependsOn) {\n                attrs[attr].label?.alsoDependsOn.forEach(dep => {\n                    if (!attrs[dep]) {\n                        console.error(`[JsonConfigComponent] Attribute ${dep} does not exist!`);\n                        if (dep.startsWith('data.')) {\n                            console.warn(`[JsonConfigComponent] please use \"${dep.replace(/^data\\./, '')}\" instead of \"${dep}\"`);\n                        }\n                    } else {\n                        attrs[dep].labelDependsOn = attrs[dep].labelDependsOn || [];\n\n                        const depObj = {...attrs[attr], attr};\n\n                        attrs[dep].labelDependsOn.push(depObj);\n                    }\n                });\n            }\n\n            if (attrs[attr].help?.alsoDependsOn) {\n                attrs[attr].help?.alsoDependsOn.forEach(dep => {\n                    if (!attrs[dep]) {\n                        console.error(`[JsonConfigComponent] Attribute ${dep} does not exist!`);\n                        if (dep.startsWith('data.')) {\n                            console.warn(`[JsonConfigComponent] please use \"${dep.replace(/^data\\./, '')}\" instead of \"${dep}\"`);\n                        }\n                    } else {\n                        attrs[dep].helpDependsOn = attrs[dep].helpDependsOn || [];\n\n                        const depObj = {...attrs[attr], attr};\n\n                        attrs[dep].helpDependsOn.push(depObj);\n                    }\n                });\n            }\n        });\n    }\n\n    renderItem(item) {\n        if (item.type === 'tabs') {\n            return <ConfigTabs\n                onCommandRunning={this.onCommandRunning}\n                commandRunning={this.state.commandRunning}\n                socket={this.props.socket}\n                adapterName={this.props.adapterName}\n                instance={this.props.instance}\n                common={this.props.common}\n                alive={this.state.alive}\n                themeType={this.props.themeType}\n                themeName={this.props.themeName}\n                data={this.props.data}\n                originalData={JSON.parse(this.state.originalData)}\n                schema={item}\n                systemConfig={this.state.systemConfig}\n                customs={this.props.customs}\n                dateFormat={this.props.dateFormat}\n                isFloatComma={this.props.isFloatComma}\n                multiEdit={this.props.multiEdit}\n\n                custom={this.props.custom}\n                customObj={this.props.customObj}\n                instanceObj={this.props.instanceObj}\n\n                forceUpdate={this.forceUpdate}\n                registerOnForceUpdate={this.registerOnForceUpdate}\n\n                onChange={this.onChange}\n                onError={(attr, error) => this.onError(attr, error)}\n            />;\n        } else if (item.type === 'panel' || !item.type) {\n            return <ConfigPanel\n                isParentTab={true}\n                onCommandRunning={this.onCommandRunning}\n                commandRunning={this.state.commandRunning}\n                socket={this.props.socket}\n                adapterName={this.props.adapterName}\n                instance={this.props.instance}\n                common={this.props.common}\n                alive={this.state.alive}\n                themeType={this.props.themeType}\n                themeName={this.props.themeName}\n                data={this.props.data}\n                originalData={JSON.parse(this.state.originalData)}\n                schema={item}\n                systemConfig={this.state.systemConfig}\n                customs={this.props.customs}\n                dateFormat={this.props.dateFormat}\n                isFloatComma={this.props.isFloatComma}\n                multiEdit={this.props.multiEdit}\n\n                forceUpdate={this.forceUpdate}\n                registerOnForceUpdate={this.registerOnForceUpdate}\n\n                custom={this.props.custom}\n                customObj={this.props.customObj}\n                instanceObj={this.props.instanceObj}\n\n                onChange={this.onChange}\n                onError={(attr, error) => this.onError(attr, error)}\n            />\n        }\n    }\n\n    forceUpdate = (attr, data) => {\n        if (Array.isArray(attr)) {\n            attr.forEach(a =>\n                this.forceUpdateHandlers[a] && this.forceUpdateHandlers[a](data));\n        } else {\n            if (this.forceUpdateHandlers[attr]) {\n                this.forceUpdateHandlers[attr](data);\n            }\n        }\n    }\n\n    registerOnForceUpdate = (attr, cb) => {\n        if (cb) {\n            this.forceUpdateHandlers[attr] = cb;\n        } else if (this.forceUpdateHandlers[attr]) {\n            delete this.forceUpdateHandlers[attr];\n        }\n    }\n\n    render() {\n        if (!this.state.systemConfig) {\n            return <LinearProgress />;\n        }\n\n        return <div className={this.props.classes.root}>\n            {this.renderItem(this.schema)}\n        </div>;\n    }\n}\n\nJsonConfigComponent.propTypes = {\n    socket: PropTypes.object.isRequired,\n\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    common: PropTypes.object,\n    customs: PropTypes.object, // custom components\n\n    custom: PropTypes.bool, // is the customs settings must be shown\n    customObj: PropTypes.object,\n    multiEdit: PropTypes.bool, // set if user edits more than one object simultaneously\n    instanceObj: PropTypes.object,\n    dateFormat: PropTypes.string,\n    isFloatComma: PropTypes.bool,\n\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    updateData: PropTypes.number,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    onValueChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(JsonConfigComponent);","export { default } from './Toolbar';","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    table: {\n        minWidth: 400\n    },\n    header: {\n        fontSize: 16,\n        fontWeight: 'bold'\n    }\n});\n\nclass ConfigCustomEasyAccess extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n\n        this.props.socket.getAdapterInstances()\n            .then(instances => {\n                instances = instances\n                    .filter(instance =>\n                        instance?.common?.adminUI && (instance.common.adminUI.config !== 'none' || instance.common.adminUI.tab))\n                    .map(instance => ({\n                        id: instance._id.replace(/^system\\.adapter\\./, ''),\n                        config: instance.common.adminUI.config !== 'none',\n                        adminTab: instance.common.adminTab\n                    }))\n                    .sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0));\n\n                this.setState({instances});\n            });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.instances) {\n            return null;\n        } else {\n            const accessAllowedConfigs = ConfigGeneric.getValue(this.props.data, 'accessAllowedConfigs') || [];\n            const accessAllowedTabs    = ConfigGeneric.getValue(this.props.data, 'accessAllowedTabs')    || [];\n\n            return <TableContainer>\n                <Table className={this.props.classes.table} size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell className={this.props.classes.header}>{I18n.t('Instance')}</TableCell>\n                            <TableCell className={this.props.classes.header}>{I18n.t('Config')}</TableCell>\n                            <TableCell className={this.props.classes.header}>{I18n.t('Tab')}</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {this.state.instances.map((row) => (\n                            <TableRow key={row.id}>\n                                <TableCell component=\"th\" scope=\"row\">{row.id}</TableCell>\n                                <TableCell>\n                                    {row.config ?\n                                        <Checkbox checked={accessAllowedConfigs.includes(row.id)}\n                                            onClick={() => {\n                                                const _accessAllowedConfigs = [...accessAllowedConfigs];\n                                                const pos = _accessAllowedConfigs.indexOf(row.id);\n                                                if (pos !== -1) {\n                                                    _accessAllowedConfigs.splice(pos, 1);\n                                                } else {\n                                                    _accessAllowedConfigs.push(row.id);\n                                                    _accessAllowedConfigs.sort();\n                                                }\n                                                this.onChange('accessAllowedConfigs', _accessAllowedConfigs);\n                                            }}\n                                        />\n                                    : null}</TableCell>\n                                <TableCell>\n                                    {row.adminTab ?\n                                        <Checkbox\n                                            checked={accessAllowedTabs.includes(row.id)}\n                                             onClick={() => {\n                                                 const _accessAllowedTabs = [...accessAllowedTabs];\n                                                 const pos = _accessAllowedTabs.indexOf(row.id);\n                                                 if (pos !== -1) {\n                                                     _accessAllowedTabs.splice(pos, 1);\n                                                 } else {\n                                                     _accessAllowedTabs.push(row.id);\n                                                     _accessAllowedTabs.sort();\n                                                 }\n                                                 this.onChange('accessAllowedTabs', _accessAllowedTabs);\n                                             }}\n                                        /> : null}\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>;\n        }\n    }\n}\n\nConfigCustomEasyAccess.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigCustomEasyAccess);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fab from '@material-ui/core/Fab';\nimport PublishIcon from \"@material-ui/icons/Publish\";\n\nimport SaveCloseButtons from '@iobroker/adapter-react/Components/SaveCloseButtons';\nimport Router from '@iobroker/adapter-react/Components/Router';\nimport theme from '@iobroker/adapter-react/Theme';\nimport ConfirmDialog from '@iobroker/adapter-react/Dialogs/Confirm';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport JsonConfigComponent from './JsonConfigComponent';\nimport ConfigCustomEasyAccess from './JsonConfigComponent/ConfigCustomEasyAccess';\nimport ConfigGeneric from './JsonConfigComponent/ConfigGeneric';\nimport Utils from './Utils';\n\nconst styles = {\n    root: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n    },\n    scroll: {\n        height: 'calc(100% - 48px - 48px)',\n        overflowY: 'auto'\n    },\n    exportImportButtons: {\n        position: 'absolute',\n        top: 5,\n        right: 0,\n        zIndex: 3,\n    },\n    button: {\n        marginRight: 5\n    }\n};\n\n/**\n * Decrypt the password/value with given key\n *  Usage:\n *  ```\n *     function load(settings, onChange) {\n *          if (settings.password) {\n *              settings.password = decrypt(systemSecret, settings.password);\n *              // same as\n *              settings.password = decrypt(settings.password);\n *          }\n *          // ...\n *     }\n *  ```\n * @param {string} key - Secret key\n * @param {string} value - value to decrypt\n * @returns {string}\n */\nfunction decrypt(key, value) {\n    let result = '';\n    for (let i = 0; i < value.length; i++) {\n        result += String.fromCharCode(key[i % key.length].charCodeAt(0) ^ value.charCodeAt(i));\n    }\n    return result;\n}\n\n/**\n * Encrypt the password/value with given key\n *  Usage:\n *  ```\n *     function save(callback) {\n *          ...\n *          if (obj.password) {\n *              obj.password = encrypt(systemSecret, obj.password);\n *              // same as\n *              obj.password = decrypt(obj.password);\n *          }\n *          ...\n *    }\n *  ```\n * @param {string} key - Secret key\n * @param {string} value - value to encrypt\n * @returns {string}\n */\nfunction encrypt(key, value) {\n    let result = '';\n    for (let i = 0; i < value.length; i++) {\n        result += String.fromCharCode(key[i % key.length].charCodeAt(0) ^ value.charCodeAt(i));\n    }\n    return result;\n}\n\nclass JsonConfig extends Router {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            schema: null,\n            data: null,\n            updateData: 0,\n            common: null,\n            changed: false,\n            confirmDialog: false,\n            theme: theme(props.themeName), // buttons requires special theme\n        };\n\n        this.getInstanceObject()\n            .then(obj => this.getConfigFile()\n                .then(schema =>\n                    // load language\n                    JsonConfigComponent.loadI18n(this.props.socket, schema?.i18n, this.props.adapterName)\n                        .then(() => {\n                            if (obj) {\n                                this.setState({schema, data: obj.native, common: obj.common});\n                            } else {\n                                window.alert(`Instance system.adapter.${this.props.adapterName}.${this.props.instance} not found!`);\n                            }\n                        })));\n    }\n\n    /**\n     * @private\n     * @param {object} evt\n     */\n    handleFileSelect = evt => {\n        let f = evt.target.files[0];\n        if (f) {\n            let r = new FileReader();\n            r.onload = async e => {\n                let contents = e.target.result;\n                try {\n                    let json = JSON.parse(contents);\n                    this.setState({data: json});\n                } catch (err) {\n                    window.alert(I18n.t('[JsonConfig] Failed to parse JSON file'));\n                }\n            };\n            r.readAsText(f);\n        } else {\n            window.alert(I18n.t('[JsonConfig] Failed to open JSON File'));\n        }\n    }\n\n    getExportImportButtons() {\n        return <div className={this.props.classes.exportImportButtons}>\n            <Tooltip title={this.props.t('Import settings from JSON file')}>\n                <Fab size=\"small\" classes={{root: this.props.classes.button}} onClick={() => {\n                    const input = document.createElement('input');\n                    input.setAttribute('type', 'file');\n                    input.setAttribute('id', 'files');\n                    input.setAttribute('opacity', 0);\n                    input.addEventListener('change', e => this.handleFileSelect(e), false);\n                    input.click();\n                }}>\n                    <PublishIcon />\n                </Fab>\n            </Tooltip>\n            <Tooltip title={this.props.t('Export setting to JSON file')}>\n                <Fab size=\"small\" classes={{root: this.props.classes.button}} onClick={() => {\n                    Utils.generateFile(this.props.adapterName + '.' + this.props.instance + '.json', this.state.data);\n                }}>\n                    <PublishIcon style={{ transform: 'rotate(180deg)' }} />\n                </Fab>\n            </Tooltip>\n        </div>;\n    }\n\n    getConfigFile() {\n        return this.props.socket.readFile(this.props.adapterName + '.admin', 'jsonConfig.json')\n            .then(data => {\n                try {\n                    return JSON.parse(data);\n                } catch (e) {\n                    window.alert('[JsonConfig] Cannot parse json config!');\n                }\n            })\n            .catch(e => window.alert('[JsonConfig] Cannot read file: ' + e));\n    }\n\n    getInstanceObject() {\n        return this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`)\n            .then(obj => {\n                // decode all native attributes listed in obj.encryptedNative\n                if (Array.isArray(obj.encryptedNative)) {\n                    return this.props.socket.getSystemConfig()\n                        .then(systemConfig => {\n                            this.secret = systemConfig.native.secret;\n\n                            obj.encryptedNative.forEach(attr => {\n                                if (obj.native[attr]) {\n                                    obj.native[attr] = decrypt(this.secret, obj.native[attr]);\n                                }\n                            });\n                            return obj;\n                        });\n                } else {\n                    return obj;\n                }\n            })\n            .catch(e => window.alert('[JsonConfig] Cannot read instance object: ' + e));\n    }\n\n    renderConfirmDialog() {\n        if (!this.state.confirmDialog) {\n            return null;\n        }\n        return <ConfirmDialog\n            title={ I18n.t('Please confirm') }\n            text={ I18n.t('Some data are not stored. Discard?') }\n            ok={ I18n.t('Discard') }\n            cancel={ I18n.t('Cancel') }\n            onClose={isYes =>\n                this.setState({ confirmDialog: false}, () => isYes && Router.doNavigate(null))}\n        />;\n    }\n\n    findAttr(attr, schema) {\n        schema = schema || this.state.schema;\n        if (schema.items) {\n            if (schema.items[attr]) {\n                return schema.items[attr];\n            } else {\n                const keys = Object.keys(schema.items);\n                for (let k = 0; k < keys.length; k++) {\n                    const item = this.findAttr(attr, schema.items[keys[k]]);\n                    if (item) {\n                        return item;\n                    }\n                }\n            }\n        }\n    }\n\n    async onSave(doSave, close) {\n        if (doSave) {\n            const obj = await this.getInstanceObject();\n\n            if (!obj) {\n                console.error('Something went wrong: may be no connection?');\n                window.alert('Something went wrong: may be no connection?');\n                return;\n            }\n\n            Object.keys(this.state.data).forEach(attr => {\n                const item = this.findAttr(attr);\n                if (!item || !item.doNotSave) {\n                    ConfigGeneric.setValue(obj.native, attr, this.state.data[attr]);\n                } else {\n                    ConfigGeneric.setValue(obj.native, attr, null);\n                }\n            });\n\n            try {\n                // encode all native attributes listed in obj.encryptedNative\n                if (Array.isArray(obj.encryptedNative)) {\n                    obj.encryptedNative.forEach(attr => {\n                        if (obj.native[attr]) {\n                            obj.native[attr] = encrypt(this.secret, obj.native[attr]);\n                        }\n                    });\n                }\n\n                await this.props.socket.setObject(obj._id, obj);\n            } catch (e) {\n                window.alert(`[JsonConfig] Cannot set object: ${e}`);\n            }\n\n            this.setState({\n                changed: false,\n                data: obj.native,\n                updateData: this.state.updateData + 1,\n                originalData: JSON.parse(JSON.stringify(obj.native))\n            }, () =>\n                close && Router.doNavigate(null));\n        } else {\n            if (this.state.changed) {\n                return this.setState({confirmDialog: true});\n            } else {\n                Router.doNavigate(null);\n            }\n        }\n    }\n\n    componentDidUpdate = (prevProps, prevState) => {\n        if (prevState.changed !== this.state.changed){\n            this.props.configStored(!this.state.changed);\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n        if (!this.state.data || !this.state.schema) {\n            return <LinearProgress />;\n        }\n\n        return <div className={this.props.classes.root}>\n            {this.renderConfirmDialog()}\n            {this.getExportImportButtons()}\n            <JsonConfigComponent\n                className={ classes.scroll }\n                socket={this.props.socket}\n                theme={this.props.theme}\n                themeName={this.props.themeName}\n                themeType={this.props.themeType}\n                adapterName={this.props.adapterName}\n                instance={this.props.instance}\n                isFloatComma={this.props.isFloatComma}\n                dateFormat={this.props.dateFormat}\n\n                schema={this.state.schema}\n                common={this.state.common}\n                data={this.state.data}\n                updateData={this.state.updateData}\n                onError={error => this.setState({ error })}\n                onChange={(data, changed) => this.setState({ data, changed })}\n\n                customs={{configCustomEasyAccess: ConfigCustomEasyAccess}}\n            />\n            <SaveCloseButtons\n                isIFrame={false}\n                dense={true}\n                paddingLeft={0}\n                theme={this.state.theme}\n                noTextOnButtons={this.props.width === 'xs' || this.props.width === 'sm' || this.props.width === 'md'}\n                changed={this.state.error || this.state.changed}\n                error={this.state.error}\n                onSave={async close => await this.onSave(true, close)}\n                onClose={async () => await this.onSave(false)}\n            />\n        </div>;\n    }\n}\n\nJsonConfig.propTypes = {\n    menuPadding: PropTypes.number,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    isFloatComma: PropTypes.bool,\n    dateFormat: PropTypes.string,\n    secret: PropTypes.string,\n\n    socket: PropTypes.object,\n\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(JsonConfig);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Paper from '@material-ui/core/Paper';\nimport Fab from '@material-ui/core/Fab';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport Router from '@iobroker/adapter-react/Components/Router';\nimport Icon from '@iobroker/adapter-react/Components/Icon';\nimport HelpIcon from '@material-ui/icons/Help';\n\nimport JsonConfig from '../components/JsonConfig';\n\nconst styles = theme => ({\n    root: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden'\n    },\n    scroll: {\n        height: '100%',\n        overflowY: 'auto'\n    },\n    instanceIcon: {\n        width: 42,\n        height: 42,\n        marginRight: theme.spacing(2),\n        verticalAlign: 'middle'\n    },\n    button: {\n        marginRight: 5,\n        width: 36,\n        height: 36,\n    }\n});\n\nclass Config extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state ={\n            checkedExist: false,\n        };\n\n        this.refIframe = React.createRef();\n        this.registered = false;\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!this.registered && this.refIframe.contentWindow) {\n            this.registered = true;\n            this.props.onRegisterIframeRef(this.refIframe);\n        }\n    }\n\n    componentDidMount() {\n        // receive messages from IFRAME\n        const eventFunc = window.addEventListener ? 'addEventListener' : 'attachEvent';\n        const emit = window[eventFunc];\n        const eventName = eventFunc === 'attachEvent' ? 'onmessage' : 'message';\n\n        if (this.props.tab) {\n            this.props.socket.fileExists(this.props.adapter + '.admin', 'tab.html')\n                .then(exist => {\n                    if (exist) {\n                        this.setState({checkedExist: 'tab.html'});\n                    } else {\n                        return this.props.socket.fileExists(this.props.adapter + '.admin', 'tab_m.html')\n                            .then(exist =>\n                                exist ? this.setState({checkedExist: 'tab_m.html'}) : window.alert('Cannot find tab(_m).html'));\n                    }\n                });\n        } else {\n            this.setState({checkedExist: true});\n        }\n\n        if (!this.registered && this.refIframe.contentWindow) {\n            this.registered = true;\n            this.props.onRegisterIframeRef(this.refIframe);\n        }\n\n        emit(eventName, event => this.closeConfig(event), false);\n    }\n\n    componentWillUnmount() {\n        const eventFunc = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n        const emit = window[eventFunc];\n        const eventName = eventFunc === 'detachEvent' ? 'onmessage' : 'message';\n\n        emit(eventName, event => this.closeConfig(event), false);\n\n        this.registered && this.props.onUnregisterIframeRef(this.refIframe);\n   }\n\n    closeConfig(event) {\n        if (event.data === 'close' || event.message === 'close') {\n            if (this.props.easyMode){\n                Router.doNavigate('easy');\n            } else {\n                Router.doNavigate('tab-instances');\n            }\n        } else if (event.data === 'change' || event.message === 'change') {\n            this.props.configStored(false);\n        } else if (event.data === 'nochange' || event.message === 'nochange') {\n            this.props.configStored(true);\n        }\n    }\n\n    renderHelpButton() {\n        if (this.props.jsonConfig) {\n            return <div style={{ display: 'inline-block', position: 'absolute', right: 0, top: 5 }}>\n                <Tooltip size=\"small\" title={this.props.t('Show help for this adapter')}>\n                    <Fab classes={{ root: this.props.classes.button }} onClick={() => {\n                        let lang = this.props.lang;\n                        if (lang !== 'en' && lang !== 'de' && lang !== 'ru' && lang !== 'zh-cn') {\n                            lang = 'en';\n                        }\n                        window.open(`https://www.iobroker.net/#${lang}/adapters/adapterref/iobroker.${this.props.adapter}/README.md`, 'help');\n                    }}>\n                        <HelpIcon />\n                    </Fab>\n                </Tooltip>\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getConfigurator() {\n        if (this.props.jsonConfig) {\n            return <JsonConfig\n                menuPadding={this.props.menuPadding}\n                theme={this.props.theme}\n                width={this.props.width}\n                adapterName={this.props.adapter}\n                instance={this.props.instance}\n                socket={this.props.socket}\n                themeName={this.props.themeName}\n                themeType={this.props.themeType}\n                dateFormat={this.props.dateFormat}\n                isFloatComma={this.props.isFloatComma}\n                configStored={this.props.configStored}\n                t={this.props.t}\n            />;\n        } else {\n            const src = `adapter/${this.props.adapter}/` +\n                `${this.props.tab ? this.state.checkedExist : (this.props.materialize ? 'index_m.html' : 'index.html')}?` +\n                `${this.props.instance || 0}&newReact=true&${this.props.instance || 0}`;//&react=${this.props.themeName}`;\n\n            if (this.state.checkedExist) {\n                return <iframe\n                    ref={el => this.refIframe = el}\n                    title=\"config\"\n                    className={this.props.className}\n                    src={src}>\n                </iframe>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (!this.props.jsonConfig && window.location.port === '3000') {\n            return 'Test it in not development mode!';\n        } else {\n            return <Paper className={classes.root}>\n                <AppBar color=\"default\" position=\"static\">\n                    <Toolbar variant=\"dense\">\n                        <Typography variant=\"h6\" color=\"inherit\">\n                            {this.props.jsonConfig ? <Icon src={this.props.icon} className={this.props.classes.instanceIcon} />\n                                : null}\n                            {`${this.props.t('Instance settings')}: ${this.props.adapter}.${this.props.instance}`}\n                        </Typography>\n                        {this.renderHelpButton()}\n                    </Toolbar>\n                </AppBar>\n                {this.getConfigurator()}\n            </Paper>;\n        }\n    }\n}\n\nConfig.propTypes = {\n    menuPadding: PropTypes.number,\n    adapter: PropTypes.string,\n    instance: PropTypes.number,\n    materialize: PropTypes.bool,\n    tab: PropTypes.bool,\n    jsonConfig: PropTypes.bool,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    t: PropTypes.func,\n    isFloatComma: PropTypes.bool,\n    dateFormat: PropTypes.string,\n    className: PropTypes.string,\n    icon: PropTypes.string,\n    readme: PropTypes.string,\n    lang: PropTypes.string,\n    easyMode: PropTypes.bool,\n};\n\nexport default withStyles(styles)(Config);","// please do not delete React, as without it other projects could not be compiled: ReferenceError: React is not defined\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Fab from '@material-ui/core/Fab';\nimport PropTypes from 'prop-types';\n\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport I18n from '../i18n';\n\nimport IconSave from '@material-ui/icons/Save';\nimport IconClose from '@material-ui/icons/Close';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: 8\n    },\n});\n\n/**\n * @typedef {object} LogoProps\n * @property {boolean} noTextOnButtons Are the buttons without text\n * @property {any} theme Theme object (from this.state.theme)\n * @property {boolean} isIFrame bottom position 0 or 38 for iFrame\n * @property {function} onSave on Save handler\n * @property {function} onClose on Close handler\n *\n * @extends {React.Component<LogoProps>}\n */\nclass SaveCloseButtons extends React.Component {\n    constructor(props) {\n        super(props);\n        try {\n            this.isIFrame = !props.newReact && window.self !== window.top;\n        } catch (e) {\n            this.isIFrame = !props.newReact;\n        }\n    }\n\n    render() {\n        const noTextOnButtons = this.props.noTextOnButtons;\n        const buttonStyle = {\n            borderRadius: this.props.theme.saveToolbar.button.borderRadius || 3,\n            height:       this.props.theme.saveToolbar.button.height       || 32,\n        };\n\n        const style = {\n            bottom: this.isIFrame ? 38 : 0,\n            left: this.props.paddingLeft || 0,\n            right: 0,\n            position: 'absolute',\n            background: this.props.theme.saveToolbar.background\n        };\n        if (this.props.dense) {\n            style.minHeight = 48;\n        }\n\n        if (this.props.error) {\n            buttonStyle.border = '1px solid red';\n        }\n\n        return <Toolbar position=\"absolute\" style={style}>\n            <Fab\n                variant=\"extended\"\n                aria-label=\"Save\"\n                disabled={!this.props.changed || this.props.error}\n                onClick={() => this.props.onSave(false)}\n                style={buttonStyle}\n            >\n                <IconSave className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>{!noTextOnButtons && I18n.t('ra_Save')}\n            </Fab>\n            <Fab\n                variant=\"extended\"\n                aria-label=\"Save and close\"\n                disabled={!this.props.changed || this.props.error}\n                onClick={() => this.props.onSave(true)}\n                style={Object.assign({}, buttonStyle, {marginLeft: 10})}>\n                <IconSave className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>\n                {!noTextOnButtons ? I18n.t('ra_Save and close') : '+'}\n                {noTextOnButtons && <IconClose/>}\n            </Fab>\n            <div style={{flexGrow: 1}}/>\n            <Fab variant=\"extended\" aria-label=\"Close\" onClick={() => this.props.onClose()} style={buttonStyle}>\n                <IconClose className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>{!noTextOnButtons && I18n.t('ra_Close')}\n            </Fab>\n        </Toolbar>;\n    }\n}\n\nSaveCloseButtons.propTypes = {\n    dense: PropTypes.bool,\n    paddingLeft: PropTypes.number,\n    noTextOnButtons: PropTypes.bool,\n    theme: PropTypes.object,\n    isIFrame: PropTypes.bool,\n    changed: PropTypes.bool.isRequired,\n    error: PropTypes.bool,\n    onSave: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    newReact: PropTypes.bool,\n};\n\n/** @type {typeof SaveCloseButtons} */\nconst _export = withStyles(styles)(SaveCloseButtons);\nexport default _export;"],"sourceRoot":""}