{"version":3,"sources":["components/IsVisible.js","components/Connection.js","components/CustomPopper.js","dialogs/CommandDialog.js","helpers/cardSort.js","components/DragWrapper.js","components/DrawerItem.js","components/CustomDragLayer.js","components/ContextWrapper.js","components/Drawer.js","components/Connecting.js","components/Wizard/WizardPasswordTab.js","components/LicenseTexts.js","components/Wizard/WizardLicenseTab.js","components/Wizard/WizardSettingsTab.js","components/Wizard/WizardAuthSSLTab.js","components/Wizard/WizardPortForwarding.js","dialogs/WizardDialog.js","dialogs/SystemSettingsTabs/MainSettingsDialog.js","dialogs/SystemSettingsTabs/RepositoriesDialog.js","dialogs/SystemSettingsTabs/CertificatesDialog.js","dialogs/SystemSettingsTabs/SSLDialog.js","dialogs/SystemSettingsTabs/ACLDialog.js","dialogs/SystemSettingsTabs/StatisticsDialog.js","dialogs/SystemSettingsDialog.js","login/Login.js","components/HostSelectors.js","dialogs/ExpertModeDialog.js","dialogs/NewsAdminDialog.js","dialogs/HostWarningDialog.js","Workers/LogsWorker.js","Workers/InstancesWorker.js","Workers/HostsWorker.js","Workers/AdaptersWorker.js","Workers/ObjectsWorker.js","dialogs/GenereteInputsModal.js","dialogs/DiscoveryDialog.js","App.js","index.js","components/JsonConfigComponent/ConfigGeneric.js","components/Utils.js","dialogs/LicenseDialog.js","components/Markdown.js","dialogs/AdapterDeletionDialog.js","components/MDUtils.js","dialogs/AdapterInfoDialog.js","dialogs/AddInstanceDialog.js","components/Adapters/AdapterRow.js","components/Adapters/AdapterTile.js","dialogs/GitHubInstallDialog.js","components/Adapters/AdaptersUpdater.js","dialogs/AdaptersUpdaterDialog.js","dialogs/RatingDialog.js","tabs/Adapters.js","components/Command.js","dialogs/SlowConnectionWarningDialog.js","helpers/MaterialDynamicIcon.js","components/CustomModal.js","assets/sentry.svg","helpers/MobileDialog.js","components/ToggleThemeMenu.js","components/TabContainer.js","components/CustomSelectButton.js","helpers/hooks/useStateLocal.js","components/TabContent.js","components/TabHeader.js","components/JsonConfigComponent/ConfigText.js","components/JsonConfigComponent/ConfigCheckbox.js","components/JsonConfigComponent/ConfigStaticImage.js","components/JsonConfigComponent/ConfigNumber.js","components/JsonConfigComponent/ConfigColor.js","components/JsonConfigComponent/ConfigIP.js","components/JsonConfigComponent/ConfigSelect.js","components/JsonConfigComponent/ConfigUser.js","components/JsonConfigComponent/ConfigStaticText.js","components/JsonConfigComponent/ConfigPattern.js","components/JsonConfigComponent/ConfigCertificateSelect.js","components/JsonConfigComponent/ConfigImageUpload.js","components/JsonConfigComponent/ConfigInstanceSelect.js","components/JsonConfigComponent/ConfigTable.js","components/JsonConfigComponent/ConfigSendto.js","components/JsonConfigComponent/ConfigObjectId.js","components/JsonConfigComponent/ConfigLanguage.js","components/JsonConfigComponent/ConfigChip.js","components/JsonConfigComponent/ConfigPassword.js","components/JsonConfigComponent/ConfigStaticHeader.js","components/JsonConfigComponent/ConfigStaticDivider.js","components/JsonConfigComponent/ConfigSetState.js","components/JsonConfigComponent/ConfigJsonEditor.js","components/JsonConfigComponent/ConfigSelectSendTo.js","components/JsonConfigComponent/ConfigTopic.js","components/JsonConfigComponent/ConfigAutocomplete.js","components/JsonConfigComponent/ConfigAutocompleteSendTo.js","components/JsonConfigComponent/ConfigTimePicker.js","components/JsonConfigComponent/ConfigDatePicker.js","components/JsonConfigComponent/ConfigCRON.js","components/JsonConfigComponent/ConfigAlive.js","components/JsonConfigComponent/ConfigTextSendTo.js","components/JsonConfigComponent/ConfigPanel.js","components/UploadImage.js","components/State.js","assets/globe.svg","assets/link.svg","dialogs/AdapterUpdateDialog.js","assets/npm.png","assets/wizard-finish.jpg","assets/wizard-welcome.jpg","assets/pin.svg","assets/logo.png","assets/longLogo.svg","tabs/CustomTab.js","Utils.js"],"names":["getAttr","obj","attr","split","val","shift","length","IsVisible","props","config","children","name","value","undefined","propTypes","PropTypes","string","object","bool","PROGRESS","CONNECTING","CONNECTED","OBJECTS_LOADED","READY","PERMISSION_ERROR","NOT_CONNECTED","fixAdminUI","common","adminUI","noConfig","jsonConfig","materialize","jsonCustom","supportCustoms","custom","materializeTab","adminTab","tab","console","debug","_id","replace","JSON","stringify","Connection","protocol","window","location","host","hostname","this","autoSubscribes","autoSubscribeLog","port","isWeb","ioTimeout","Math","max","cmdTimeout","doNotLoadAllObjects","doNotLoadACL","states","objects","acl","firstConnect","waitForRestart","systemLang","connected","_waitForFirstConnection","Promise","resolve","_waitForFirstConnectionResolve","statesSubscribes","objectsSubscribes","onProgress","onError","err","error","loaded","loadTimer","loadCounter","admin5only","onConnectionHandlers","onLogHandlers","_promises","startSocket","io","_socket","socketUrl","parts","includes","url","connect","query","timeout","on","noTimeout","setTimeout","getVersion","then","info","version","major","minor","patch","parseInt","_authTimer","onPreConnect","emit","isOk","isSecure","reload","_subscribe","forEach","cb","subscribed","authenticate","message","onLog","_err","toString","alert","operation","type","id","objectChange","state","stateChange","text","onCmdStdoutHandler","onCmdStderrHandler","exitCode","onCmdExitHandler","registerSocketOnLoad","scriptLoadCounter","clearTimeout","onConnect","_getUserPermissions","vendorPrefix","getCompactSystemConfig","getSystemConfig","data","systemConfig","language","navigator","userLanguage","onLanguage","getObjects","onReady","catch","e","search","pathname","hash","binary","cbs","push","reg","indexOf","RegExp","getBinaryState","base64","Object","keys","pos","splice","oldObj","changed","_rev","test","onObjectChange","task","hasOwnProperty","disableProgressUpdate","reject","res","STATES_LOADED","update","isEnable","isEnabled","maintenance","parse","from","user","ts","adapter","getObjectView","items","map","instances","adapters","objs","pop","oldId","newId","setObject","delObject","_renameGroups","newName","getGroups","groups","groupsToRename","filter","group","startsWith","substring","find","instance","command","result","handler","_enum","startkey","endkey","_res","i","rows","start","end","cert","getObject","certs","native","certificates","c","_cert","toLowerCase","t","trim","linesNumber","lines","files","fileName","btoa","Uint8Array","reduce","byte","String","fromCharCode","folderName","hosts","doc","item","users","timeoutMs","args","repo","installed","cmd","cmdId","feature","features","checkFeatureSupported","typeOfDiag","pattern","options","values","stepIgnore","sessionId","password","address","ipOrHostName","ip","IPs4","family","IPs6","hardware","networkInterfaces","eth","num","encryptedText","serverName","match","webName","log","filename","entries","exists","category","notifications","isStrict","controller","AbortController","abort","fetch","signal","json","ratings","currentInstance","namespace","compactAdapters","compactInstances","installedCompact","systemConfigCommon","repoCompact","hostsCompact","uuid","adapterName","func","timer","CommandDialog","init","progressText","closeOnReady","localStorage","getItem","checked","classes","Dialog","scroll","fullWidth","root","visible","hiddenDialog","paper","dialogRoot","onClose","inBackground","onInBackground","open","maxWidth","DialogTitle","IconButton","className","closeButton","onClick","disabled","DialogContent","dividers","style","height","Command","noSpacing","ready","currentHost","socket","commandError","errorFunc","performed","callback","onFinished","onSetCommandRunning","running","DialogActions","justifyContent","FormControlLabel","control","Checkbox","onChange","setState","target","setItem","label","Button","variant","autoFocus","marginRight","startIcon","color","confirmText","Component","withStyles","theme","position","right","spacing","top","palette","grey","display","funcSet","_","throttle","setTabs","tabs","findCard","cards","card","index","cursor","DragWrapper","canDrag","setEndDrag","iconJSX","selected","compact","badgeContent","badgeColor","ref","useRef","useDrop","accept","collect","monitor","handlerId","getHandlerId","hover","draggedId","current","overIndexActions","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","atIndex","copyCard","moveCard","drop","useDrag","isDragging","drag","preview","useEffect","getEmptyImage","captureDraggingState","opacity","event","preventDefault","href","textDecoration","background","secondary","main","Utils","invertColor","primary","compactBadge","paddingLeft","noWrap","flexWrap","warn","backgroundColor","amber","icon","editList","editListFunc","badgeAdditionalContent","badgeAdditionalColor","content","assign","ListItem","button","clsx","Tooltip","title","Grid","container","alignItems","ListItemIcon","minWidth","Badge","badge","ListItemText","layerStyles","pointerEvents","zIndex","left","width","getItemStyles","initialOffset","currentOffset","isSnapToGrid","x","round","snapToGrid","transform","WebkitTransform","default","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","targetIds","getTargetIds","renderItem","ContextWrapper","createContext","ContextWrapperProvider","useState","hostsUpdate","adaptersUpdate","repository","stateContext","setStateContext","prevState","jsControllerVersion","count","element","Adapters","updateAvailable","installedVersion","_installed","ignoreVersion","Provider","useStyles","makeStyles","typography","padding","CustomPopper","React","anchorEl","setAnchorEl","setOpen","placement","setPlacement","el","newPlacement","currentTarget","prev","I18n","Popper","transition","TransitionProps","Fade","Paper","Typography","DRAWER_FULL_WIDTH","STATES","tabsInfo","order","Drawer","instanceChangedHandler","changes","getTabs","onNotificationsHandler","hostsWorker","getNotifications","calculateWarning","onErrorsUpdates","logErrors","currentTab","onWarningsUpdates","logWarnings","system","categories","nameTab","hostError","tabsEditSystemConfig","idx","newTabs","newObjCopy","tabsVisible","setSystemConfig","additionalContent","additionalColor","calculateHostUpdates","calculateAdapterUpdates","refEditButton","createRef","instancesWorker","registerHandler","registerNotificationHandler","logsHandlerRegistered","logsWorker","registerErrorCountHandler","registerWarningCountHandler","unregisterHandler","unregisterNotificationHandler","unregisterErrorCountHandler","unregisterWarningCountHandler","isSwipeable","getCompactInstances","dynamicTabs","instNum","singleton","m","lang","en","READY_TO_USE","str","toUpperCase","concat","sort","a","b","it","aa","bb","handleNavigation","header","headerLogout","headerCompact","avatarBlock","avatarVisible","avatarNotVisible","adminGuiConfig","withWidth","lineHeight","src","alt","maxHeight","verticalAlign","Avatar","themeName","logoWhite","logoSize","versionAdmin","styleVersion","onStateChange","admin","menu","newObj","ctrlKey","shiftKey","CustomTab","getHref","adminInstance","focus","SwipeableDrawer","anchor","onOpen","getHeader","List","getNavigationItems","onLogout","editable","editButton","rootCompactWidth","rootFullWidth","onMouseEnter","onMouseLeave","list","flexShrink","contextType","transitions","create","easing","easeOut","duration","enteringScreen","flexDirection","overflowX","mixins","toolbar","paddingTop","flex","logout","marginTop","marginBottom","expand","marginLeft","fontSize","alignSelf","styles","connecting","spinner","animation","path","strokeDasharray","strokeDashoffset","transformOrigin","stroke","offset","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","WizardPasswordTab","passwordRepeat","errorPassword","errorPasswordRepeat","focusRef","form","noValidate","autoComplete","direction","TextField","inputProps","onKeyDown","keyCode","document","getElementById","input","checkPassword","helperText","onDone","grow","overflow","flexGrow","TOOLBAR_HEIGHT","license","WizardLicenseTab","statisticsAccepted","notAgree","DialogContentText","role","LicenseTexts","getLanguage","licenseTextDiv","line","licenseText","gridDiv","FormControl","languageSelect","InputLabel","Select","setLanguage","MenuItem","statAcceptDiv","statAccept","statAcceptNote","licenseDiv","renderLicenseText","Toolbar","greenButton","renderNotAgree","textAlign","minHeight","margin","SETTINGS_WIDTH","WizardSettingsTab","tempUnit","currency","dateFormat","isFloatComma","country","city","longitude","latitude","firstDayOfWeek","updateMap","coords","toFixed","encodeURIComponent","parseFloat","lat","lon","geolocation","getCurrentPosition","positionReady","center","fromLonLat","OSM","markerSource","VectorSource","markerStyle","Style","image","Icon","anchorXUnits","anchorYUnits","PinSVG","oMap","Map","layers","Tile","source","LayerVector","view","View","zoom","marker","Feature","geometry","Point","addFeature","lonLat","toLonLat","coordinate","getView","getZoom","setGeometry","setView","mainGrid","gridSettings","settingsGrid","controlItem","controlItemAddress","onKeyUp","getPositionForAddress","Fab","size","mapGrid","WizardAuthSSLTab","auth","secure","inputLine","FormGroup","FormHelperText","WizardPortForwarding","warning","information","WizardDialog","exitAvailable","activeStep","lastPage","getCurrentInstance","welcomeBackground","fullHeightWithoutToolbar","licenseConfirmed","playIcon","pass","changePassword","settings","getState","discovery","certPublic","certPrivate","getCertificates","Router","doNavigate","finishBackground","finalText","LongLogo","finalLongLogo","dialog","fullScreen","Logo","logo","ToggleThemeMenu","themeButton","toggleTheme","AppBar","Stepper","Step","StepLabel","tabPanel","renderWelcome","renderLicense","renderPassword","renderAuthentication","renderPortForwarding","renderSettings","renderFinish","backgroundImage","WizardFinishImage","backgroundRepeat","backgroundSize","backgroundPosition","WizardWelcomeImage","float","borderRadius","fontWeight","MainSettingsDialog","onMap","L","draggable","riseOnHover","addTo","bindPopup","dragend","evt","onMarkerDragend","getCounters","countries","elem","formControl","shrink","handleChangeCountry","displayEmpty","doChange","onChangeText","onChangeInput","onChangeCity","OpenStreetMapProvider","results","flyTo","setLatLng","handleChange","selectId","getSettings","confirm","confirmValue","newData","ll","_latlng","lng","translate","allowText","histories","history","objectMap","dataAux","repositories","help","sm","xs","InputLabelProps","readOnly","selectors","getSelect","renderConfirmDialog","lg","md","maxZoom","attributionControl","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","animate","easeLinearity","whenCreated","TileLayer","selectEmpty","RepositoriesDialog","array","repoToArray","arrayToRepo","activeRepo","getUpdateDefaultRepo","onDelete","findIndex","onAdd","link","newRepo","newConfig","repos","k","TableRow","TableCell","littleRow","nameRow","buttonPanel","descriptionPanel","TableContainer","Table","table","TableHead","TableBody","paddingBottom","border","CertificatesDialog","certToArray","arrayToCert","chClass","noClick","getRootProps","getInputProps","acceptedFiles","fileRejections","onDragEnter","onDragLeave","onDrop","msg","file","mm","errors","ee","join","reader","FileReader","onload","readAsText","tableContainer","SSLDialog","letsEncrypt","dangerouslySetInnerHTML","__html","email","domains","ACLDialog","permBits","defaultNewAcl","handleCheck","ownerType","elemNum","rts","bitGroup","bit","owner","checks","getRights","checkboxes","tableCell","colSpan","objectRights","getTypes","ii","component","getTable","ownerGroup","paddingRight","StatisticsDialog","getTypesSelector","diag","handleChangeType","handle","Card","note","gutterBottom","paragraph","key","sentData","mode","showPrintMargin","showGutter","highlightActiveLine","themeType","newValue","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","editorProps","$blockScrolling","blueGrey","SystemSettingsDialog","onChangeDiagType","getDiagData","diagData","onTabChanged","newTab","loading","confirmExit","systemCertificates","systemRepositories","newState","originalRepositories","originalConfig","getUsers","getAdapterInstances","getHistory","originalCertificates","saving","expertMode","expertModeFunc","tabsList","LinearProgress","MyComponent","onChangedTab","idAux","Tab","reason","dialogTitle","Tabs","indicatorColor","scrollButtons","edge","getDialogContent","onSave","Login","inProcess","formRef","action","loginLink","motto","loginMotto","login","loginBackgroundColor","loginLogo","loginHideLogo","avatar","img","avatarImg","loginTitle","method","required","submit","CircularProgress","Box","align","Link","ioBrokerLink","rel","overflowY","boxShadow","textTransform","progress","HostSelectors","onAliveChanged","events","alive","onHostsObjectChange","getCompactHosts","h","registerAliveHandler","unregisterAliveHandler","selectedHostObj","borderColor","notAlive","imgButton","keepMounted","setCurrentHost","selector","whiteSpace","textOverflow","node","fontFamily","overflowHidden","pre","textBold","width100","ExpertModeDialog","boolSettings","buttonIcon","doNotShow","setDoNotShow","sessionStorage","body","removeChild","ThemeProvider","getThemeName","blockInfo","img2","Status","NewsAdminDialog","newsArr","setId","last","setLast","indexArr","setIndexArr","Date","created","toLocaleDateString","class","CardMedia","renderTextWithA","linkTitle","checkActive","enabled","checkConditions","condition","vers","semver","gt","lt","vers1","vers2","checkMessages","messages","lastMessageId","context","messagesToShow","today","now","showIt","getTime","conditions","v","nodeVersion","npmVersion","os","Array","isArray","overflowAuto","column","headerText","descriptionHeaderText","silver","terminal","heading","headingTop","classNameBox","textStyle","buttonStyle","TabPanel","other","hidden","HostWarningDialog","ackCallback","setValue","setDisabled","expanded","setExpanded","black","textColor","description","nameInst","panel","Accordion","isExpanded","AccordionSummary","expandIcon","AccordionDetails","formatDate","LogsWorker","maxLogs","logHandler","_processLine","warnings","newLogs","logTimeout","handlers","errorCountHandlers","warningCountHandlers","connectionHandler","isConnected","getLogs","promise","countErrors","countWarnings","logs","isSafari","vendor","userAgent","registerLogHandler","registerConnectionHandler","lastKey","isNew","time","tt","severity","parseColorMessage","original","unshift","logSize","InstancesWorker","objectChangeHandler","subscribeObject","getInstances","doNotRequestAdapters","unsubscribeObject","HostsWorker","aliveChangeHandler","endsWith","aliveStates","aliveHandlers","getHosts","subscribeState","onNotificationHandler","subscribeTs","notificationTimer","notificationPromises","_getNotificationsFromHots","notificationsHandlers","unsubscribeState","hostId","promises","all","pResults","AdaptersWorker","getAdapters","repoChangeHandler","repoTimer","repositoryHandlers","ObjectsWorker","doNotUnsubscribe","headerBlock","headerBlockDisplay","headerBlockDisplayItem","width200","paperTable","p","types","generateObj","GenereteInputsModal","newInstances","onApplyModal","onCloseModal","setError","schema","setSchema","schemaData","setSchemaData","objValue","comment","add","inputs","def","repeat","ConfigPanel","_error","activeBlock","pointer","installSuccess","installError","wrapperSwitch","divSwitch","stepper","instanceIcon","instanceId","instanceWrapper","boxHeight","headCells","numeric","disablePadding","EnhancedTableHead","numSelected","rowCount","onSelectAllClick","indeterminate","headCell","TableSortLabel","buildComment","extended","DiscoveryDialog","defaultLogLevel","step","setStep","listMethods","setListMethods","checkboxChecked","setCheckboxChecked","disableScanner","setDisableScanner","discoveryData","setDiscoveryData","sendTo","resultList","listChecked","lastSelection","dataDiscovery","aliveHosts","setAliveHosts","checkSelectHosts","setCheckSelectHosts","hostInstances","setHostInstances","aliveValue","devicesFound","setDevicesFound","devicesProgress","setDevicesProgress","instancesFound","setInstancesFound","scanRunning","setScanRunning","servicesProgress","setServicesProgress","setSelected","handlerInstall","extendObject","discoverScanner","dataArray","checkLicenseAndInputs","objName","licenseUrl","licenseDialogFunc","createElement","appendChild","ReactDOM","render","GenereteInputsFunc","setInstallStatus","status","setLogs","logsEl","setCurrentInstall","setCmdName","setInstallProgress","setFinishInstall","params","setInstancesInputsParams","installProgress","currentInstall","installStatus","cmdName","useStateLocal","suggested","setSuggested","showAll","setShowAll","instancesInputsParams","finishInstall","selectLogsIndex","setSelectLogsIndex","disableBackdropClick","disableEscapeKeyDown","alternativeLabel","lastScan","newCheckboxChecked","Switch","newSelected","n","ack","advice","arr","selectedIndex","slice","handleClick","scope","logsRead","showElement","logsSuccess","protectedNative","encryptedNative","instanceObjects","logLevel","logsError","lazy","Instances","Intro","Logs","Files","Objects","Users","Enums","Hosts","EasyMode","decodeURIComponent","App","readRepoAndInstalledInfo","adaptersChangeHandler","onDiscoveryAlive","discoveryAlive","getDiscoveryModal","findNewsInstance","adminAlive","showAlert","showAdaptersWarning","hostWarningDialogFunc","clearNotifications","getNews","newsFeed","lastNewsId","news","getUuid","getHostInfo","checkNews","NPM","getCompactRepository","readTimeoutMs","showSlowConnectionWarning","_repository","getCompactInstalled","getCompactAdapters","iv","logsWorkerChanged","onHostStatusChanged","onHashChanged","getLocation","setCurrentTabTitle","currentThemeName","newThemeName","createTheme","getThemeType","refConfigIframe","contentWindow","postMessage","clearLogErrors","resetErrors","resetWarnings","translations","require","setTranslations","refUser","refUserDiv","expireInSec","expireInSecInterval","expireText","drawerState","DrawerStates","getProtocol","getPort","allTabs","currentHostName","currentDialog","currentUser","subscribesStates","subscribesObjects","subscribesLogs","stateChanged","alertType","alertMessage","allStored","dataNotStoredDialog","dataNotStoredTab","baseSettingsOpened","unsavedDataInDialog","systemSettingsOpened","cmdDialog","wizard","commandRunning","SlowConnectionWarningDialog","getReadTimeoutMs","forceUpdateAdapters","hasGlobalError","hasGlobalErrorInfo","hasUnsavedData","invertedColor","addEventListener","setTitle","closeCmdDialog","getIsEasyModeStrict","getEasyMode","strictEasyMode","easyModeConfigs","configs","adaptersWorker","objectsWorker","findCurrentHost","registerRepositoryHandler","subscribeOnHostsStatus","getCurrentUser","userObj","getObjectNameFromObj","invertBackground","mustInvertBackground","makePingAuth","itemHost","lastExecution","formatTime","innerHTML","pingAuth","getCurrentSession","setInterval","updateExpireIn","removeEventListener","unregisterRepositoryHandler","clearInterval","unsubscribeOnHostsStatus","isNaN","small","opened","closed","fallback","executeCommand","menuOpened","menuClosed","menuCompact","menuPadding","configStored","inBackgroundCommand","onRegisterIframeRef","onUnregisterIframeRef","clearErrors","navigate","getSystemSettingsDialog","removeItem","handleDrawerState","userBadge","userBackground","userIcon","userText","ok","cancel","isYes","confirmDataNotStored","closeDataNotStoredDialog","stack","expertModePermanent","elevation","appBar","appBarShift","appBarShiftCompact","menuButton","hide","wrapperButtons","expertBadge","invisible","expert","glowColor","active","expertIcon","expertIconActive","hostName","errorCmd","renderLoggedUser","Hidden","xsDown","wrapperName","DndProvider","backend","TouchBackend","HTML5Backend","logoutTitle","square","contentMargin","contentMarginCompact","contentShift","getCurrentTab","Snackbar","autoHideDuration","handleAlertClose","getCurrentDialog","renderCommandDialog","renderWizardDialog","renderSlowConnectionWarning","sharp","leavingScreen","baseSettingsButton","alert_info","alert_error","alert_success","ignoreErrors","disableDataReporting","Sentry","dsn","release","integrations","SentryIntegrations","beforeSend","culprit","build","utils","DateFnsUtils","onThemeChange","_themeName","ConfigGeneric","onUpdate","getValue","forceUpdate","confirmDialog","confirmNewValue","confirmAttr","confirmData","isError","defaultValue","defaultFunc","executeCustom","instanceObj","execute","registerOnForceUpdate","noTranslation","getPattern","getText","confirmDepAttr","confirmDepNewValue","confirmOldValue","confirmDependsOn","z","dep","onChangeDependsOn","calculateFunc","customObj","hiddenDependsOn","labelDependsOn","helpDependsOn","ignoreOwnChanges","_attr","Function","f","originalData","validator","calculate","hideOnlyControl","darkStyle","newLine","flexBasis","validatorNoSaveOnError","validatorErrorText","tooltip","part","DIFFERENT_VALUE","DIFFERENT_LABEL","NONE_VALUE","NONE_LABEL","AsyncFunction","getPrototypeOf","constructor","NAMESPACE","days","months","QUALITY_BITS","word","seconds","floor","hours","minutes","isDesc","sysLang","desc","de","ru","lastIndexOf","CapitalWords","forEnumId","subOrder","subURLs","URLs","dest","removed","defaultEnabling","useCustom","s","useCommon","prefix","g","rgb","secs","angle","format","year","day","abs","date","getDay","getDate","getMonth","noCommon","smartName","newSmartName","byON","smartType","nnn","_smartName","empty","nl","pl","fr","pt","es","select","execCommand","stopPropagation","bytes","units","u","invert","hex","bw","padStart","mix","_toVal","tmp","arguments","matchMedia","matches","newTheme","themes","getThemeNames","setThemeName","dateObj","dd","getFullYear","getHours","getMinutes","getSeconds","getMilliseconds","d","extractHeader","attrs","setAttribute","click","quality","ex","response","blob","readAsDataURL","INSTANCES","FORBIDDEN_CHARS","LicenseDialog","setText","setLoaded","AdapterDeletionDialog","disableTypography","MDUtils","copy","extractLicenseAndChangelog","changelog","trimRight","findTitle","level","cont","changeLog","ignoreHeaders","changelogA","licenseA","newLines","text2link","text2docLink","external","CONVERTER_OPTIONS","emoji","underline","strikethrough","simplifiedAutoLink","parseImgDimensions","splitAdjacentBlockquotes","ADAPTER_CARD","EXPAND_LANGUAGE","Markdown","loadTimeout","notFound","affiliate","adapterNews","hideContent","mounted","parseText","load","contentRef","customLink","mdLink","onNavigate","customH","_level","mdHeaderLink","getRepository","nextProps","nextContext","openLink","scrollIntoView","oneEntry","author","editEnabled","editText","_changeLog","_title","getTitle","parseChangeLog","onHashChange","removeDocsify","decorateText","authors","onCopy","translatedFrom","headerTranslated","logoImage","titleText","readme","adapterCard","summary","summaryExpanded","adapterCardListItem","adapterCardAttr","formatAuthors","badgesDetails","lastChanged","infoTitle","infoValue","editLink","infoEdit","infoEditLocal","onEditMode","ch","contentLinks","_renderSubContent","affiliates","Affiliates","mobile","contentClose","onToggleContentButton","links","contentDivClosed","renderContentCloseButton","contentDiv","CustomLink","CustomH","markdown","components","versions","changeLogDiv","changeLogVersion","changeLogDate","changeLogUL","changeLogLine","changeLogAuthor","changeLogLineText","changeLogAccordion","renderChangeLogLines","anchorOrigin","vertical","horizontal","close","prefixHttp","prefixImage","isImage","cells","j","replaceHref","crt","tableRow","tableHead","tableRowHead","tableCellHead","tableBody","editMode","editor","Editor","reactElements","renderTable","trimmed","makeHeadersAsLink","rct","alarm","notice","todo","renderHeader","renderAffiliates","renderChangeLog","renderInfo","renderContent","renderSnackbar","borderBottom","borderWidth","fontStyle","borderStyle","IconGlobe","IconLink","AdapterInfoDialog","uri","uriGithub","rawUri","html","trimArr","wrap","openTab","closeDialog","AddInstanceDialog","checkDependencies","dependencies","rightVersion","instanceNumbers","checkDeps","labelId","onHostChange","onInstanceChange","getAvailableInstances","AdapterRow","enabledCount","installedCount","installedFrom","versionWarn","isCategory","connectionType","rightDependencies","rightOs","sentry","categoryName","openInstallVersionDialog","dataSource","descHidden","versionDate","onSetRating","rating","displayNone","onToggle","nameDiv","MaterialDynamicIcon","objIconBool","iconName","marginRight5","green","blue","paddingNone","smallAvatar","allowAdapterRating","nameCell","ratingSet","Rating","precision","marginLeft5","classPoll","classPush","classAssumption","sentryIcon","renderVersion","wrongDependencies","allowAdapterUpdate","buttonUpdate","buttonUpdateIcon","allowAdapterInstall","onAddInstance","allowAdapterReadme","onInfo","onUpload","allowAdapterDelete","onDeletion","rebuild","onRebuild","visibility","red","objectFit","imageBlock","fab","greenText","success","dark","collapse","collapseOff","footerBlock","adapterWithAgo","cardContent","cardContentDiv","cardContentFlex","cardContentFlexBetween","cardContent2","cardMargin10","availableVersion","curdContentFlexCenter","stat","openCollapse","setCollapse","focused","setFocused","CardContent","onMouseOut","onMouseOver","a11yProps","tabPaper","warningText","noteText","errorTextNoGit","listIcon","listIconWithMargin","prototype","flat","defineProperty","configurable","depth","Number","call","acc","cur","apply","writable","GitHubInstallDialog","installFromUrl","autocompleteValue","setAutocompleteValue","setDebug","setUrl","setCurrentTab","useCallback","extIcon","meta","nogit","closeInit","wrapped","npmIcon","Autocomplete","getOptionSelected","option","getOptionLabel","renderInput","_params","InputProps","startAdornment","InputAdornment","renderTags","renderOption","getOptionDisabled","endAdornment","_url","AdaptersUpdater","detectUpdates","currentRef","onUpdateSelected","isUpdateAvailable","localIcon","finished","Fragment","dense","listItem","updated","updateDone","toVersion","ListItemSecondaryAction","tabIndex","disableRipple","stoppedOnError","renderOneAdapter","oldVersion","newVersion","AdaptersUpdaterDialog","stopOnError","closeOnFinished","onAdapterFinished","currentVersion","processList","updateAdapters","updateAdapter","wrapperHead","checkbox","disableGutters","onStartUpdate","LANGUAGES","RatingDialog","ratingNumber","ratingComment","votings","ratingLang","filterLang","commentsByLanguage","comments","headers","redirect","found","listTitle","languageFilter","commentCount","listOwn","ListItemAvatar","listRating","toLocaleString","listTime","noComments","currentRating","ratingTextControl","maxLength","ratingLanguageControl","renderComments","setAdapterRating","WIDTHS","emptyBlock","available","install","SUM","arg1","arg2","wordCache","onAdaptersChanged","tempAdapters","tempInstalled","tempInstances","updateTimeout","analyseInstalled","calculateInfo","bigUpdate","_adapters","getInstalled","getAdaptersInfo","lastUpdate","hostData","_hostData","_rebuild","getRatings","_ratings","rebuildSupported","getDependencies","dependency","entry","checkVersion","satisfies","includePrerelease","nodeJsVersion","hostOs","addInstanceDialog","addInstanceError","addInstanceAdapter","addInstanceId","addInstanceHost","adapterDeletionDialog","adapterDeletionAdapter","dialogProp","filterConnectionType","viewMode","updateList","installedList","categoriesTiles","filterTiles","arrayFilter","gitHubInstallDialog","filteredList","showUpdater","descWidth","showStatistics","showSetRating","adapterToUpdate","adapterInstallVersion","inputRef","countRef","cache","listOfVisibleAdapterLength","allAdapters","installedAdapters","recentUpdatedAdapters","updateAll","filterAdapters","getDescWidth","repositoryValue","listOfVisibleAdapter","votes","categoriesSorted","categoriesExpanded","keywords","getWordVotes","installedInGroup","translation","customUrl","oldState","typingTimer","expandAll","onlyInstalled","cached","daysAgoText","addInstance","openAdapterDeletionDialog","openInfoDialog","openUpdateDialog","upload","buildCache","getRow","toggleCategory","textDaysAgo0","textDaysAgo1","textDaysAgo2","textDaysAgo","sortPopularFirst","sortRecentlyUpdated","cat","show","daysAgo10","daysAgo","titleLang","_daysAgo10","plugins","scrollWidth","counters","TabContainer","tabContainer","updateAllButtonAvailable","TabHeader","changeViewMode","collapseAll","listTable","changeInstalledList","changeUpdateList","updateAllButton","updateAllIcon","gitHubInstall","handleFilterChange","CustomSelectButton","icons","contained","translateSuffix","arrayItem","changeCategoriesTiles","changeFilterTiles","only","infoAdapters","TabContent","notStableRepo","containerNotFullHeight","containerFullHeight","stickyHeader","getRows","getUpdater","getStatistics","renderSetRatingDialog","viewModeDiv","getTiles","closeAddInstanceDialog","handleHostsChange","handleInstanceChange","delete","closeAdapterDeletionDialog","AdapterUpdateDialog","adapterObject","closeAdapterUpdateDialog","onIgnore","CustomModal","applyButton","containerVersion","tableLayout","flexFlow","moreChecked","stopped","logRef","regExp","registerCmdStdoutHandler","cmdStdoutHandler","bind","registerCmdStderrHandler","cmdStderrHandler","registerCmdExitHandler","cmdExitHandler","activeCmdId","random","cmdExec","gotAdmin","gotWww","_adapter","substr","colorize","logNoSpacing","getLog","defaultProps","readTimeoutSec","innerWidth","MOBILE_WIDTH","min","buttonLabel","saveReadTimeoutMs","ICON_CACHE","objIcon","Element","Icons","applyDisabled","titleButtonApply","titleButtonClose","onApply","textInput","modalDialog","modalWrapper","titleIcon","multiline","i18n","MobileDialog","__onResize","_timerOnResize","isMobile","_resizeHandlerinstalled","moreMobileIcon","Boolean","placeContent","ConfigText","placeholder","renderHelp","helpLink","isRequired","ConfigCheckbox","isIndeterminate","ConfigStaticImage","ConfigNumber","ConfigColor","showColorDialog","colorDialogValue","ColorPicker","getColor","isUseBright","renderColorDialog","onPaste","ConfigIP","getHostByIp","ips","listenOnAllPorts","onlyIp4","onlyIp6","renderValue","ConfigSelect","selectOptions","initialValue","ConfigUser","_users","short","getInvertedColor","ConfigStaticText","ConfigPattern","copyToClipboard","ConfigCertificateSelect","imageRef","fileExists","exist","_getUrl","UploadImage","crop","maxSize","removeIconFunc","deleteFile","writeFile64","ConfigInstanceSelect","long","objectToArray","nameOfFirstAttr","nameOfSecondAttr","arrayToObject","row","ConfigTable","handleRequestSort","property","orderCheck","orderBy","isAsc","newOrder","stableSort","applyFilter","comparator","getComparator","stabilizedThis","visibleValue","onChangeWrapper","updateVisible","objKeyName","objValueName","newItem","accumulator","currentValue","clear","filterRefs","valueInputRef","attrItem","schemaFind","schemaItem","customs","valueChange","buttonsWidth","sortDirection","noDelete","doAnyFilterSet","isAnyFilterSet","addIcon","rootTool","enhancedTableHead","itemTable","buttonCell","onMoveUp","buttonEmpty","onMoveDown","filteredOut","descendingComparator","visuallyHidden","clip","highlight","lighten","light","ConfigSendto","_message","onCommandRunning","jsonData","arg","_onClick","renderErrorDialog","renderMessageDialog","number","ConfigObjectId","initialized","showSelectId","imagePrefix","dialogName","statesOnly","onOk","ConfigLanguage","languages","chip","prevValue","PASSWORD_PLACEHOLDER","ConfigPassword","_repeat","_visible","_notEqual","repeatPassword","onChangePassword","halfWidth1","halfWidth2","ConfigStaticHeader","contrastText","ConfigStaticDivider","ConfigSetState","okText","ConfigJsonEditor","wrapper","ConfigSelectSendTo","ConfigTopic","topic","ConfigAutocomplete","freeSolo","ConfigAutocompleteSendTo","ConfigTimePicker","ConfigDatePicker","KeyboardButtonProps","ConfigCRON","showDialog","simple","complex","cron","ConfigAlive","getInstance","textAlive","textNotAlive","ConfigTextSendTo","askInstance","getContext","alsoDependsOn","autocomplete","autocompleteSendTo","certificate","ConfigChip","datePicker","divider","ConfigImageUpload","jsonEditor","objectId","selectSendTo","sendto","staticImage","staticLink","staticText","textSendTo","timePicker","collapsable","multiEdit","noMultiEdit","ItemComponent","ConfigPanelStyled","themaType","renderItems","isParentTab","onForceUpdate","uploadFile","cropHandler","cropperRef","onabort","onerror","ext","readAsArrayBuffer","multiple","uploadDiv","uploadDivDragging","dropZone","disabledOpacity","dropZoneEmpty","uploadCenterDiv","buttonRemoveWrapper","uploadCenterTextAndIcon","uploadCenterIcon","uploadCenterText","buttonCropWrapper","imageElement","cropper","getCroppedCanvas","toDataURL","initialAspectRatio","guides","minCropBoxHeight","minCropBoxWidth","checkOrientation","outline","checkIcon","cancelIcon","wrapperContent","State","getIcon","wrapperButton","textUpdate","refIframe","registered","prevProps","snapshot","hrefs","replaceLink","STYLES","GB","MB","mhz","Error","adapterInstance","getHostname","ipInt","octet","localIp","hostIp","inter","internal","ip2int","netmask","currentHostname","adminHost","findNetworkAddressOfHost","_urls","placeholders","_replaceLink","_link","_port","code"],"mappings":"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","file":"static/js/main.1892293b.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\n\nfunction getAttr(obj, attr) {\n    if (!obj) {\n        return null;\n    }\n    if (typeof attr !== 'object') {\n        attr = attr.split('.');\n    }\n    const att = attr.shift();\n    let val = obj[att];\n    if (!attr.length) {\n        return val;\n    } else if (typeof val === 'object') {\n        return getAttr(val, attr);\n    } else {\n        return null;\n    }\n}\n\nfunction IsVisible(props) {\n    const { config, children, name, value } = props;\n\n    if (value !== undefined) {\n        return value === false ? null : children;\n    } else\n    if (!config) {\n        return children;\n    } else if (getAttr(config, name) !== false) {\n        return children;\n    } else {\n        return null;\n    }\n}\n\nIsVisible.propTypes = {\n    name: PropTypes.string,\n    config: PropTypes.object,\n    value: PropTypes.bool,\n};\n\nexport default IsVisible;","/* This file is temporary here to speed-up the development of this component.\r\n    Later it will be moved to adapter-react\r\n */\r\n\r\n/**\r\n * Copyright 2020-2021, bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport PropTypes from 'prop-types';\r\n\r\n/** Possible progress states. */\r\nexport const PROGRESS = {\r\n    /** The socket is connecting. */\r\n    CONNECTING: 0,\r\n    /** The socket is successfully connected. */\r\n    CONNECTED: 1,\r\n    /** All objects are loaded. */\r\n    OBJECTS_LOADED: 2,\r\n    /** The socket is ready for use. */\r\n    READY: 3\r\n};\r\n\r\nconst PERMISSION_ERROR = 'permissionError';\r\nconst NOT_CONNECTED    = 'notConnectedError';\r\nconst TIMEOUT_FOR_ADMIN4 = 1300;\r\n\r\nexport const ERRORS = {\r\n    PERMISSION_ERROR,\r\n    NOT_CONNECTED\r\n};\r\n\r\nfunction fixAdminUI(obj) {\r\n    if (obj && obj.common && !obj.common.adminUI) {\r\n        if (obj.common.noConfig) {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.config = 'none';\r\n        } else if (obj.common.jsonConfig) {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.config = 'json';\r\n        } else if (obj.common.materialize) {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.config = 'materialize';\r\n        } else {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.config = 'html';\r\n        }\r\n\r\n        if (obj.common.jsonCustom) {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.custom = 'json';\r\n        } else if (obj.common.supportCustoms) {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.custom = 'json';\r\n        }\r\n\r\n        if (obj.common.materializeTab && obj.common.adminTab) {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.tab = 'materialize';\r\n        } else if (obj.common.adminTab) {\r\n            obj.common.adminUI = obj.common.adminUI || {};\r\n            obj.common.adminUI.tab = 'html';\r\n        }\r\n\r\n        obj.common.adminUI && console.debug(`Please add to \"${obj._id.replace(/\\.\\d+$/, '')}\" common.adminUI=${JSON.stringify(obj.common.adminUI)}`);\r\n    }\r\n    return obj;\r\n}\r\n\r\nclass Connection {\r\n    /**\r\n     * @param {import('./types').ConnectionProps} props\r\n     */\r\n    constructor(props) {\r\n        props                 = props || { protocol: window.location.protocol, host: window.location.hostname };\r\n        this.props            = props;\r\n\r\n        this.autoSubscribes   = this.props.autoSubscribes || [];\r\n        this.autoSubscribeLog = this.props.autoSubscribeLog;\r\n\r\n        this.props.protocol   = this.props.protocol || window.location.protocol;\r\n        this.props.host       = this.props.host     || window.location.hostname;\r\n        this.props.port       = this.props.port     || (window.location.port === '3000' ? (Connection.isWeb() ? 8082 : 8081) : window.location.port);\r\n        this.props.ioTimeout  = Math.max(this.props.ioTimeout  || 20000, 20000);\r\n        this.props.cmdTimeout = Math.max(this.props.cmdTimeout || 5000, 5000);\r\n\r\n        // breaking change. Do not load all objects by default is true\r\n        this.doNotLoadAllObjects = this.props.doNotLoadAllObjects === undefined ? true : this.props.doNotLoadAllObjects;\r\n        this.doNotLoadACL        = this.props.doNotLoadACL        === undefined ? true : this.props.doNotLoadACL;\r\n\r\n        /** @type {Record<string, ioBroker.State>} */\r\n        this.states = {};\r\n        this.objects = null;\r\n        this.acl = null;\r\n        this.firstConnect = true;\r\n        this.waitForRestart = false;\r\n        /** @type {ioBroker.Languages} */\r\n        this.systemLang = 'en';\r\n        this.connected = false;\r\n        this._waitForFirstConnection = new Promise(resolve => { this._waitForFirstConnectionResolve = resolve });\r\n\r\n        /** @type {Record<string, { reg: RegExp; cbs: ioBroker.StateChangeHandler[]}>} */\r\n        this.statesSubscribes = {}; // subscribe for states\r\n\r\n        /** @type {Record<string, { reg: RegExp; cbs: import('./types').ObjectChangeHandler[]}>} */\r\n        this.objectsSubscribes = {}; // subscribe for objects\r\n        this.onProgress = this.props.onProgress || function () { };\r\n        this.onError = this.props.onError || function (err) { console.error(err); };\r\n        this.loaded = false;\r\n        this.loadTimer = null;\r\n        this.loadCounter = 0;\r\n        this.admin5only = this.props.admin5only || false;\r\n\r\n        /** @type {((connected: boolean) => void)[]} */\r\n        this.onConnectionHandlers = [];\r\n        /** @type {((message: string) => void)[]} */\r\n        this.onLogHandlers = [];\r\n\r\n        /** @type {Record<string, Promise<any>>} */\r\n        this._promises = {};\r\n        this.startSocket();\r\n    }\r\n\r\n    /**\r\n     * Checks if this connection is running in a web adapter and not in an admin.\r\n     * @returns {boolean} True if running in a web adapter or in a socketio adapter.\r\n     */\r\n    static isWeb() {\r\n        return window.adapterName === 'material' || window.socketUrl !== undefined;\r\n    }\r\n\r\n    /**\r\n     * Starts the socket.io connection.\r\n     * @returns {void}\r\n     */\r\n    startSocket() {\r\n        // if socket io is not yet loaded\r\n        if (typeof window.io === 'undefined') {\r\n            // if in index.html the onLoad function not defined\r\n            if (typeof window.registerSocketOnLoad !== 'function') {\r\n                // poll if loaded\r\n                this.scriptLoadCounter = this.scriptLoadCounter || 0;\r\n                this.scriptLoadCounter++;\r\n\r\n                if (this.scriptLoadCounter < 30) {\r\n                    // wait till the script loaded\r\n                    setTimeout(() => this.startSocket(), 100);\r\n                    return;\r\n                } else {\r\n                    window.alert('Cannot load socket.io.js!');\r\n                }\r\n            } else {\r\n                // register on load\r\n                window.registerSocketOnLoad(() => this.startSocket());\r\n            }\r\n            return;\r\n        } else {\r\n            // socket was initialized, do not repeat\r\n            if (this._socket) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        let host = this.props.host;\r\n        let port = this.props.port;\r\n        let protocol = this.props.protocol.replace(':', '');\r\n\r\n        // if web adapter, socket io could be on other port or even host\r\n        if (window.socketUrl) {\r\n            let parts = window.socketUrl.split(':');\r\n            host = parts[0] || host;\r\n            port = parts[1] || port;\r\n            if (host.includes('://')) {\r\n                parts = host.split('://');\r\n                protocol = parts[0];\r\n                host = parts[1];\r\n            }\r\n        }\r\n\r\n        const url = `${protocol}://${host}:${port}`;\r\n\r\n        this._socket = window.io.connect(\r\n            url,\r\n            {\r\n                query: 'ws=true',\r\n                name: this.props.name,\r\n                timeout: this.props.ioTimeout\r\n            }\r\n        );\r\n\r\n        this._socket.on('connect', noTimeout => {\r\n            // If the user is not admin it takes some time to install the handlers, because all rights must be checked\r\n            if (noTimeout !== true) {\r\n                setTimeout(() =>\r\n                    this.getVersion()\r\n                        .then(info => {\r\n                            const [major, minor, patch] = info.version.split('.');\r\n                            const v = parseInt(major, 10) * 10000 + parseInt(minor, 10) * 100 + parseInt(patch, 10);\r\n                            if (v < 40102) {\r\n                                this._authTimer = null;\r\n                                // possible this is old version of admin\r\n                                this.onPreConnect(false, false);\r\n                            } else {\r\n                                this._socket.emit('authenticate', (isOk, isSecure) => this.onPreConnect(isOk, isSecure));\r\n                            }\r\n                        }), 500);\r\n            } else {\r\n                // iobroker websocket waits, till all handlers are installed\r\n                this._socket.emit('authenticate', (isOk, isSecure) => this.onPreConnect(isOk, isSecure));\r\n            }\r\n        });\r\n\r\n        this._socket.on('reconnect', () => {\r\n            this.onProgress(PROGRESS.READY);\r\n            this.connected = true;\r\n\r\n            if (this.waitForRestart) {\r\n                window.location.reload(false);\r\n            } else {\r\n                this._subscribe(true);\r\n                this.onConnectionHandlers.forEach(cb => cb(true));\r\n            }\r\n        });\r\n\r\n        this._socket.on('disconnect', () => {\r\n            this.connected  = false;\r\n            this.subscribed = false;\r\n            this.onProgress(PROGRESS.CONNECTING);\r\n            this.onConnectionHandlers.forEach(cb => cb(false));\r\n        });\r\n\r\n        this._socket.on('reauthenticate', () =>\r\n            this.authenticate());\r\n\r\n        this._socket.on('log', message => {\r\n            this.props.onLog && this.props.onLog(message);\r\n            this.onLogHandlers.forEach(cb => cb(message));\r\n        });\r\n\r\n        this._socket.on('error', err => {\r\n            let _err = err || '';\r\n            if (typeof _err.toString !== 'function') {\r\n                _err = JSON.stringify(_err);\r\n                console.error(`Received strange error: ${_err}`);\r\n            }\r\n            _err = _err.toString();\r\n            if (_err.includes('User not authorized')) {\r\n                this.authenticate();\r\n            } else {\r\n                window.alert(`Socket Error: ${err}`);\r\n            }\r\n        });\r\n\r\n        this._socket.on('connect_error', err =>\r\n            console.error(`Connect error: ${err}`));\r\n\r\n        this._socket.on('permissionError', err =>\r\n            this.onError({ message: 'no permission', operation: err.operation, type: err.type, id: (err.id || '') }));\r\n\r\n        this._socket.on('objectChange', (id, obj) =>\r\n            setTimeout(() => this.objectChange(id, obj), 0));\r\n\r\n        this._socket.on('stateChange', (id, state) =>\r\n            setTimeout(() => this.stateChange(id, state), 0));\r\n\r\n        this._socket.on('cmdStdout', (id, text) =>\r\n            this.onCmdStdoutHandler && this.onCmdStdoutHandler(id, text));\r\n\r\n        this._socket.on('cmdStderr', (id, text) =>\r\n            this.onCmdStderrHandler && this.onCmdStderrHandler(id, text));\r\n\r\n        this._socket.on('cmdExit', (id, exitCode) =>\r\n            this.onCmdExitHandler && this.onCmdExitHandler(id, exitCode));\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     * @param {boolean} isOk\r\n     * @param {boolean} isSecure\r\n     */\r\n    onPreConnect(isOk, isSecure) {\r\n        if (this._authTimer) {\r\n            clearTimeout(this._authTimer);\r\n            this._authTimer = null;\r\n        }\r\n\r\n        this.connected = true;\r\n        this.isSecure = isSecure;\r\n\r\n        if (this.waitForRestart) {\r\n            window.location.reload(false);\r\n        } else {\r\n            if (this.firstConnect) {\r\n                // retry strategy\r\n                this.loadTimer = setTimeout(() => {\r\n                    this.loadTimer = null;\r\n                    this.loadCounter++;\r\n                    if (this.loadCounter < 10) {\r\n                        this.onConnect();\r\n                    }\r\n                }, 1000);\r\n\r\n                if (!this.loaded) {\r\n                    this.onConnect();\r\n                }\r\n            } else {\r\n                this.onProgress(PROGRESS.READY);\r\n            }\r\n\r\n            this._subscribe(true);\r\n            this.onConnectionHandlers.forEach(cb => cb(true));\r\n        }\r\n\r\n        if (this._waitForFirstConnectionResolve) {\r\n            this._waitForFirstConnectionResolve();\r\n            this._waitForFirstConnectionResolve = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if the socket is connected.\r\n     * @returns {boolean} true if connected.\r\n     */\r\n    isConnected() {\r\n        return this.connected;\r\n    }\r\n\r\n    /**\r\n     * Checks if the socket is connected.\r\n     * @returns {Promise<void>} Promise resolves if once connected.\r\n     */\r\n    waitForFirstConnection() {\r\n        return this._waitForFirstConnection;\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     */\r\n    _getUserPermissions(cb) {\r\n        if (this.doNotLoadACL) {\r\n            return cb && cb();\r\n        } else {\r\n            this._socket.emit('getUserPermissions', cb);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     */\r\n    onConnect() {\r\n        this._getUserPermissions((err, acl) => {\r\n            if (err) {\r\n                return this.onError('Cannot read user permissions: ' + err);\r\n            } else\r\n            if (!this.doNotLoadACL) {\r\n                if (this.loaded) {\r\n                    return;\r\n                }\r\n                this.loaded = true;\r\n                clearTimeout(this.loadTimer);\r\n                this.loadTimer = null;\r\n\r\n                this.onProgress(PROGRESS.CONNECTED);\r\n                this.firstConnect = false;\r\n\r\n                this.acl = acl;\r\n            }\r\n\r\n            // Read system configuration\r\n            return (this.admin5only && !window.vendorPrefix ? this.getCompactSystemConfig() : this.getSystemConfig())\r\n                .then(data => {\r\n                    if (this.doNotLoadACL) {\r\n                        if (this.loaded) {\r\n                            return undefined;\r\n                        }\r\n                        this.loaded = true;\r\n                        clearTimeout(this.loadTimer);\r\n                        this.loadTimer = null;\r\n\r\n                        this.onProgress(PROGRESS.CONNECTED);\r\n                        this.firstConnect = false;\r\n                    }\r\n\r\n                    this.systemConfig = data;\r\n                    if (this.systemConfig && this.systemConfig.common) {\r\n                        this.systemLang = this.systemConfig.common.language;\r\n                    } else {\r\n                        this.systemLang = window.navigator.userLanguage || window.navigator.language;\r\n\r\n                        if (this.systemLang !== 'en' && this.systemLang !== 'de' && this.systemLang !== 'ru') {\r\n                            this.systemConfig.common.language = 'en';\r\n                            this.systemLang = 'en';\r\n                        }\r\n                    }\r\n\r\n                    this.props.onLanguage && this.props.onLanguage(this.systemLang);\r\n\r\n                    if (!this.doNotLoadAllObjects) {\r\n                        return this.getObjects()\r\n                            .then(() => {\r\n                                this.onProgress(PROGRESS.READY);\r\n                                this.props.onReady && this.props.onReady(this.objects);\r\n                            });\r\n                    } else {\r\n                        this.objects = this.admin5only ? {} : { 'system.config': data };\r\n                        this.onProgress(PROGRESS.READY);\r\n                        this.props.onReady && this.props.onReady(this.objects);\r\n                    }\r\n                    return undefined;\r\n                })\r\n                .catch(e => this.onError('Cannot read system config: ' + e));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     */\r\n    authenticate() {\r\n        if (window.location.search.includes('&href=')) {\r\n            window.location = `${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}${window.location.hash}`;\r\n        } else {\r\n            window.location = `${window.location.protocol}//${window.location.host}${window.location.pathname}?login&href=${window.location.search}${window.location.hash}`;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Subscribe to changes of the given state.\r\n     * @param {string} id The ioBroker state ID.\r\n     * @param {ioBroker.StateChangeHandler} cb The callback.\r\n     */\r\n    /**\r\n     * Subscribe to changes of the given state.\r\n     * @param {string} id The ioBroker state ID.\r\n     * @param {boolean} binary Set to true if the given state is binary and requires Base64 decoding.\r\n     * @param {ioBroker.StateChangeHandler} cb The callback.\r\n     */\r\n    subscribeState(id, binary, cb) {\r\n        if (typeof binary === 'function') {\r\n            cb = binary;\r\n            binary = false;\r\n        }\r\n\r\n        if (!this.statesSubscribes[id]) {\r\n            let reg = id\r\n                .replace(/\\./g, '\\\\.')\r\n                .replace(/\\*/g, '.*')\r\n                .replace(/\\(/g, '\\\\(')\r\n                .replace(/\\)/g, '\\\\)')\r\n                .replace(/\\+/g, '\\\\+')\r\n                .replace(/\\[/g, '\\\\[');\r\n\r\n            if (reg.indexOf('*') === -1) {\r\n                reg += '$';\r\n            }\r\n            this.statesSubscribes[id] = { reg: new RegExp(reg), cbs: [] };\r\n            this.statesSubscribes[id].cbs.push(cb);\r\n            if (this.connected) {\r\n                this._socket.emit('subscribe', id);\r\n            }\r\n        } else {\r\n            !this.statesSubscribes[id].cbs.includes(cb) && this.statesSubscribes[id].cbs.push(cb);\r\n        }\r\n        if (typeof cb === 'function' && this.connected) {\r\n            if (binary) {\r\n                this.getBinaryState(id)\r\n                    .then(base64 => cb(id, base64))\r\n                    .catch(e => console.error(`Cannot getForeignStates \"${id}\": ${JSON.stringify(e)}`));\r\n            } else {\r\n                if (Connection.isWeb()) {\r\n                    this._socket.emit('getStates', id, (err, states) => {\r\n                        err && console.error(`Cannot getForeignStates \"${id}\": ${JSON.stringify(err)}`);\r\n                        states && Object.keys(states).forEach(id => cb(id, states[id]));\r\n                    });\r\n                } else {\r\n                    this._socket.emit('getForeignStates', id, (err, states) => {\r\n                        err && console.error(`Cannot getForeignStates \"${id}\": ${JSON.stringify(err)}`);\r\n                        states && Object.keys(states).forEach(id => cb(id, states[id]));\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Unsubscribes all callbacks from changes of the given state.\r\n     * @param {string} id The ioBroker state ID.\r\n     */\r\n    /**\r\n     * Unsubscribes the given callback from changes of the given state.\r\n     * @param {string} id The ioBroker state ID.\r\n     * @param {ioBroker.StateChangeHandler} cb The callback.\r\n     */\r\n    unsubscribeState(id, cb) {\r\n        if (this.statesSubscribes[id]) {\r\n            if (cb) {\r\n                const pos = this.statesSubscribes[id].cbs.indexOf(cb);\r\n                pos !== -1 && this.statesSubscribes[id].cbs.splice(pos, 1);\r\n            } else {\r\n                this.statesSubscribes[id].cbs = [];\r\n            }\r\n\r\n            if (!this.statesSubscribes[id].cbs || !this.statesSubscribes[id].cbs.length) {\r\n                delete this.statesSubscribes[id];\r\n                this.connected && this._socket.emit('unsubscribe', id);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Subscribe to changes of the given object.\r\n     * @param {string} id The ioBroker object ID.\r\n     * @param {import('./types').ObjectChangeHandler} cb The callback.\r\n     * @returns {Promise<void>}\r\n     */\r\n    subscribeObject(id, cb) {\r\n        if (!this.objectsSubscribes[id]) {\r\n            let reg = id.replace(/\\./g, '\\\\.').replace(/\\*/g, '.*');\r\n            if (!reg.includes('*')) {\r\n                reg += '$';\r\n            }\r\n            this.objectsSubscribes[id] = { reg: new RegExp(reg), cbs: [] };\r\n            this.objectsSubscribes[id].cbs.push(cb);\r\n            this.connected && this._socket.emit('subscribeObjects', id);\r\n        } else {\r\n            !this.objectsSubscribes[id].cbs.includes(cb) && this.objectsSubscribes[id].cbs.push(cb);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /**\r\n     * Unsubscribes all callbacks from changes of the given object.\r\n     * @param {string} id The ioBroker object ID.\r\n     * @returns {Promise<void>}\r\n     */\r\n    /**\r\n     * Unsubscribes the given callback from changes of the given object.\r\n     * @param {string} id The ioBroker object ID.\r\n     * @param {import('./types').ObjectChangeHandler} cb The callback.\r\n     * @returns {Promise<void>}\r\n     */\r\n    unsubscribeObject(id, cb) {\r\n        if (this.objectsSubscribes[id]) {\r\n            if (cb) {\r\n                const pos = this.objectsSubscribes[id].cbs.indexOf(cb);\r\n                pos !== -1 && this.objectsSubscribes[id].cbs.splice(pos, 1);\r\n            } else {\r\n                this.objectsSubscribes[id].cbs = [];\r\n            }\r\n\r\n            if (this.connected && (!this.objectsSubscribes[id].cbs || !this.objectsSubscribes[id].cbs.length)) {\r\n                delete this.objectsSubscribes[id];\r\n                this.connected && this._socket.emit('unsubscribeObjects', id);\r\n            }\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     * @param {string} id\r\n     * @param {ioBroker.Object | null | undefined} obj\r\n     */\r\n    objectChange(id, obj) {\r\n        // update main.objects cache\r\n        if (!this.objects) {\r\n            return;\r\n        }\r\n\r\n        /** @type {import(\"./types\").OldObject} */\r\n        let oldObj;\r\n\r\n        let changed = false;\r\n        if (obj) {\r\n            if (obj._rev && this.objects[id]) {\r\n                this.objects[id]._rev = obj._rev;\r\n            }\r\n\r\n            if (this.objects[id]) {\r\n                oldObj = { _id: id, type: this.objects[id].type };\r\n            }\r\n\r\n            if (!this.objects[id] || JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\r\n                this.objects[id] = obj;\r\n                changed = true;\r\n            }\r\n        } else if (this.objects[id]) {\r\n            oldObj = { _id: id, type: this.objects[id].type };\r\n            delete this.objects[id];\r\n            changed = true;\r\n        }\r\n\r\n        Object.keys(this.objectsSubscribes).forEach(_id => {\r\n            if (_id === id || this.objectsSubscribes[_id].reg.test(id)) {\r\n                //@ts-ignore\r\n                this.objectsSubscribes[_id].cbs.forEach(cb => cb(id, obj, oldObj));\r\n            }\r\n        });\r\n\r\n        if (changed && this.props.onObjectChange) {\r\n            this.props.onObjectChange(id, obj);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     * @param {string} id\r\n     * @param {ioBroker.State | null | undefined} state\r\n     */\r\n    stateChange(id, state) {\r\n        for (const task in this.statesSubscribes) {\r\n            if (this.statesSubscribes.hasOwnProperty(task) && this.statesSubscribes[task].reg.test(id)) {\r\n                this.statesSubscribes[task].cbs.forEach(cb => cb(id, state));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets all states.\r\n     * @param {boolean} disableProgressUpdate don't call onProgress() when done\r\n     * @returns {Promise<Record<string, ioBroker.State>>}\r\n     */\r\n    getStates(disableProgressUpdate) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getStates', (err, res) => {\r\n                this.states = res;\r\n                //@ts-ignore\r\n                !disableProgressUpdate && this.onProgress(PROGRESS.STATES_LOADED);\r\n                return err ? reject(err) : resolve(this.states);\r\n            }));\r\n    }\r\n\r\n    /**\r\n     * Gets the given state.\r\n     * @param {string} id The state ID.\r\n     * @returns {Promise<ioBroker.State | null | undefined>}\r\n     */\r\n    getState(id) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getState', id, (err, state) => err ? reject(err) : resolve(state)));\r\n    }\r\n\r\n    /**\r\n     * Gets the given binary state.\r\n     * @param {string} id The state ID.\r\n     * @returns {Promise<Buffer | undefined>}\r\n     */\r\n    getBinaryState(id) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        // the data will come in base64\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getBinaryState', id, (err, state) => err ? reject(err) : resolve(state)));\r\n    }\r\n\r\n    /**\r\n     * Sets the given binary state.\r\n     * @param {string} id The state ID.\r\n     * @param {string} base64 The Base64 encoded binary data.\r\n     * @returns {Promise<void>}\r\n     */\r\n    setBinaryState(id, base64) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        // the data will come in base64\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('setBinaryState', id, base64, err => err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Sets the given state value.\r\n     * @param {string} id The state ID.\r\n     * @param {string | number | boolean | ioBroker.State | ioBroker.SettableState | null} val The state value.\r\n     * @returns {Promise<void>}\r\n     */\r\n    setState(id, val) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('setState', id, val, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Gets all objects.\r\n     * @param {(objects?: Record<string, ioBroker.Object>) => void} update Callback that is executed when all objects are retrieved.\r\n     * @returns {void}\r\n     */\r\n    /**\r\n     * Gets all objects.\r\n     * @param {boolean} update Set to true to retrieve all objects from the server (instead of using the local cache).\r\n     * @param {boolean} disableProgressUpdate don't call onProgress() when done\r\n     * @returns {Promise<Record<string, ioBroker.Object>> | undefined}\r\n     */\r\n    getObjects(update, disableProgressUpdate) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        } else {\r\n            return new Promise((resolve, reject) => {\r\n                if (!update && this.objects) {\r\n                    return resolve(this.objects);\r\n                }\r\n\r\n                this._socket.emit(Connection.isWeb() ? 'getObjects' : 'getAllObjects', (err, res) => {\r\n                    this.objects = res;\r\n                    disableProgressUpdate && this.onProgress(PROGRESS.OBJECTS_LOADED);\r\n                    err ? reject(err) : resolve(this.objects);\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     * @param {boolean} isEnable\r\n     */\r\n    _subscribe(isEnable) {\r\n        if (isEnable && !this.subscribed) {\r\n            this.subscribed = true;\r\n            this.autoSubscribes.forEach(id => this._socket.emit('subscribeObjects', id));\r\n            // re subscribe objects\r\n            Object.keys(this.objectsSubscribes).forEach(id => this._socket.emit('subscribeObjects', id));\r\n            // re-subscribe logs\r\n            this.autoSubscribeLog && this._socket.emit('requireLog', true);\r\n            // re subscribe states\r\n            Object.keys(this.statesSubscribes).forEach(id => this._socket.emit('subscribe', id));\r\n        } else if (!isEnable && this.subscribed) {\r\n            this.subscribed = false;\r\n            // un-subscribe objects\r\n            this.autoSubscribes.forEach(id => this._socket.emit('unsubscribeObjects', id));\r\n            Object.keys(this.objectsSubscribes).forEach(id => this._socket.emit('unsubscribeObjects', id));\r\n            // un-subscribe logs\r\n            this.autoSubscribeLog && this._socket.emit('requireLog', false);\r\n\r\n            // un-subscribe states\r\n            Object.keys(this.statesSubscribes).forEach(id => this._socket.emit('unsubscribe', id));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Requests log updates.\r\n     * @param {boolean} isEnabled Set to true to get logs.\r\n     * @returns {Promise<void>}\r\n     */\r\n    requireLog(isEnabled) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('requireLog', isEnabled, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Deletes the given object.\r\n     * @param {string} id The object ID.\r\n     * @param {boolean} maintenance Force deletion of non conform IDs.\r\n     * @returns {Promise<void>}\r\n     */\r\n    delObject(id, maintenance) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('delObject', id, { maintenance: !!maintenance }, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Deletes the given object and all its children.\r\n     * @param {string} id The object ID.\r\n     * @param {boolean} maintenance Force deletion of non conform IDs.\r\n     * @returns {Promise<void>}\r\n     */\r\n    delObjects(id, maintenance) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('delObjects', id, {maintenance: !!maintenance}, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Sets the object.\r\n     * @param {string} id The object ID.\r\n     * @param {ioBroker.SettableObject} obj The object.\r\n     * @returns {Promise<void>}\r\n     */\r\n    setObject(id, obj) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        if (!obj) {\r\n            return Promise.reject('Null object is not allowed');\r\n        }\r\n\r\n        obj = JSON.parse(JSON.stringify(obj));\r\n\r\n        if (obj.hasOwnProperty('from')) {\r\n            delete obj.from;\r\n        }\r\n        if (obj.hasOwnProperty('user')) {\r\n            delete obj.user;\r\n        }\r\n        if (obj.hasOwnProperty('ts')) {\r\n            delete obj.ts;\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('setObject', id, obj, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Gets the object with the given id from the server.\r\n     * @param {string} id The object ID.\r\n     * @returns {ioBroker.GetObjectPromise} The object.\r\n     */\r\n    getObject(id) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getObject', id, (err, obj) =>\r\n                err ? reject(err) : resolve(obj)));\r\n    }\r\n\r\n    /**\r\n     * Get all adapter instances.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    /**\r\n     * Get all instances of the given adapter.\r\n     * @param {string} adapter The name of the adapter.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    getAdapterInstances(adapter, update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        if (typeof adapter === 'boolean') {\r\n            update = adapter;\r\n            adapter = '';\r\n        }\r\n        adapter = adapter || '';\r\n\r\n        if (!update && this._promises['instances_' + adapter]) {\r\n            return this._promises['instances_' + adapter];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises['instances_' + adapter] = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                timeout = null;\r\n                this.getObjectView(\r\n                    `system.adapter.${adapter}.`,\r\n                    `system.adapter.${adapter}.\\u9999`,\r\n                    'instance'\r\n                )\r\n                    .then(items => resolve(Object.keys(items).map(id => fixAdminUI(items[id]))))\r\n                    .catch(e => reject(e));\r\n            }, TIMEOUT_FOR_ADMIN4);\r\n\r\n            this._socket.emit('getAdapterInstances', adapter, (err, instances) => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    return err ? reject(err) : resolve(instances);\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises['instances_' + adapter];\r\n    }\r\n\r\n    /**\r\n     * Get all adapters.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    /**\r\n     * Get adapters with the given name.\r\n     * @param {string} adapter The name of the adapter.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    getAdapters(adapter, update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        if (typeof adapter === 'boolean') {\r\n            update = adapter;\r\n            adapter = '';\r\n        }\r\n\r\n        adapter = adapter || '';\r\n\r\n        if (!update && this._promises['adapter_' + adapter]) {\r\n            return this._promises['adapter_' + adapter];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises['adapter_' + adapter] = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                timeout = null;\r\n                this.getObjectView(\r\n                    `system.adapter.${adapter}.`,\r\n                    `system.adapter.${adapter}.\\u9999`,\r\n                    'adapter'\r\n                )\r\n                    .then(items => resolve(Object.keys(items).map(id => fixAdminUI(items[id]))))\r\n                    .catch(e => reject(e));\r\n            }, TIMEOUT_FOR_ADMIN4);\r\n\r\n            this._socket.emit('getAdapters', adapter, (err, adapters) => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    return err ? reject(err) : resolve(adapters);\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises['adapter_' + adapter];\r\n    }\r\n\r\n    /**\r\n     * Called internally.\r\n     * @private\r\n     * @param {any[]} objs\r\n     * @param {(err?: any) => void} cb\r\n     */\r\n    _renameGroups(objs, cb) {\r\n        if (!objs || !objs.length) {\r\n            cb && cb();\r\n        } else {\r\n            let obj = objs.pop();\r\n            let oldId = obj._id;\r\n            obj._id = obj.newId;\r\n            delete obj.newId;\r\n\r\n            this.setObject(obj._id, obj)\r\n                .then(() => this.delObject(oldId))\r\n                .then(() => setTimeout(() => this._renameGroups(objs, cb), 0))\r\n                .catch(err => cb && cb(err));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Rename a group.\r\n     * @param {string} id The id.\r\n     * @param {string} newId The new id.\r\n     * @param {string | { [lang in ioBroker.Languages]?: string; }} newName The new name.\r\n     */\r\n    renameGroup(id, newId, newName) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        return this.getGroups(true)\r\n            .then(groups => {\r\n                if (groups.length) {\r\n                    // find all elements\r\n                    const groupsToRename = groups\r\n                        .filter(group => group._id.startsWith(id + '.'));\r\n\r\n                    groupsToRename.forEach(group => group.newId = newId + group._id.substring(id.length));\r\n\r\n                    return new Promise((resolve, reject) =>\r\n                        this._renameGroups(groupsToRename, err => err ? reject(err) : resolve()))\r\n                        .then(() => {\r\n                            const obj = groups.find(group => group._id === id);\r\n\r\n                            if (obj) {\r\n                                obj._id = newId;\r\n                                if (newName !== undefined) {\r\n                                    obj.common = obj.common || {};\r\n                                    obj.common.name = newName;\r\n                                }\r\n\r\n                                return this.setObject(obj._id, obj)\r\n                                    .then(() => this.delObject(id));\r\n                            }\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Sends a message to a specific instance or all instances of some specific adapter.\r\n     * @param {string} instance The instance to send this message to.\r\n     * @param {string} [command] Command name of the target instance.\r\n     * @param {ioBroker.MessagePayload} [data] The message data to send.\r\n     * @returns {Promise<ioBroker.Message | undefined>}\r\n     */\r\n    sendTo(instance, command, data) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise(resolve =>\r\n            this._socket.emit('sendTo', instance, command, data, result =>\r\n                resolve(result)));\r\n    }\r\n\r\n    /**\r\n     * Extend an object and create it if it might not exist.\r\n     * @param {string} id The id.\r\n     * @param {ioBroker.PartialObject} obj The object.\r\n     */\r\n    extendObject(id, obj) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        obj = JSON.parse(JSON.stringify(obj));\r\n\r\n        if (obj.hasOwnProperty('from')) {\r\n            delete obj.from;\r\n        }\r\n        if (obj.hasOwnProperty('user')) {\r\n            delete obj.user;\r\n        }\r\n        if (obj.hasOwnProperty('ts')) {\r\n            delete obj.ts;\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('extendObject', id, obj, err => err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Register a handler for log messages.\r\n     * @param {(message: string) => void} handler The handler.\r\n     */\r\n    registerLogHandler(handler) {\r\n        !this.onLogHandlers.includes(handler) && this.onLogHandlers.push(handler);\r\n    }\r\n\r\n    /**\r\n     * Unregister a handler for log messages.\r\n     * @param {(message: string) => void} handler The handler.\r\n     */\r\n    unregisterLogHandler(handler) {\r\n        const pos = this.onLogHandlers.indexOf(handler);\r\n        pos !== -1 && this.onLogHandlers.splice(pos, 1);\r\n    }\r\n\r\n    /**\r\n     * Register a handler for the connection state.\r\n     * @param {(connected: boolean) => void} handler The handler.\r\n     */\r\n    registerConnectionHandler(handler) {\r\n        !this.onConnectionHandlers.includes(handler) && this.onConnectionHandlers.push(handler);\r\n    }\r\n\r\n    /**\r\n     * Unregister a handler for the connection state.\r\n     * @param {(connected: boolean) => void} handler The handler.\r\n     */\r\n    unregisterConnectionHandler(handler) {\r\n        const pos = this.onConnectionHandlers.indexOf(handler);\r\n        pos !== -1 && this.onConnectionHandlers.splice(pos, 1);\r\n    }\r\n\r\n    /**\r\n     * Set the handler for standard output of a command.\r\n     * @param {(id: string, text: string) => void} handler The handler.\r\n     */\r\n    registerCmdStdoutHandler(handler) {\r\n        this.onCmdStdoutHandler = handler;\r\n    }\r\n\r\n    /**\r\n     * Unset the handler for standard output of a command.\r\n     * @param {(id: string, text: string) => void} handler The handler.\r\n     */\r\n    unregisterCmdStdoutHandler(handler) {\r\n        this.onCmdStdoutHandler = null;\r\n    }\r\n\r\n    /**\r\n     * Set the handler for standard error of a command.\r\n     * @param {(id: string, text: string) => void} handler The handler.\r\n     */\r\n    registerCmdStderrHandler(handler) {\r\n        this.onCmdStderrHandler = handler;\r\n    }\r\n\r\n    /**\r\n     * Unset the handler for standard error of a command.\r\n     * @param {(id: string, text: string) => void} handler The handler.\r\n     */\r\n    unregisterCmdStderrHandler(handler) {\r\n        this.onCmdStderrHandler = null;\r\n    }\r\n\r\n    /**\r\n     * Set the handler for exit of a command.\r\n     * @param {(id: string, exitCode: number) => void} handler The handler.\r\n     */\r\n    registerCmdExitHandler(handler) {\r\n        this.onCmdExitHandler = handler;\r\n    }\r\n\r\n    /**\r\n     * Unset the handler for exit of a command.\r\n     * @param {(id: string, exitCode: number) => void} handler The handler.\r\n     */\r\n    unregisterCmdExitHandler(handler) {\r\n        this.onCmdExitHandler = null;\r\n    }\r\n\r\n    /**\r\n     * Get all enums with the given name.\r\n     * @param {string} [_enum] The name of the enum\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<Record<string, ioBroker.Object>>}\r\n     */\r\n    getEnums(_enum, update) {\r\n        if (!update && this._promises['enums_' + (_enum || 'all')]) {\r\n            return this._promises['enums_' + (_enum || 'all')];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises['enums_' + (_enum || 'all')] = new Promise((resolve, reject) => {\r\n            this._socket.emit('getObjectView', 'system', 'enum', { startkey: 'enum.' + (_enum || ''), endkey: 'enum.' + (_enum ? (_enum + '.') : '') + '\\u9999' }, (err, res) => {\r\n                if (!err && res) {\r\n                    const _res = {};\r\n                    for (let i = 0; i < res.rows.length; i++) {\r\n                        if (_enum && res.rows[i].id === 'enum.' + _enum) {\r\n                            continue;\r\n                        }\r\n                        _res[res.rows[i].id] = res.rows[i].value;\r\n                    }\r\n                    resolve(_res);\r\n                } else {\r\n                    reject(err);\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises['enums_' + (_enum || 'all')];\r\n    }\r\n\r\n    /**\r\n     * Query a predefined object view.\r\n     * @param {string} start The start ID.\r\n     * @param {string} end The end ID.\r\n     * @param {string} type The type of object.\r\n     * @returns {Promise<Record<string, ioBroker.Object>>}\r\n     */\r\n    getObjectView(start, end, type) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        start = start || '';\r\n        end   = end   || '\\u9999';\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this._socket.emit('getObjectView', 'system', type, { startkey: start, endkey: end }, (err, res) => {\r\n                if (!err) {\r\n                    const _res = {};\r\n                    if (res && res.rows) {\r\n                        for (let i = 0; i < res.rows.length; i++) {\r\n                            _res[res.rows[i].id] = res.rows[i].value;\r\n                        }\r\n                    }\r\n                    resolve(_res);\r\n                } else {\r\n                    reject(err);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get the stored certificates.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<{name: string; type: 'public' | 'private' | 'chained'}[]>}\r\n     */\r\n    getCertificates(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        if (this._promises.cert && !update) {\r\n            return this._promises.cert;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.cert = this.getObject('system.certificates')\r\n            .then(res => {\r\n                const certs = [];\r\n                if (res && res.native && res.native.certificates) {\r\n                    Object.keys(res.native.certificates).forEach(c => {\r\n                        const cert = res.native.certificates[c];\r\n                        if (!cert) {\r\n                            return;\r\n                        }\r\n                        const _cert = {\r\n                            name: c,\r\n                            type: ''\r\n                        };\r\n                        // If it is filename, it could be everything\r\n                        if (cert.length < 700 && (cert.indexOf('/') !== -1 || cert.indexOf('\\\\') !== -1)) {\r\n                            if (c.toLowerCase().includes('private')) {\r\n                                _cert.type = 'private';\r\n                            } else if (cert.toLowerCase().includes('private')) {\r\n                                _cert.type = 'private';\r\n                            } else if (c.toLowerCase().includes('public')) {\r\n                                _cert.type = 'public';\r\n                            } else if (cert.toLowerCase().includes('public')) {\r\n                                _cert.type = 'public';\r\n                            }\r\n                            certs.push(_cert);\r\n                        } else {\r\n                            _cert.type = (cert.substring(0, '-----BEGIN RSA PRIVATE KEY'.length) === '-----BEGIN RSA PRIVATE KEY' || cert.substring(0, '-----BEGIN PRIVATE KEY'.length) === '-----BEGIN PRIVATE KEY') ? 'private' : 'public';\r\n\r\n                            if (_cert.type === 'public') {\r\n                                const m = cert.split('-----END CERTIFICATE-----');\r\n                                if (m.filter(t => t.replace(/\\r\\n|\\r|\\n/, '').trim()).length > 1) {\r\n                                    _cert.type = 'chained';\r\n                                }\r\n                            }\r\n\r\n                            certs.push(_cert);\r\n                        }\r\n                    });\r\n                }\r\n                return certs;\r\n            });\r\n\r\n        return this._promises.cert;\r\n    }\r\n\r\n    /**\r\n     * Get the logs from a host (only for admin connection).\r\n     * @param {string} host\r\n     * @param {number} [linesNumber]\r\n     * @returns {Promise<string[]>}\r\n     */\r\n    getLogs(host, linesNumber) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise(resolve =>\r\n            this._socket.emit('sendToHost', host, 'getLogs', linesNumber || 200, lines =>\r\n                resolve(lines)));\r\n    }\r\n\r\n    /**\r\n     * Get the log files (only for admin connection).\r\n     * @returns {Promise<string[]>}\r\n     */\r\n    getLogsFiles(host) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('readLogs', host, (err, files) =>\r\n                err ? reject(err) : resolve(files)));\r\n    }\r\n\r\n    /**\r\n     * Delete the logs from a host (only for admin connection).\r\n     * @param {string} host\r\n     * @returns {Promise<void>}\r\n     */\r\n    delLogs(host) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('sendToHost', host, 'delLogs', null, error =>\r\n                error ? reject(error) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Read the meta items.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    readMetaItems() {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getObjectView', 'system', 'meta', { startkey: '', endkey: '\\u9999' }, (err, objs) =>\r\n                err ? reject(err) : resolve(objs.rows && objs.rows.map(obj => obj.value))));\r\n    }\r\n\r\n    /**\r\n     * Read the directory of an adapter.\r\n     * @param {string} adapter The adapter name.\r\n     * @param {string} fileName The directory name.\r\n     * @returns {Promise<ioBroker.ReadDirResult[]>}\r\n     */\r\n    readDir(adapter, fileName) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('readDir', adapter, fileName, (err, files) =>\r\n                err ? reject(err) : resolve(files)));\r\n    }\r\n\r\n    readFile(adapter, fileName, base64) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            if (!base64) {\r\n                this._socket.emit('readFile', adapter, fileName, (err, data, type) => {\r\n                    //@ts-ignore\r\n                    err ? reject(err) : resolve(data, type);\r\n                });\r\n            } else {\r\n                this._socket.emit('readFile64', adapter, fileName, base64, (err, data) =>\r\n                    err ? reject(err) : resolve(data));\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Write a file of an adapter.\r\n     * @param {string} adapter The adapter name.\r\n     * @param {string} fileName The file name.\r\n     * @param {Buffer | string} data The data (if it's a Buffer, it will be converted to Base64).\r\n     * @returns {Promise<void>}\r\n     */\r\n    writeFile64(adapter, fileName, data) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            if (typeof data === 'string') {\r\n                this._socket.emit('writeFile', adapter, fileName, data, err =>\r\n                    err ? reject(err) : resolve());\r\n            } else {\r\n                const base64 = btoa(\r\n                    new Uint8Array(data)\r\n                        .reduce((data, byte) => data + String.fromCharCode(byte), '')\r\n                );\r\n\r\n                this._socket.emit('writeFile64', adapter, fileName, base64, err =>\r\n                    err ? reject(err) : resolve());\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Delete a file of an adapter.\r\n     * @param {string} adapter The adapter name.\r\n     * @param {string} fileName The file name.\r\n     * @returns {Promise<void>}\r\n     */\r\n    deleteFile(adapter, fileName) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('deleteFile', adapter, fileName, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Delete a folder of an adapter.\r\n     * @param {string} adapter The adapter name.\r\n     * @param {string} folderName The folder name.\r\n     * @returns {Promise<void>}\r\n     */\r\n    deleteFolder(adapter, folderName) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('deleteFolder', adapter, folderName, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Get the list of all hosts.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    getHosts(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.hosts) {\r\n            return this._promises.hosts;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.hosts = new Promise((resolve, reject) =>\r\n            this._socket.emit(\r\n                'getObjectView',\r\n                'system',\r\n                'host',\r\n                {startkey: 'system.host.', endkey: 'system.host.\\u9999'},\r\n                (err, doc) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    } else {\r\n                        resolve(doc.rows.map(item => item.value));\r\n                    }\r\n                }));\r\n\r\n        return this._promises.hosts;\r\n    }\r\n\r\n    /**\r\n     * Get the list of all users.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    getUsers(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.users) {\r\n            return this._promises.users;\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.users = new Promise((resolve, reject) =>\r\n            this._socket.emit(\r\n                'getObjectView',\r\n                'system',\r\n                'user',\r\n                {startkey: 'system.user.', endkey: 'system.user.\\u9999'},\r\n                (err, doc) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    } else {\r\n                        resolve(doc.rows.map(item => item.value));\r\n                    }\r\n                }));\r\n\r\n        return this._promises.users;\r\n    }\r\n\r\n    /**\r\n     * Get the list of all groups.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    getGroups(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.groups) {\r\n            return this._promises.groups;\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.groups = new Promise((resolve, reject) =>\r\n            this._socket.emit(\r\n                'getObjectView',\r\n                'system',\r\n                'group',\r\n                {startkey: 'system.group.', endkey: 'system.group.\\u9999'},\r\n                (err, doc) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    } else {\r\n                        resolve(doc.rows.map(item => item.value));\r\n                    }\r\n                }));\r\n\r\n        return this._promises.groups;\r\n    }\r\n\r\n    /**\r\n     * Get the host information.\r\n     * @param {string} host\r\n     * @param {boolean} [update] Force update.\r\n     * @param {number} [timeoutMs] optional read timeout.\r\n     * @returns {Promise<any>}\r\n     */\r\n    getHostInfo(host, update, timeoutMs) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!host.startsWith('system.host.')) {\r\n            host += 'system.host.' + host;\r\n        }\r\n\r\n        if (!update && this._promises['hostInfo' + host]) {\r\n            return this._promises['hostInfo' + host];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises['hostInfo' + host] = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                if (timeout) {\r\n                    timeout = null;\r\n                    reject('getHostInfo timeout');\r\n                }\r\n            }, timeoutMs || this.props.cmdTimeout);\r\n\r\n            this._socket.emit('sendToHost', host, 'getHostInfo', null, data => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    if (data === PERMISSION_ERROR) {\r\n                        reject('May not read \"getHostInfo\"');\r\n                    } else if (!data) {\r\n                        reject('Cannot read \"getHostInfo\"');\r\n                    } else {\r\n                        resolve(data);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises['hostInfo' + host];\r\n    }\r\n\r\n    /**\r\n     * Get the host information (short version).\r\n     * @param {string} host\r\n     * @param {boolean} [update] Force update.\r\n     * @param {number} [timeoutMs] optional read timeout.\r\n     * @returns {Promise<any>}\r\n     */\r\n    getHostInfoShort(host, update, timeoutMs) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!host.startsWith('system.host.')) {\r\n            host += 'system.host.' + host;\r\n        }\r\n\r\n        if (!update && this._promises['hostInfoShort' + host]) {\r\n            return this._promises['hostInfoShort' + host];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises['hostInfoShort' + host] = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                if (timeout) {\r\n                    timeout = null;\r\n                    reject('hostInfoShort timeout');\r\n                }\r\n            }, timeoutMs || this.props.cmdTimeout);\r\n\r\n            this._socket.emit('sendToHost', host, 'getHostInfoShort', null, data => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    if (data === PERMISSION_ERROR) {\r\n                        reject('May not read \"getHostInfoShort\"');\r\n                    } else if (!data) {\r\n                        reject('Cannot read \"getHostInfoShort\"');\r\n                    } else {\r\n                        resolve(data);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises['hostInfoShort' + host];\r\n    }\r\n\r\n    /**\r\n     * Get the repository.\r\n     * @param {string} host\r\n     * @param {any} [args]\r\n     * @param {boolean} [update] Force update.\r\n     * @param {number} [timeoutMs] timeout in ms.\r\n     * @returns {Promise<any>}\r\n     */\r\n    getRepository(host, args, update, timeoutMs) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.repo) {\r\n            return this._promises.repo;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        if (!host.startsWith('system.host.')) {\r\n            host += 'system.host.' + host;\r\n        }\r\n\r\n        this._promises.repo = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                if (timeout) {\r\n                    timeout = null;\r\n                    reject('getRepository timeout');\r\n                }\r\n            }, timeoutMs || this.props.cmdTimeout);\r\n\r\n            this._socket.emit('sendToHost', host, 'getRepository', args, data => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    if (data === PERMISSION_ERROR) {\r\n                        reject('May not read \"getRepository\"');\r\n                    } else if (!data) {\r\n                        reject('Cannot read \"getRepository\"');\r\n                    } else {\r\n                        resolve(data);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises.repo;\r\n    }\r\n\r\n    /**\r\n     * Get the installed.\r\n     * @param {string} host\r\n     * @param {boolean} [update] Force update.\r\n     * @param {number} [cmdTimeout] timeout in ms (optional)\r\n     * @returns {Promise<any>}\r\n     */\r\n    getInstalled(host, update, cmdTimeout) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        this._promises.installed = this._promises.installed || {};\r\n\r\n        if (!update && this._promises.installed[host]) {\r\n            return this._promises.installed[host];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        if (!host.startsWith('system.host.')) {\r\n            host += 'system.host.' + host;\r\n        }\r\n\r\n        this._promises.installed[host] = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                if (timeout) {\r\n                    timeout = null;\r\n                    reject('getInstalled timeout');\r\n                }\r\n            }, cmdTimeout || this.props.cmdTimeout);\r\n\r\n            this._socket.emit('sendToHost', host, 'getInstalled', null, data => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    if (data === PERMISSION_ERROR) {\r\n                        reject('May not read \"getInstalled\"');\r\n                    } else if (!data) {\r\n                        reject('Cannot read \"getInstalled\"');\r\n                    } else {\r\n                        resolve(data);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises.installed[host];\r\n    }\r\n\r\n    /**\r\n     * Execute a command on a host.\r\n     * @param {string} host The host name.\r\n     * @param {string} cmd The command.\r\n     * @param {string} cmdId The command ID.\r\n     * @param {number} cmdTimeout Timeout of command in ms\r\n     * @returns {Promise<void>}\r\n     */\r\n    cmdExec(host, cmd, cmdId, cmdTimeout) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        if (!host.startsWith(host)) {\r\n            host += 'system.host.' + host;\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            let timeout = cmdTimeout && setTimeout(() => {\r\n                if (timeout) {\r\n                    timeout = null;\r\n                    reject('cmdExec timeout');\r\n                }\r\n            }, cmdTimeout);\r\n\r\n            this._socket.emit('cmdExec', host, cmdId, cmd, null, err => {\r\n                if (!cmdTimeout || timeout) {\r\n                    timeout && clearTimeout(timeout);\r\n                    timeout = null;\r\n                    if (err) {\r\n                        reject(err);\r\n                    } else {\r\n                        resolve();\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Checks if a given feature is supported.\r\n     * @param {string} feature The feature to check.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<any>}\r\n     */\r\n    checkFeatureSupported(feature, update) {\r\n        if (!update && this._promises['supportedFeatures_' + feature]) {\r\n            return this._promises['supportedFeatures_' + feature];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises['supportedFeatures_' + feature] = new Promise((resolve, reject) =>\r\n            this._socket.emit('checkFeatureSupported', feature, (err, features) => {\r\n                err ? reject(err) : resolve(features)\r\n            }));\r\n\r\n        return this._promises['supportedFeatures_' + feature];\r\n    }\r\n\r\n    /**\r\n     * Read the base settings of a given host.\r\n     * @param {string} host\r\n     * @returns {Promise<any>}\r\n     */\r\n    readBaseSettings(host) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        return this.checkFeatureSupported('CONTROLLER_READWRITE_BASE_SETTINGS')\r\n            .then(result => {\r\n                if (result) {\r\n                    if (!this.connected) {\r\n                        return Promise.reject(NOT_CONNECTED);\r\n                    }\r\n                    return new Promise((resolve, reject) => {\r\n                        let timeout = setTimeout(() => {\r\n                            if (timeout) {\r\n                                timeout = null;\r\n                                reject('readBaseSettings timeout');\r\n                            }\r\n                        }, this.props.cmdTimeout);\r\n\r\n                        if (host.startsWith('system.host.')) {\r\n                            host = host.replace(/^system\\.host\\./, '');\r\n                        }\r\n\r\n                        this._socket.emit('sendToHost', host, 'readBaseSettings', null, data => {\r\n                            if (timeout) {\r\n                                clearTimeout(timeout);\r\n                                timeout = null;\r\n\r\n                                if (data === PERMISSION_ERROR) {\r\n                                    reject('May not read \"BaseSettings\"');\r\n                                } else if (!data) {\r\n                                    reject('Cannot read \"BaseSettings\"');\r\n                                } else {\r\n                                    resolve(data);\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                } else {\r\n                    return Promise.reject('Not supported');\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Write the base settings of a given host.\r\n     * @param {string} host\r\n     * @param {any} config\r\n     * @returns {Promise<any>}\r\n     */\r\n    writeBaseSettings(host, config) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        return this.checkFeatureSupported('CONTROLLER_READWRITE_BASE_SETTINGS')\r\n            .then(result => {\r\n                if (result) {\r\n                    if (!this.connected) {\r\n                        return Promise.reject(NOT_CONNECTED);\r\n                    }\r\n                    return new Promise((resolve, reject) => {\r\n                        let timeout = setTimeout(() => {\r\n                            if (timeout) {\r\n                                timeout = null;\r\n                                reject('writeBaseSettings timeout');\r\n                            }\r\n                        }, this.props.cmdTimeout);\r\n\r\n                        this._socket.emit('sendToHost', host, 'writeBaseSettings', config, data => {\r\n                            if (timeout) {\r\n                                clearTimeout(timeout);\r\n                                timeout = null;\r\n\r\n                                if (data === PERMISSION_ERROR) {\r\n                                    reject('May not write \"BaseSettings\"');\r\n                                } else if (!data) {\r\n                                    reject('Cannot write \"BaseSettings\"');\r\n                                } else {\r\n                                    resolve(data);\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                } else {\r\n                    return Promise.reject('Not supported');\r\n                }\r\n            })\r\n    }\r\n\r\n    /**\r\n     * Send command to restart the iobroker on host\r\n     * @param {string} host\r\n     * @returns {Promise<any>}\r\n     */\r\n    restartController(host) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            this._socket.emit('sendToHost', host, 'restartController', null, error => {\r\n                error ? reject(error) : resolve(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Read statistics information from host\r\n     * @param {string} host\r\n     * @param {string} typeOfDiag one of none, normal, no-city, extended\r\n     * @returns {Promise<any>}\r\n     */\r\n    getDiagData(host, typeOfDiag) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        return new Promise(resolve => {\r\n            this._socket.emit('sendToHost', host, 'getDiagData', typeOfDiag, result =>\r\n                resolve(result));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Read all states (which might not belong to this adapter) which match the given pattern.\r\n     * @param {string} pattern\r\n     * @returns {ioBroker.GetStatesPromise}\r\n     */\r\n    getForeignStates(pattern) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        if (Connection.isWeb()) {\r\n            return new Promise((resolve, reject) =>\r\n                this._socket.emit('getStates', pattern || '*', (err, states) =>\r\n                    err ? reject(err) : resolve(states)));\r\n        } else {\r\n            return new Promise((resolve, reject) =>\r\n                this._socket.emit('getForeignStates', pattern || '*', (err, states) =>\r\n                    err ? reject(err) : resolve(states)));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get foreign objects by pattern, by specific type and resolve their enums.\r\n     * @param {string} pattern\r\n     * @param {string} [type]\r\n     * @returns {ioBroker.GetObjectsPromise}\r\n     */\r\n    getForeignObjects(pattern, type) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getForeignObjects', pattern || '*', type, (err, states) =>\r\n                err ? reject(err) : resolve(states)));\r\n    }\r\n\r\n    /**\r\n     * Gets the system configuration.\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.OtherObject>}\r\n     */\r\n    getSystemConfig(update) {\r\n        if (!update && this._promises.systemConfig) {\r\n            return this._promises.systemConfig;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.systemConfig = this.getObject('system.config')\r\n            .then(systemConfig => {\r\n                //@ts-ignore\r\n                systemConfig = systemConfig || {};\r\n                //@ts-ignore\r\n                systemConfig.common = systemConfig.common || {};\r\n                //@ts-ignore\r\n                systemConfig.native = systemConfig.native || {};\r\n                return systemConfig;\r\n            });\r\n\r\n        return this._promises.systemConfig;\r\n    }\r\n\r\n    /**\r\n     * Sets the system configuration.\r\n     * @param {ioBroker.SettableObjectWorker<ioBroker.OtherObject>} obj\r\n     * @returns {Promise<ioBroker.SettableObjectWorker<ioBroker.OtherObject>>}\r\n     */\r\n    setSystemConfig(obj) {\r\n        return this.setObject('system.config', obj)\r\n            .then(() => this._promises.systemConfig = Promise.resolve(obj));\r\n    }\r\n\r\n    /**\r\n     * Get the raw socket.io socket.\r\n     * @returns {any}\r\n     */\r\n    getRawSocket() {\r\n        return this._socket;\r\n    }\r\n\r\n    /**\r\n     * Get the history of a given state.\r\n     * @param {string} id\r\n     * @param {ioBroker.GetHistoryOptions} options\r\n     * @returns {Promise<ioBroker.GetHistoryResult>}\r\n     */\r\n    getHistory(id, options) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getHistory', id, options, (err, values) =>\r\n                err ? reject(err) : resolve(values)));\r\n    }\r\n\r\n    /**\r\n     * Get the history of a given state.\r\n     * @param {string} id\r\n     * @param {ioBroker.GetHistoryOptions} options\r\n     * @returns {Promise<{values: ioBroker.GetHistoryResult; sesionId: string; stepIgnore: number}>}\r\n     */\r\n    getHistoryEx(id, options) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getHistory', id, options, (err, values, stepIgnore, sessionId) =>\r\n                err ? reject(err) : resolve({ values, sessionId, stepIgnore })));\r\n    }\r\n\r\n    /**\r\n     * Change the password of the given user.\r\n     * @param {string} user\r\n     * @param {string} password\r\n     * @returns {Promise<void>}\r\n     */\r\n    changePassword(user, password) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('changePassword', user, password, err =>\r\n                err ? reject(err) : resolve()));\r\n    }\r\n\r\n    /**\r\n     * Get the IP addresses of the given host.\r\n     * @param {string} host\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<string[]>}\r\n     */\r\n    getIpAddresses(host, update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!host.startsWith('system.host.')) {\r\n            host = 'system.host.' + host;\r\n        }\r\n\r\n        if (!update && this._promises['IPs_' + host]) {\r\n            return this._promises['IPs_' + host];\r\n        }\r\n        this._promises['IPs_' + host] = this.getObject(host)\r\n            .then(obj => obj && obj.common ? obj.common.address || [] : []);\r\n\r\n        return this._promises['IPs_' + host];\r\n    }\r\n\r\n    /**\r\n     * Get the IP addresses with interface names of the given host or find host by IP.\r\n     * @param {string} ipOrHostName\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<any[<name, address, family>]>}\r\n     */\r\n    getHostByIp(ipOrHostName, update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (ipOrHostName.startsWith('system.host.')) {\r\n            ipOrHostName = ipOrHostName.replace(/^system\\.host\\./, '');\r\n        }\r\n\r\n        if (!update && this._promises['rIPs_' + ipOrHostName]) {\r\n            return this._promises['rIPs_' + ipOrHostName];\r\n        }\r\n        this._promises['rIPs_' + ipOrHostName] = new Promise(resolve =>\r\n            this._socket.emit('getHostByIp', ipOrHostName, (ip, host) => {\r\n                const IPs4 = [{name: '[IPv4] 0.0.0.0 - Listen on all IPs', address: '0.0.0.0', family: 'ipv4'}];\r\n                const IPs6 = [{name: '[IPv6] :: - Listen on all IPs',      address: '::',      family: 'ipv6'}];\r\n                if (host?.native?.hardware?.networkInterfaces) {\r\n                    for (const eth in host.native.hardware.networkInterfaces) {\r\n                        if (!host.native.hardware.networkInterfaces.hasOwnProperty(eth)) {\r\n                            continue;\r\n                        }\r\n                        for (let num = 0; num < host.native.hardware.networkInterfaces[eth].length; num++) {\r\n                            if (host.native.hardware.networkInterfaces[eth][num].family !== 'IPv6') {\r\n                                IPs4.push({name: `[${host.native.hardware.networkInterfaces[eth][num].family}] ${host.native.hardware.networkInterfaces[eth][num].address} - ${eth}`, address: host.native.hardware.networkInterfaces[eth][num].address, family: 'ipv4'});\r\n                            } else {\r\n                                IPs6.push({name: `[${host.native.hardware.networkInterfaces[eth][num].family}] ${host.native.hardware.networkInterfaces[eth][num].address} - ${eth}`, address: host.native.hardware.networkInterfaces[eth][num].address, family: 'ipv6'});\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                for (let i = 0; i < IPs6.length; i++) {\r\n                    IPs4.push(IPs6[i]);\r\n                }\r\n                resolve(IPs4);\r\n            }));\r\n\r\n        return this._promises['rIPs_' + ipOrHostName];\r\n    }\r\n\r\n    /**\r\n     * Encrypt a text\r\n     * @param {string} text\r\n     * @returns {Promise<string>}\r\n     */\r\n    encrypt(text) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('encrypt', text, (err, text) =>\r\n                err ? reject(err) : resolve(text)));\r\n    }\r\n\r\n    /**\r\n     * Decrypt a text\r\n     * @param {string} encryptedText\r\n     * @returns {Promise<string>}\r\n     */\r\n    decrypt(encryptedText) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('decrypt', encryptedText, (err, text) =>\r\n                err ? reject(err) : resolve(text)));\r\n    }\r\n\r\n    /**\r\n     * Gets the version.\r\n     * @returns {Promise<{version: string; serverName: string}>}\r\n     */\r\n    getVersion() {\r\n        this._promises.version = this._promises.version || new Promise((resolve, reject) =>\r\n            this._socket.emit('getVersion', (err, version, serverName) => {\r\n                // support of old socket.io\r\n                if (err && !version && typeof err === 'string' && err.match(/\\d+\\.\\d+\\.\\d+/)) {\r\n                    resolve({ version: err, serverName: 'socketio' });\r\n                } else {\r\n                    return err ? reject(err) : resolve({ version, serverName });\r\n                }\r\n            }));\r\n\r\n        return this._promises.version;\r\n    }\r\n\r\n    /**\r\n     * Gets the web server name.\r\n     * @returns {Promise<string>}\r\n     */\r\n    getWebServerName() {\r\n        this._promises.webName = this._promises.webName || new Promise((resolve, reject) =>\r\n            this._socket.emit('getAdapterName', (err, name) =>\r\n                err ? reject(err) : resolve(name)));\r\n\r\n        return this._promises.webName;\r\n    }\r\n\r\n    /**\r\n     * Gets the admin version.\r\n     * @deprecated use getVersion()\r\n     * @returns {Promise<{version: string; serverName: string}>}\r\n     */\r\n    getAdminVersion() {\r\n        console.log('Deprecated: use getVersion');\r\n        return this.getVersion();\r\n    }\r\n\r\n    /**\r\n     * Change access rights for file\r\n     * @param {string} [adapter] adapter name\r\n     * @param {string} [filename] file name with full path. it could be like vis.0/*\r\n     * @param {object} [options] like {mode: 0x644}\r\n     * @returns {Promise<{entries: array}>}\r\n     */\r\n    chmodFile(adapter, filename, options) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('chmodFile', adapter, filename, options, (err, entries, id) =>\r\n                err ? reject(err) : resolve({entries, id})));\r\n    }\r\n\r\n    /**\r\n     * Change owner or/and owner group for file\r\n     * @param {string} [adapter] adapter name\r\n     * @param {string} [filename] file name with full path. it could be like vis.0/*\r\n     * @param {object} [options] like {owner: 'newOwner', ownerGroup: 'newGroup'}\r\n     * @returns {Promise<{entries: array}>}\r\n     */\r\n    chownFile(adapter, filename, options) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('chownFile', adapter, filename, options, (err, entries, id) =>\r\n                err ? reject(err) : resolve({entries, id})));\r\n    }\r\n\r\n    /**\r\n     * Check if the file exists\r\n     * @param {string} [adapter] adapter name\r\n     * @param {string} [filename] file name with full path. it could be like vis.0/*\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    fileExists(adapter, filename) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('fileExists', adapter, filename, (err, exists) =>\r\n                err ? reject(err) : resolve(exists)));\r\n    }\r\n\r\n    /**\r\n     * Get the alarm notifications from a host (only for admin connection).\r\n     * @param {string} host\r\n     * @param {string} [category] - optional\r\n     * @returns {Promise<any>}\r\n     */\r\n    getNotifications(host, category) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise(resolve =>\r\n            this._socket.emit('sendToHost', host, 'getNotifications', {category}, notifications =>\r\n                resolve(notifications)));\r\n    }\r\n\r\n    /**\r\n     * Clear the alarm notifications on a host (only for admin connection).\r\n     * @param {string} host\r\n     * @param {string} [category] - optional\r\n     * @returns {Promise<any>}\r\n     */\r\n    clearNotifications(host, category) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise(resolve =>\r\n            this._socket.emit('sendToHost', host, 'clearNotifications', {category}, notifications =>\r\n                resolve(notifications)));\r\n    }\r\n\r\n    /**\r\n     * Read if only easy mode is allowed  (only for admin connection).\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    getIsEasyModeStrict() {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getIsEasyModeStrict', (error, isStrict) =>\r\n                error ? reject(error) : resolve(isStrict)));\r\n    }\r\n\r\n    /**\r\n     * Read easy mode configuration (only for admin connection).\r\n     * @returns {Promise<any>}\r\n     */\r\n    getEasyMode() {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getEasyMode', (error, config) =>\r\n                error ? reject(error) : resolve(config)));\r\n    }\r\n\r\n    /**\r\n     * Read current user\r\n     * @returns {Promise<string>}\r\n     */\r\n    getCurrentUser() {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise(resolve =>\r\n            this._socket.emit('authEnabled', (isSecure, user) =>\r\n                resolve(user)));\r\n    }\r\n\r\n    getCurrentSession(cmdTimeout) {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const controller = new AbortController();\r\n\r\n            let timeout;\r\n            if (window.location.port !== '3000') {\r\n                timeout = setTimeout(() => {\r\n                    if (timeout) {\r\n                        timeout = null;\r\n                        controller.abort();\r\n                        reject('getCurrentSession timeout');\r\n                    }\r\n                }, cmdTimeout || 5000);\r\n            }\r\n\r\n            return fetch('./session', { signal: controller.signal })\r\n                .then(res => res.json())\r\n                .then(json => {\r\n                    if (timeout || window.location.port === '3000') {\r\n                        timeout && clearTimeout(timeout);\r\n                        timeout = null;\r\n                        resolve(json);\r\n                    }\r\n                })\r\n                .catch(e =>\r\n                    reject('getCurrentSession: ' + e));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Read adapter ratings\r\n     * @returns {Promise<any>}\r\n     */\r\n    getRatings(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        return new Promise((resolve, reject) =>\r\n            this._socket.emit('getRatings', update, (err, ratings) =>\r\n                err ? reject(err) : resolve(ratings)));\r\n    }\r\n\r\n    /**\r\n     * Read current web, socketio or admin namespace, like admin.0\r\n     * @returns {Promise<string>}\r\n     */\r\n    getCurrentInstance() {\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.currentInstance = this._promises.currentInstance ||\r\n            new Promise((resolve, reject) =>\r\n                this._socket.emit('getCurrentInstance', (err, namespace) =>\r\n                    err ? reject(err) : resolve(namespace)));\r\n\r\n        return this._promises.currentInstance;\r\n    }\r\n\r\n    // returns very optimized information for adapters to minimize connection load\r\n    getCompactAdapters(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.compactAdapters) {\r\n            return this._promises.compactAdapters;\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n        this._promises.compactAdapters = new Promise((resolve, reject) =>\r\n            this._socket.emit('getCompactAdapters', (err, adapters) =>\r\n                err ? reject(err) : resolve(adapters)));\r\n\r\n        return this._promises.compactAdapters;\r\n    }\r\n\r\n    // returns very optimized information for adapters to minimize connection load\r\n    getCompactInstances(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.compactInstances) {\r\n            return this._promises.compactInstances;\r\n        }\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.compactInstances = new Promise((resolve, reject) =>\r\n            this._socket.emit('getCompactInstances', (err, instances) =>\r\n                err ? reject(err) : resolve(instances)));\r\n\r\n        return this._promises.compactInstances;\r\n    }\r\n\r\n    // returns very optimized information for adapters to minimize connection load\r\n    // reads only version of installed adapter\r\n    getCompactInstalled(host, update, cmdTimeout) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n\r\n        this._promises.installedCompact = this._promises.installedCompact || {};\r\n\r\n        if (!update && this._promises.installedCompact[host]) {\r\n            return this._promises.installedCompact[host];\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        if (!host.startsWith('system.host.')) {\r\n            host += 'system.host.' + host;\r\n        }\r\n\r\n        this._promises.installedCompact[host] = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                if (timeout) {\r\n                    timeout = null;\r\n                    reject('getCompactInstalled timeout');\r\n                }\r\n            }, cmdTimeout || this.props.cmdTimeout);\r\n\r\n            this._socket.emit('getCompactInstalled', host, data => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    if (data === PERMISSION_ERROR) {\r\n                        reject('May not read \"getCompactInstalled\"');\r\n                    } else if (!data) {\r\n                        reject('Cannot read \"getCompactInstalled\"');\r\n                    } else {\r\n                        resolve(data);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises.installedCompact[host];\r\n    }\r\n\r\n    // returns very optimized information for adapters to minimize connection load\r\n    getCompactSystemConfig(update) {\r\n        if (!update && this._promises.systemConfigCommon) {\r\n            return this._promises.systemConfigCommon;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.systemConfigCommon = new Promise((resolve, reject) =>\r\n            this._socket.emit('getCompactSystemConfig', (err, systemConfig) =>\r\n                err ? reject(err) : resolve(systemConfig)));\r\n\r\n        return this._promises.systemConfigCommon;\r\n    }\r\n\r\n    /**\r\n     * Get the repository in compact form (only version and icon).\r\n     * @param {string} host\r\n     * @param {boolean} [update] Force update.\r\n     * @param {number} [timeoutMs] timeout in ms.\r\n     * @returns {Promise<any>}\r\n     */\r\n    getCompactRepository(host, update, timeoutMs) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.repoCompact) {\r\n            return this._promises.repoCompact;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        if (!host.startsWith('system.host.')) {\r\n            host += 'system.host.' + host;\r\n        }\r\n\r\n        this._promises.repoCompact = new Promise((resolve, reject) => {\r\n            let timeout = setTimeout(() => {\r\n                if (timeout) {\r\n                    timeout = null;\r\n                    reject('getCompactRepository timeout');\r\n                }\r\n            }, timeoutMs || this.props.cmdTimeout);\r\n\r\n            this._socket.emit('getCompactRepository', host, data => {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                    if (data === PERMISSION_ERROR) {\r\n                        reject('May not read \"getCompactRepository\"');\r\n                    } else if (!data) {\r\n                        reject('Cannot read \"getCompactRepository\"');\r\n                    } else {\r\n                        resolve(data);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        return this._promises.repoCompact;\r\n    }\r\n\r\n    /**\r\n     * Get the list of all hosts in compact form (only _id, common.name, common.icon, common.color, native.hardware.networkInterfaces)\r\n     * @param {boolean} [update] Force update.\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    getCompactHosts(update) {\r\n        if (Connection.isWeb()) {\r\n            return Promise.reject('Allowed only in admin');\r\n        }\r\n        if (!update && this._promises.hostsCompact) {\r\n            return this._promises.hostsCompact;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.hostsCompact = new Promise((resolve, reject) =>\r\n            this._socket.emit('getCompactHosts', (err, hosts) =>\r\n                err ? reject(err) : resolve(hosts)));\r\n\r\n        return this._promises.hostsCompact;\r\n    }\r\n\r\n    /**\r\n     * Get uuid\r\n     * @returns {Promise<ioBroker.Object[]>}\r\n     */\r\n    getUuid() {\r\n        if (this._promises.uuid) {\r\n            return this._promises.uuid;\r\n        }\r\n\r\n        if (!this.connected) {\r\n            return Promise.reject(NOT_CONNECTED);\r\n        }\r\n\r\n        this._promises.uuid = this.getObject('system.meta.uuid')\r\n            //@ts-ignore\r\n            .then(obj => obj?.native?.uuid);\r\n\r\n        return this._promises.uuid;\r\n    }\r\n}\r\n\r\nConnection.Connection = {\r\n    onLog: PropTypes.func,\r\n    onReady: PropTypes.func,\r\n    onProgress: PropTypes.func,\r\n};\r\n\r\nexport default Connection;\r\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popper from '@material-ui/core/Popper';\nimport Typography from '@material-ui/core/Typography';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport { IconButton } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst useStyles = makeStyles((theme) => ({\n    typography: {\n        padding: theme.spacing(2),\n    },\n}));\n\nlet timer;\n\nconst CustomPopper = ({ editList, onClick }) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [open, setOpen] = React.useState(false);\n    const [placement, setPlacement] = React.useState();\n    const classes = useStyles();\n\n    const handleClick = (newPlacement) => (event) => {\n        setAnchorEl(event.currentTarget);\n        setOpen((prev) => placement !== newPlacement || !prev);\n        setPlacement(newPlacement);\n    };\n    return <>\n        <IconButton\n            style={editList ? { color: 'red' } : null}\n            onClick={(el) => {\n                onClick();\n                if (!editList) {\n                    handleClick('right')(el);\n                    timer = setTimeout(() => setOpen(false), 3000);\n                } else {\n                    setOpen(false);\n                    clearTimeout(timer);\n                }\n            }}\n            title={I18n.t('show/hide item')}>\n            <EditIcon />\n        </IconButton>\n        <Popper style={{ zIndex: 2222 }} open={open} anchorEl={anchorEl} placement={placement} transition>\n            {({ TransitionProps }) => (\n                <Fade {...TransitionProps} timeout={350}>\n                    <Paper>\n                        <Typography className={classes.typography}>{I18n.t('You can drag and drop list items for reorder')}</Typography>\n                    </Paper>\n                </Fade>\n            )}\n        </Popper>\n    </>;\n}\n\nexport default CustomPopper;","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {\n    Button,\n    Checkbox,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    FormControlLabel,\n    IconButton,\n} from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\n\nimport Command from '../components/Command';\n\nconst styles = theme => ({\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n    hiddenDialog: {\n        display: 'none',\n    },\n    dialogRoot: {\n        height: 'calc(100% - 64px)',\n    }\n});\n\nclass CommandDialog extends Component {\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            log: ['$ iobroker ' + (props.cmd || '')],\n            init: false,\n            max: null,\n            value: null,\n            progressText: '',\n            closeOnReady: JSON.parse(window.localStorage.getItem('CommandDialog.closeOnReady')) || false,\n            checked: true\n        };\n\n        this.t = props.t;\n    }\n    render() {\n        const { classes } = this.props;\n\n        return <Dialog\n            scroll=\"paper\"\n            fullWidth={true}\n            classes={{ root: !this.props.visible ? classes.hiddenDialog : '', paper: classes.dialogRoot }}\n            onClose={this.props.inBackground ? this.props.onClose : this.props.onInBackground}\n            open={true}\n            maxWidth=\"md\"\n        >\n            <DialogTitle>\n                {this.state.progressText || this.props.t('Running command')}\n                <IconButton className={classes.closeButton} onClick={this.props.onClose} disabled={this.props.inBackground}>\n                    <CloseIcon />\n                </IconButton>\n            </DialogTitle>\n            <DialogContent dividers style={{ height: '100%' }}>\n                <Command\n                    noSpacing={true}\n                    key=\"command\"\n                    ready={this.props.ready}\n                    currentHost={this.props.currentHost}\n                    socket={this.props.socket}\n                    t={this.props.t}\n                    inBackground={this.props.inBackground}\n                    commandError={this.props.commandError}\n                    errorFunc={this.props.errorFunc}\n                    performed={this.props.performed}\n                    callback={this.props.callback}\n                    cmd={this.props.cmd}\n                    onFinished={() => this.state.closeOnReady && this.props.onClose()}\n                    onSetCommandRunning={running => this.props.onSetCommandRunning(running)}\n                />\n            </DialogContent>\n            <DialogActions style={{ justifyContent: 'space-between' }}>\n                <FormControlLabel\n                    control={\n                        <Checkbox\n                            disabled={this.props.inBackground}\n                            checked={this.state.closeOnReady}\n                            onChange={(e) => {\n                                this.setState({ closeOnReady: e.target.checked });\n                                window.localStorage.setItem('CommandDialog.closeOnReady', e.target.checked);\n                            }} />}\n                    label={this.props.t('close on ready')}\n                />\n                <div>\n                    <Button\n                        variant=\"contained\"\n                        autoFocus\n                        disabled={this.props.inBackground}\n                        style={{ marginRight: 8 }}\n                        onClick={this.props.onInBackground}\n                        startIcon={<OpenInBrowserIcon />}\n                        color=\"primary\">\n                        {this.props.confirmText || this.props.t('In background')}\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        disabled={!this.props.inBackground}\n                        onClick={this.props.onClose}\n                        color=\"default\"\n                        startIcon={<CloseIcon />}\n                    >\n                        {this.props.t('Close')}\n                    </Button>\n                </div>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nCommandDialog.propTypes = {\n    t: PropTypes.func,\n    confirmText: PropTypes.string,\n    header: PropTypes.string,\n    onClose: PropTypes.func.isRequired,\n    callback: PropTypes.bool,\n    onInBackground: PropTypes.func.isRequired,\n    visible: PropTypes.bool.isRequired,\n    ready: PropTypes.bool.isRequired,\n    onSetCommandRunning: PropTypes.func.isRequired,\n    cmd: PropTypes.string,\n    errorFunc: PropTypes.func,\n    performed: PropTypes.func,\n    inBackground: PropTypes.bool,\n    commandError: PropTypes.bool,\n    socket: PropTypes.object.isRequired,\n    currentHost: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(CommandDialog);","import _ from 'lodash';\n\nconst funcSet = _.throttle(\n    (setTabs, tabs) => setTabs(tabs)\n    , 200);\n\nconst moveCard = (id, atIndex, tabs, setTabs, hoverClientY, hoverMiddleY) => {\n    const { card, index } = findCard(id, tabs);\n    if (index === atIndex) {\n        return;\n    }\n    if (index < atIndex && hoverClientY < hoverMiddleY) {\n        return;\n    }\n    if (index > atIndex && hoverClientY > hoverMiddleY) {\n        return;\n    }\n    if (card && index !== atIndex) {\n        const copyCard = JSON.parse(JSON.stringify(tabs));\n        copyCard.splice(index, 1);\n        copyCard.splice(atIndex, 0, card);\n        funcSet(setTabs,copyCard);\n    }\n};\n\nconst findCard = (id, cards) => {\n    const card = cards.find(c => c.name === id);\n    return {\n        card,\n        index: cards.indexOf(card),\n    };\n};\n\nexport { moveCard, findCard };","import React, { useEffect, useRef } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { findCard, moveCard } from '../helpers/cardSort';\nconst style = {\n    cursor: 'move',\n};\nconst DragWrapper = ({ canDrag, setEndDrag, iconJSX, selected, compact, badgeContent, badgeColor, tab, tabs, setTabs, _id, children, name }) => {\n    const ref = useRef(null);\n    const [{ handlerId }, drop] = useDrop({\n        accept: 'box',\n        collect(monitor) {\n            return {\n                handlerId: monitor.getHandlerId(),\n            };\n        },\n        // canDrop: () => false,\n        hover({ _id: draggedId }, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            const { index: overIndexActions } = findCard(_id, tabs);\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n            moveCard(draggedId,\n                overIndexActions,\n                tabs,\n                setTabs,\n                hoverClientY,\n                hoverMiddleY\n            );\n        }\n    });\n\n    const [{ isDragging }, drag, preview] = useDrag({\n        type: 'box',\n        item: { _id: tab.name, ...tab, iconJSX, selected, compact, badgeContent, badgeColor },\n        canDrag: () => canDrag,\n        end: () => setEndDrag(),\n        collect: monitor => ({ isDragging: monitor.isDragging() }),\n    });\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const opacity = isDragging ? 0 : 1;\n    drag(drop(ref));\n\n    return <div ref={ref} style={{ ...style, opacity }} data-handler-id={handlerId}>\n        <a type=\"box\" data-handler-id={handlerId} onClick={event => event.preventDefault()} href={`/#${name}`} style={{ ...style, opacity, color: 'inherit', textDecoration: 'none' }} >\n            {children}\n        </a>\n    </div>;\n}\n\nexport default DragWrapper;","import PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Badge from '@material-ui/core/Badge';\nimport Grid from '@material-ui/core/Grid';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport amber from '@material-ui/core/colors/amber';\n\nimport Utils from '../Utils';\nimport { Checkbox } from '@material-ui/core';\n\nconst styles = theme => ({\n    selected: {\n        background: theme.palette.secondary.main,\n        color: Utils.invertColor(theme.palette.secondary.main, true),\n        '&:hover': {\n            color: theme.palette.text.primary\n        }\n    },\n    compactBadge: {\n        paddingLeft: 12,\n    },\n    noWrap: {\n        flexWrap: 'nowrap',\n        height: 40\n    },\n    warn: {\n        backgroundColor: amber[500]\n    }\n});\n\nconst DrawerItem = props => {\n    const {\n        badgeColor,\n        badgeContent,\n        classes,\n        compact,\n        icon,\n        onClick,\n        selected,\n        text,\n        editList,\n        visible,\n        editListFunc,\n        badgeAdditionalContent,\n        badgeAdditionalColor,\n        style\n    } = props;\n\n    let content = text ? text.replace('&gt;', '>') : '';\n\n    if (content === 'Text->Kommandos') {\n        content = 'Text→Cmd';\n    } else if (content === 'Text->Commands') {\n        content = 'Text→Cmd';\n    }\n\n    return <div style={Object.assign({ display: 'flex' }, style || {})}>\n        {!!editList && <Checkbox checked={visible} onChange={editListFunc} />}\n        <ListItem\n            button\n            className={clsx({ [classes.selected]: selected }, compact && classes.compactBadge)}\n            onClick={onClick}\n        >\n            <Tooltip title={compact ? content : ''}>\n                <Grid\n                    container\n                    spacing={1}\n                    alignItems=\"center\"\n                    className={classes.noWrap}\n                >\n                    <Grid item>\n                        <ListItemIcon style={{ minWidth: 0 }}>\n                            <Badge\n                                badgeContent={badgeContent || 0}\n                                color={(badgeColor === 'warn' ? 'default' : badgeColor) || 'primary'}\n                                classes={badgeColor === 'warn' ? { badge: classes.warn } : {}}\n                            >\n                                {icon}\n                            </Badge>\n                        </ListItemIcon>\n                    </Grid>\n                    {!compact &&\n                        <Grid item>\n                            <ListItemText>\n                                <Badge\n                                    badgeContent={badgeAdditionalContent || 0}\n                                    color={(badgeAdditionalColor === 'warn' ? 'default' : badgeAdditionalColor) || 'primary'}\n                                    classes={badgeAdditionalColor === 'warn' ? { badge: classes.warn } : {}}\n                                >\n                                    {content}\n                                </Badge>\n                            </ListItemText>\n                        </Grid>\n                    }\n                </Grid>\n            </Tooltip>\n        </ListItem>\n    </div>;\n}\n\nDrawerItem.propTypes = {\n    icon: PropTypes.object,\n    onClick: PropTypes.func,\n    style: PropTypes.object,\n    selected: PropTypes.bool,\n    compact: PropTypes.bool,\n    text: PropTypes.string,\n    badgeContent: PropTypes.number,\n    badgeColor: PropTypes.oneOf(['', 'default', 'primary', 'secondary', 'error', 'warn'])\n};\n\nexport default withStyles(styles)(DrawerItem);","\nimport React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport DrawerItem from './DrawerItem';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%'\n};\n\nconst snapToGrid = (x, y) => {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\n\nconst getItemStyles = (initialOffset, currentOffset, isSnapToGrid) => {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: 'none'\n        };\n    }\n    let { x, y } = currentOffset;\n    if (isSnapToGrid) {\n        x -= initialOffset.x;\n        y -= initialOffset.y;\n        [x, y] = snapToGrid(x, y);\n        x += initialOffset.x;\n        y += initialOffset.y;\n    }\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        transform,\n        WebkitTransform: transform\n    };\n}\n\nconst styles = theme => ({\n    root: {\n        background: theme.palette.background.default,\n    }\n})\nconst CustomDragLayer = ({ classes }) => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        // targetIds\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging(),\n        targetIds: monitor.getTargetIds()\n    }));\n\n    const renderItem = () => {\n        switch (itemType) {\n            case 'box':\n                return <div className={classes.root} style={{ width: 179, }}><DrawerItem\n                    key={item.name}\n                    editList={true}\n                    visible={item.visible}\n                    editListFunc={() => { }}\n                    compact={item.compact}\n                    // onClick={() => this.props.handleNavigation(tab.name)}\n                    icon={item.iconJSX}\n                    text={item.title}\n                    selected={item.selected}\n                    badgeContent={item.badgeContent}\n                    badgeColor={item.badgeColor} /></div>;\n            default:\n                return null;\n        }\n    }\n\n    if (!isDragging) {\n        return null;\n    }\n\n    return <div style={layerStyles}>\n        <div style={getItemStyles(initialOffset, currentOffset)}>\n            {renderItem()}\n        </div>\n    </div>;\n};\n\nexport default withStyles(styles)(CustomDragLayer);","import React, {\n    createContext,\n    useEffect,\n    useState,\n} from 'react';\n\nimport Adapters from '../tabs/Adapters';\n\nexport const ContextWrapper = createContext();\n\nexport const ContextWrapperProvider = ({ children }) => {\n    const [stateContext, setState] = useState({\n        hostsUpdate:    0,\n        adaptersUpdate: 0,\n\n        hosts:          null,\n        repository:     null,\n        installed:      null\n    });\n\n    const setStateContext = obj => {\n        setState(prevState =>\n            Object.keys(prevState).length === Object.keys(obj).length ?\n                { ...obj }\n                :\n                { ...prevState, ...obj }\n        );\n    };\n\n    useEffect(() => {\n        if (stateContext.hosts) {\n            const jsControllerVersion = stateContext.repository['js-controller'].version;\n            let count = 0;\n            stateContext.hosts.forEach(element => {\n                if (Adapters.updateAvailable(element.common.installedVersion, jsControllerVersion)) {\n                    count++;\n                }\n            });\n            setStateContext({ hostsUpdate: count });\n        }\n\n        if (stateContext.installed) {\n            let count = 0;\n            Object.keys(stateContext.installed).forEach(element => {\n                const _installed = stateContext.installed[element];\n                const adapter = stateContext.repository[element];\n                if (element !== 'js-controller' &&\n                    element !== 'hosts' &&\n                    _installed?.version &&\n                    adapter?.version &&\n                    _installed.ignoreVersion !== adapter.version &&\n                    Adapters.updateAvailable(_installed.version, adapter.version)\n                ) {\n                    count++;\n                }\n            });\n\n            setStateContext({ adaptersUpdate: count });\n        }\n\n    }, [stateContext.hosts, stateContext.installed, stateContext.repository]);\n\n    return <ContextWrapper.Provider value={{ stateContext, setStateContext }}>\n        {children}\n    </ContextWrapper.Provider>;\n};","import React, { Component } from 'react';\nimport withWidth from '@material-ui/core/withWidth';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { Avatar, Drawer as MaterialDrawer } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\n\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport InfoIcon from '@material-ui/icons/Info';\nimport StoreIcon from '@material-ui/icons/Store';\nimport SubtitlesIcon from '@material-ui/icons/Subtitles';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport ArtTrackIcon from '@material-ui/icons/ArtTrack';\nimport DvrIcon from '@material-ui/icons/Dvr';\nimport ViewHeadlineIcon from '@material-ui/icons/ViewHeadline';\nimport SubscriptionsIcon from '@material-ui/icons/Subscriptions';\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport FilesIcon from '@material-ui/icons/FileCopy';\n\nimport LogoutIcon from '@iobroker/adapter-react/icons/IconLogout';\n\nimport Icon from '@iobroker/adapter-react/Components/Icon';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport DragWrapper from './DragWrapper';\nimport CustomDragLayer from './CustomDragLayer';\nimport { ContextWrapper } from './ContextWrapper';\nimport CustomPopper from './CustomPopper';\nimport CustomTab from '../tabs/CustomTab';\nimport DrawerItem from './DrawerItem';\nimport Adapters from '../tabs/Adapters';\nimport Typography from \"@material-ui/core/Typography\";\n\nexport const DRAWER_FULL_WIDTH = 180;\nexport const DRAWER_COMPACT_WIDTH = 50;\n\nfunction ucFirst(str) {\n    return str.substring(0, 1).toUpperCase() + str.substring(1).toLowerCase();\n}\n\nconst styles = theme => ({\n    root: {\n        flexShrink: 0,\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    rootFullWidth: {\n        width: DRAWER_FULL_WIDTH,\n    },\n    rootCompactWidth: {\n        width: DRAWER_COMPACT_WIDTH,\n    },\n    paper: {\n        width: 'inherit',\n        overflowX: 'hidden'\n    },\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: theme.spacing(0, 1),\n        ...theme.mixins.toolbar,\n        justifyContent: 'flex-end',\n        position: 'sticky',\n        top: 0,\n        zIndex: 2,\n        background: theme.palette.background.default\n    },\n    headerCompact: {\n        padding: 0,\n    },\n    headerLogout: {\n        justifyContent: 'space-between'\n    },\n    list: {\n        paddingTop: 0,\n        flex: '1 0 auto',\n    },\n    logout: {\n        color: theme.palette.primary.main\n    },\n    icon: {\n        width: 20,\n        height: 20,\n    },\n    logoWhite: {\n        background: '#FFFFFF'\n    },\n    logoSize: {\n        width: 50,\n        height: 50\n    },\n    avatarBlock: {\n        width: '100%',\n        display: 'flex',\n        // justifyContent: 'center',\n        // marginLeft: 48,\n        marginTop: 5,\n        marginBottom: 5\n    },\n    avatarNotVisible: {\n        opacity: 0,\n        transition: 'opacity 0.3s'\n    },\n    avatarVisible: {\n        opacity: 1\n    },\n    expand: {\n        marginBottom: 5,\n        marginLeft: 5\n    },\n    styleVersion: {\n        fontSize: 10,\n        color: theme.palette.type === 'dark' ? '#ffffff5e' : '#0000005e',\n        alignSelf: 'center',\n        marginLeft: 5\n    },\n    editButton: {\n        position: 'sticky',\n        bottom: 0,\n        right: 0,\n        width: 'fit-content',\n        marginLeft: 'auto',\n        marginTop: 'auto',\n        transition: 'opacity 0.5s',\n    }\n});\n\nexport const STATES = {\n    opened: 0,\n    closed: 1,\n    compact: 2\n};\n\nconst tabsInfo = {\n    'tab-intro':            {order: 1,    icon: <AppsIcon />},\n    'tab-info':             {order: 5,    icon: <InfoIcon />,               host: true},\n    'tab-adapters':         {order: 10,   icon: <StoreIcon />,              host: true},\n    'tab-instances':        {order: 15,   icon: <SubtitlesIcon />,          host: true},\n    'tab-objects':          {order: 20,   icon: <ViewListIcon />},\n    'tab-enums':            {order: 25,   icon: <ArtTrackIcon />},\n    'tab-devices':          {order: 27,   icon: <DvrIcon />,                host: true},\n    'tab-logs':             {order: 30,   icon: <ViewHeadlineIcon />,       host: true},\n    'tab-scenes':           {order: 35,   icon: <SubscriptionsIcon />},\n    'tab-events':           {order: 40,   icon: <FlashOnIcon />},\n    'tab-users':            {order: 45,   icon: <PersonOutlineIcon />},\n    'tab-javascript':       {order: 50},\n    'tab-text2command-0':   {order: 55, instance: 0},\n    'tab-text2command-1':   {order: 56, instance: 1},\n    'tab-text2command-2':   {order: 57, instance: 2},\n    'tab-node-red-0':       {order: 60, instance: 0},\n    'tab-node-red-1':       {order: 61, instance: 1},\n    'tab-node-red-2':       {order: 62, instance: 2},\n    'tab-fullcalendar-0':   {order: 65, instance: 0},\n    'tab-fullcalendar-1':   {order: 66, instance: 1},\n    'tab-fullcalendar-2':   {order: 67, instance: 2},\n    'tab-echarts':          {order: 70, instance: 2},\n    'tab-eventlist-0':      {order: 80, instance: 0},\n    'tab-eventlist-1':      {order: 81, instance: 1},\n    'tab-eventlist-2':      {order: 82, instance: 2},\n    'tab-hosts':            {order: 100,  icon: <StorageIcon />},\n    'tab-files':            {order: 110,  icon: <FilesIcon />},\n};\n\nclass Drawer extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tabs: [],\n            editList: false,\n            logErrors: 0,\n            logWarnings: 0,\n            hostError: 0,\n            hostsUpdate: Drawer.calculateHostUpdates(this.props.hosts, this.props.repository),\n            adaptersUpdate: Drawer.calculateAdapterUpdates(this.props.installed, this.props.repository),\n        };\n\n        this.instances = null;\n\n        this.refEditButton = React.createRef();\n\n        this.getTabs();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const hostsUpdate = Drawer.calculateHostUpdates(props.hosts, props.repository);\n        const adaptersUpdate = Drawer.calculateAdapterUpdates(props.installed, props.repository);\n        if (hostsUpdate !== state.hostsUpdate || adaptersUpdate !== state.adaptersUpdate) {\n            return { hostsUpdate, adaptersUpdate };\n        } else {\n            return null;\n        }\n    }\n\n    static calculateHostUpdates(hosts, repository) {\n        if (hosts && repository) {\n            const jsControllerVersion = repository['js-controller']?.version || '';\n            let count = 0;\n            hosts.forEach(element => {\n                if (Adapters.updateAvailable(element.common.installedVersion, jsControllerVersion)) {\n                    count++;\n                }\n            });\n            return count;\n        } else {\n            return 0;\n        }\n    }\n\n    static calculateAdapterUpdates(installed, repository) {\n        if (installed) {\n            let count = 0;\n\n            Object.keys(installed).sort().forEach(element => {\n                const _installed = installed[element];\n                const adapter = repository && repository[element];\n                if (element !== 'js-controller' &&\n                    element !== 'hosts' &&\n                    _installed?.version &&\n                    adapter?.version &&\n                    _installed.ignoreVersion !== adapter.version &&\n                    Adapters.updateAvailable(_installed.version, adapter.version)\n                ) {\n                    count++;\n                }\n            });\n\n            return count;\n        } else {\n            return 0;\n        }\n    }\n\n    instanceChangedHandler = changes => {\n        this.getTabs(true);\n    }\n\n    componentDidMount() {\n        this.props.instancesWorker.registerHandler(this.instanceChangedHandler, true);\n\n        this.onNotificationsHandler()\n            .then(() => {\n                this.props.hostsWorker.registerNotificationHandler(this.onNotificationsHandler);\n\n                if (!this.logsHandlerRegistered) {\n                    this.logsHandlerRegistered = true;\n                    this.props.logsWorker.registerErrorCountHandler(this.onErrorsUpdates);\n                    this.props.logsWorker.registerWarningCountHandler(this.onWarningsUpdates);\n                }\n            });\n    }\n\n    onNotificationsHandler = () => {\n        return this.props.hostsWorker.getNotifications()\n            .then(notifications => this.calculateWarning(notifications));\n    };\n\n    onErrorsUpdates = logErrors => {\n        if (this.props.currentTab !== 'tab-logs' || (this.props.currentTab === 'tab-logs' && this.state.logErrors)) {\n            this.setState({ logErrors });\n        }\n    }\n\n    onWarningsUpdates = logWarnings => {\n        if (this.props.currentTab !== 'tab-logs' || (this.props.currentTab === 'tab-logs' && this.state.logWarnings)) {\n            this.setState({ logWarnings });\n        }\n    }\n\n    calculateWarning = notifications => {\n        if (!notifications) {\n            return;\n        }\n\n        let count = 0;\n\n        Object.keys(notifications).forEach(host => {\n            if (!notifications[host]?.result?.system) {\n                return;\n            }\n\n            if (Object.keys(notifications[host].result.system.categories).length) {\n                let obj = notifications[host].result.system.categories;\n\n                Object.keys(obj).forEach(nameTab =>\n                    Object.keys(obj[nameTab].instances).forEach(_ => count++));\n            }\n        });\n\n        this.setState({ hostError: count });\n    }\n\n    componentWillUnmount() {\n        this.props.instancesWorker.unregisterHandler(this.instanceChangedHandler);\n        this.props.hostsWorker.unregisterNotificationHandler(this.onNotificationsHandler);\n\n        if (this.logsHandlerRegistered) {\n            this.logsHandlerRegistered = false;\n            this.props.logsWorker.unregisterErrorCountHandler(this.onErrorsUpdates);\n            this.props.logsWorker.unregisterWarningCountHandler(this.onWarningsUpdates);\n        }\n    }\n\n    componentDidUpdate() {\n        if (!this.isSwipeable() && this.props.state !== STATES.opened && this.state.editList) {\n            this.setState({ editList: false });\n        }\n    }\n\n    getTabs(update) {\n        return this.props.socket.getCompactInstances(update)\n            .then(instances => {\n                let dynamicTabs = [];\n                if (instances) {\n                    Object.keys(instances).forEach(id => {\n                        const instance = instances[id];\n\n                        if (!instance || !instance.adminTab) {\n                            return;\n                        }\n\n                        let tab = 'tab-' + id.replace('system.adapter.', '').replace(/\\.\\d+$/, '');\n\n                        const singleton = instance.adminTab.singleton;\n                        let instNum;\n                        if (!singleton) {\n                            const m = id.match(/\\.(\\d+)$/);\n                            if (m) {\n                                instNum = parseInt(m[1], 10);\n                                tab += '-' + instNum;\n                            }\n                        }\n\n                        if (dynamicTabs.find(item => item.name === tab)) {\n                            return;\n                        }\n\n                        let title;\n\n                        if (instance.adminTab.name) {\n                            if (typeof instance.adminTab.name === 'object') {\n                                if (instance.adminTab.name[this.props.lang]) {\n                                    title = instance.adminTab.name[this.props.lang];\n                                } else if (instance.adminTab.name.en) {\n                                    title = this.props.t(instance.adminTab.name.en);\n                                } else {\n                                    title = this.props.t(instance.name);\n                                }\n                            } else {\n                                title = this.props.t(instance.adminTab.name);\n                            }\n                        } else {\n                            title = this.props.t(instance.name);\n                        }\n\n                        let obj;\n                        if (tabsInfo[tab]) {\n                            obj = Object.assign({ name: tab }, tabsInfo[tab]);\n                        } else {\n                            obj = { name: tab, order: instance.adminTab.order !== undefined ? instance.adminTab.order : 200};\n                        }\n\n                        if (!obj.icon) {\n                            obj.icon = `adapter/${instance.name}/${instance.icon}`;\n                        }\n\n                        obj.title = title;\n\n                        if (!singleton) {\n                            //obj.instance = instance;\n                            if (instNum) {\n                                obj.title += ' ' + instNum;\n                            }\n                        }\n                        dynamicTabs.push(obj);\n                    });\n                }\n\n                const READY_TO_USE = ['tab-intro', 'tab-adapters', 'tab-instances', 'tab-logs', 'tab-files', 'tab-objects', 'tab-hosts', 'tab-users', 'tab-enums'];\n                // DEV ONLY\n                let tabs = Object.keys(tabsInfo).filter(name => READY_TO_USE.includes(name));\n\n                tabs = tabs.map(name => {\n                    const obj = Object.assign({ name }, tabsInfo[name]);\n                    obj.title = I18n.t(ucFirst(name.replace('tab-', '').replace('-0', '').replace(/-(\\d+)$/, ' $1')));\n                    obj.visible = true;\n                    return obj;\n                });\n\n                // add dynamic tabs\n                tabs = tabs.concat(dynamicTabs);\n\n                tabs = tabs.filter(obj => obj);\n                tabs.forEach(obj => obj.visible = true);\n\n                tabs.sort((a, b) => {\n                    if (a.order && b.order) {\n                        return a.order - b.order;\n                    } else if (a.order) {\n                        return -1;\n                    } else if (b.order) {\n                        return 1;\n                    } else {\n                        return a.name > b.name ? -1 : (a.name > b.name ? 1 : 0);\n                    }\n                });\n\n                // Convert\n                this.props.socket.getCompactSystemConfig()\n                    .then(systemConfig => {\n                        systemConfig.common.tabsVisible = systemConfig.common.tabsVisible || [];\n\n                        tabs.forEach(tab => {\n                            const it = systemConfig.common.tabsVisible.find(el => el.name === tab.name);\n                            if (it) {\n                                tab.visible = it.visible;\n                            }\n                        });\n\n                        const map = {}\n                        systemConfig.common.tabsVisible.forEach((item, i) => map[item.name] = i);\n\n                        tabs.sort((a, b) => {\n                            const aa = map[a.name];\n                            const bb = map[b.name];\n                            if (aa !== undefined && bb !== undefined) {\n                                return aa - bb;\n                            } else if (aa) {\n                                return -1;\n                            } else if (bb) {\n                                return 1;\n                            } else {\n                                return 0;\n                            }\n                        });\n\n                        this.setState({tabs}, () => {\n                            const tabsVisible = tabs.map(({ name, visible }) => ({ name, visible }));\n\n                            if (JSON.stringify(tabsVisible) !== JSON.stringify(systemConfig.common.tabsVisible)) {\n                                this.props.socket.getSystemConfig(true)\n                                    .then(systemConfig => {\n                                        systemConfig.common.tabsVisible = tabsVisible;\n\n                                        return this.props.socket.setSystemConfig(systemConfig)\n                                            .catch(e => window.alert('Cannot set system config: ' + e));\n                                    });\n                            }\n                        });\n                    });\n            });\n    }\n\n    getHeader() {\n        const { classes, state, handleNavigation } = this.props;\n\n        return <div className={clsx(\n            classes.header,\n            this.props.state === STATES.opened && this.props.isSecure && classes.headerLogout,\n            !this.isSwipeable() && this.props.state !== STATES.opened && classes.headerCompact\n        )}>\n            <div className={clsx(classes.avatarBlock, state === 0 && classes.avatarVisible, classes.avatarNotVisible)}>\n                <a href=\"/#easy\" onClick={event => event.preventDefault()} style={{ color: 'inherit', textDecoration: 'none' }}>\n                    {this.props.adminGuiConfig.icon ?\n                        <div style={{height: 50, withWidth: 102, lineHeight: '50px'}}>\n                            <img src={this.props.adminGuiConfig.icon} alt=\"logo\" style={{maxWidth: '100%', maxHeight: '100%', verticalAlign: 'middle'}}/>\n                        </div>\n                        :\n                        <Avatar\n                            onClick={() => handleNavigation('easy')}\n                            className={clsx((this.props.themeName === 'colored' || this.props.themeName === 'blue') && classes.logoWhite, classes.logoSize)}\n                            alt=\"ioBroker\"\n                            src=\"img/no-image.png\"\n                        />\n                    }\n                </a>\n                {!this.props.adminGuiConfig.icon && this.props.versionAdmin && <Typography className={classes.styleVersion}>v{this.props.versionAdmin}</Typography>}\n            </div>\n            <IconButton onClick={() => {\n                if (this.isSwipeable() || this.props.state === STATES.compact) {\n                    this.props.onStateChange(STATES.closed);\n                } else {\n                    this.props.onStateChange(STATES.compact)\n                }\n            }}>\n                <ChevronLeftIcon />\n            </IconButton>\n        </div>;\n    }\n\n    isSwipeable() {\n        return this.props.width === 'xs' || this.props.width === 'sm';\n    }\n\n    tabsEditSystemConfig = idx => {\n        const { tabs } = this.state;\n        const { socket } = this.props;\n        let newTabs = JSON.parse(JSON.stringify(tabs));\n        if (idx !== undefined) {\n            newTabs[idx].visible = !newTabs[idx].visible;\n        }\n        return this.props.socket.getSystemConfig(true)\n            .then(newObjCopy => {\n                newObjCopy.common.tabsVisible = newTabs.map(({ name, visible }) => ({ name, visible }));\n\n                if (idx !== undefined) {\n                    this.setState({ tabs: newTabs }, () =>\n                        socket.setSystemConfig(newObjCopy)\n                            .catch(e => window.alert('Cannot set system config: ' + e)));\n                } else {\n                    return socket.setSystemConfig(newObjCopy)\n                        .catch(e => window.alert('Cannot set system config: ' + e));\n                }\n            });\n    }\n\n    getNavigationItems() {\n        const { tabs, editList, logErrors, logWarnings } = this.state;\n        const { systemConfig, currentTab, state, classes, handleNavigation } = this.props;\n        if (!systemConfig) {\n            return;\n        }\n        return tabs.map((tab, idx) => {\n            if (!editList && !tab.visible) {\n                return null\n            }\n\n            if (this.props.adminGuiConfig.admin.menu && this.props.adminGuiConfig.admin.menu[tab.name] === false) {\n                return null;\n            }\n\n            return <DragWrapper\n                key={tab.name}\n                canDrag={editList}\n                name={tab.name}\n                iconJSX={!!tabsInfo[tab.name]?.icon ? tabsInfo[tab.name].icon : <Icon className={classes.icon} src={tab.icon} />}\n                _id={tab.name}\n                selected={currentTab === tab.name}\n                tab={tab}\n                compact={!this.isSwipeable() && state !== STATES.opened}\n                badgeContent={logErrors || logWarnings || 0}\n                badgeColor={logErrors ? 'error' : (logWarnings ? 'warn' : '')}\n                tabs={tabs}\n                setEndDrag={() => this.tabsEditSystemConfig()}\n                setTabs={newObj => this.setState({ tabs: newObj })}\n            >\n                <DrawerItem\n                    key={tab.name}\n                    editList={editList}\n                    visible={tab.visible}\n                    editListFunc={() => this.tabsEditSystemConfig(idx)}\n                    compact={!this.isSwipeable() && state !== STATES.opened}\n                    onClick={e => {\n                        if (e.ctrlKey || e.shiftKey) {\n                            CustomTab.getHref(this.props.instancesWorker, tab.name, this.props.hostname, this.props.protocol, this.props.port, this.props.hosts, this.props.adminInstance)\n                                .then(href => {\n                                    if (href) {\n                                        console.log(href);\n                                        // Open in new tab\n                                        window.open(`${window.location.protocol}//${window.location.host}/${href}`, tab.name).focus();\n                                    } else {\n                                        handleNavigation(tab.name);\n                                    }\n                                });\n                        } else {\n                            handleNavigation(tab.name);\n                        }\n                    }}\n                    icon={!!tabsInfo[tab.name]?.icon ? tabsInfo[tab.name].icon : <Icon src={tab.icon} className={classes.icon} />}\n                    text={tab.title}\n                    selected={currentTab === tab.name}\n                    badgeContent={this.badge(tab).content}\n                    badgeColor={this.badge(tab).color}\n                    badgeAdditionalContent={this.badge(tab)?.additionalContent}\n                    badgeAdditionalColor={this.badge(tab)?.additionalColor}\n                />\n            </DragWrapper>;\n        });\n    }\n\n    badge = tab => {\n        switch (tab.name) {\n            case 'tab-logs':\n                const { logErrors, logWarnings } = this.state;\n                return { content: logErrors || logWarnings || 0, color: (logErrors ? 'error' : 'warn') || '' };\n\n            case 'tab-adapters':\n                return { content: this.state.adaptersUpdate || 0, color: 'primary' };\n\n            case 'tab-hosts':\n                return { content: this.state.hostsUpdate || 0, color: 'primary', additionalContent: this.state.hostError, additionalColor: 'error' };\n\n            default:\n                return { content: 0, color: '', additionalContent: 0, additionalColor: '' };\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (this.isSwipeable()) {\n            return <SwipeableDrawer\n                className={classes.root}\n                anchor=\"left\"\n                open={this.props.state !== STATES.closed}\n                onClose={() => this.props.onStateChange(STATES.closed)}\n                onOpen={() => this.props.onStateChange(STATES.opened)}\n                classes={{ paper: classes.paper }}\n            >\n                <CustomDragLayer />\n\n                {this.getHeader()}\n\n                <List>\n                    {this.getNavigationItems()}\n                </List>\n                {this.props.isSecure &&\n                    <DrawerItem\n                        compact={!this.isSwipeable() && this.props.state !== STATES.opened}\n                        onClick={this.props.onLogout}\n                        text={this.props.t('Logout')}\n                        icon={<LogoutIcon />}\n                    />\n                }\n                {this.props.adminGuiConfig.admin.menu.editable !== false && this.props.state === STATES.opened && <div className={this.props.classes.editButton}>\n                    <CustomPopper\n                        editList={this.state.editList}\n                        onClick={() => this.setState({ editList: !this.state.editList })}\n                    />\n                </div>}\n            </SwipeableDrawer>;\n        } else {\n            return <MaterialDrawer\n                className={clsx(classes.root, this.props.state !== STATES.opened ? classes.rootCompactWidth : classes.rootFullWidth)}\n                variant=\"persistent\"\n                anchor=\"left\"\n                open={this.props.state !== STATES.closed}\n                classes={{ paper: classes.paper }}\n                onMouseEnter={() => this.refEditButton.current && (this.refEditButton.current.style.opacity = 1)}\n                onMouseLeave={() => this.refEditButton.current && (this.refEditButton.current.style.opacity = 0)}\n            >\n                <CustomDragLayer />\n\n                {this.getHeader()}\n                <List className={classes.list}>\n                    {this.getNavigationItems()}\n                </List>\n                {this.props.isSecure &&\n                    <DrawerItem\n                        style={{flexShrink: 0}}\n                        compact={!this.isSwipeable() && this.props.state !== STATES.opened}\n                        onClick={this.props.onLogout} text={this.props.t('Logout')}\n                        icon={<LogoutIcon />}\n                    />\n                }\n                {this.props.adminGuiConfig.admin.menu.editable !== false && this.props.state === STATES.opened && <div\n                    className={this.props.classes.editButton}\n                    style={{opacity: 0}}\n                    ref={this.refEditButton}\n                >\n                    <CustomPopper\n                        editList={this.state.editList}\n                        onClick={() => this.setState({ editList: !this.state.editList })}\n                    />\n                </div>}\n            </MaterialDrawer>;\n        }\n    }\n}\n\nDrawer.propTypes = {\n    t: PropTypes.func,\n    lang: PropTypes.string,\n    state: PropTypes.number,\n    adminGuiConfig: PropTypes.object,\n    onStateChange: PropTypes.func,\n    onLogout: PropTypes.func,\n    systemConfig: PropTypes.object,\n    logoutTitle: PropTypes.string,\n    isSecure: PropTypes.bool,\n    currentTab: PropTypes.string,\n    themeName: PropTypes.string,\n    socket: PropTypes.object,\n    ready: PropTypes.bool,\n    versionAdmin: PropTypes.string,\n    expertMode: PropTypes.bool,\n    handleNavigation: PropTypes.func,\n\n    instancesWorker: PropTypes.object,\n    hostsWorker: PropTypes.object,\n    logsWorker: PropTypes.object,\n\n    hostname: PropTypes.string,\n    protocol: PropTypes.string,\n    port: PropTypes.number,\n    adminInstance: PropTypes.string,\n\n    installed: PropTypes.object,\n    hosts: PropTypes.array,\n    repository: PropTypes.object,\n};\n\nDrawer.contextType = ContextWrapper;\nexport default withWidth()(withStyles(styles)(Drawer));","import withStyles from '@material-ui/core/styles/withStyles';\n\nconst offset = 187;\n\nconst styles = {\n    root: {\n        left: 0,\n        top: 0,\n        width: '100%',\n        height: '100%',\n        position: 'fixed',\n        background: 'rgba(0, 0, 0, .3)',\n        zIndex: 20000\n    },\n    connecting: {\n        left: '40%',\n        top: '40%',\n        width: '20%',\n        height: '20%',\n        position: 'absolute'\n    },\n    spinner: {\n        animation: '$rotator 1.4s linear infinite'\n    },\n    path: {\n        strokeDasharray: 187,\n        strokeDashoffset: 0,\n        transformOrigin: 'center',\n        animation: '$dash 1.4s ease-in-out infinite, $colors 5.6s ease-in-out infinite'\n    },\n    '@keyframes colors': {\n        '0%': {\n            stroke: '#4285F4'\n        },\n        '25%': {\n            stroke: '#DE3E35'\n        },\n        '50%': {\n            stroke: '#F7C223'\n        },\n        '75%': {\n            stroke: '#1B9A59'\n        },\n        '100%': {\n            stroke: '#4285F4'\n        }\n    },\n    '@keyframes dash': {\n        '0%': {\n            strokeDashoffset: offset\n        },\n        '50%': {\n            strokeDashoffset: offset / 4,\n            transform: 'rotate(135deg)'\n        },\n        '100%': {\n            strokeDashoffset: offset,\n            transform: 'rotate(450deg)'\n        }\n    },\n    '@keyframes rotator': {\n        '0%': {\n            transform: 'rotate(0deg)'\n        },\n        '100%': {\n            transform: 'rotate(270deg)'\n        }\n    }\n};\n\nfunction Connecting(props) {\n\n    const { classes } = props;\n\n    return <div className={ classes.root }>\n        <div className={ classes.connecting }>\n            <svg className={ classes.spinner } width=\"100%\" height=\"100%\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle className={ classes.path } fill=\"none\" strokeWidth=\"6\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"30\"/>\n            </svg>\n        </div>\n    </div>;\n}\n\nexport default withStyles(styles)(Connecting);","import { createRef, Component } from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport withWidth from \"@material-ui/core/withWidth\";\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Grid';\n\nimport Button from '@material-ui/core/Button';\nimport Paper from  '@material-ui/core/Paper';\nimport IconCheck from \"@material-ui/icons/Check\";\n\nconst TOOLBAR_HEIGHT = 64;\n\nconst styles = theme => ({\n    paper: {\n        height: '100%',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        overflow: 'hidden',\n    },\n    title: {\n        color: theme.palette.secondary.main,\n    },\n    form: {\n        height: 'calc(100% - ' + (TOOLBAR_HEIGHT + theme.spacing(1)) + 'px)',\n        overflow: 'auto',\n    },\n    input: {\n        width: 400,\n        marginBottom: theme.spacing(2)\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    toolbar: {\n        height: TOOLBAR_HEIGHT,\n        lineHeight: TOOLBAR_HEIGHT + 'px',\n    }\n});\n\nclass WizardPasswordTab extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            password: '',\n            passwordRepeat: '',\n            errorPassword: true,\n            errorPasswordRepeat: false,\n        };\n\n        this.focusRef = createRef();\n    }\n\n    componentDidMount() {\n        this.focusRef.current && this.focusRef.current.focus();\n    }\n\n    checkPassword(password, passwordRepeat) {\n        if (password !== null && password !== undefined) {\n            return password.length < 8 || !password.match(/\\d/) || !password.match(/[a-z]/) || !password.match(/[A-Z]/);\n        } else {\n            if (passwordRepeat.length < 8 || !passwordRepeat.match(/\\d/) || !passwordRepeat.match(/[a-z]/) || !passwordRepeat.match(/[A-Z]/)) {\n                return this.props.t('Password must be at least 8 characters long and have numbers, upper and lower case letters');\n            } else if (this.state.password !== passwordRepeat) {\n                return this.props.t('Passwords are not equal');\n            } else {\n                return false;\n            }\n        }\n    }\n\n    render() {\n        return <Paper className={ this.props.classes.paper }>\n            <form className={ this.props.classes.form} noValidate autoComplete=\"off\">\n                <Grid container direction=\"column\">\n                    <Grid item>\n                        <h2 className={ this.props.classes.title }>{ this.props.t('You must set the administrator password') }</h2>\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            inputProps={{\n                                autoComplete: 'new-password',\n                                form: {\n                                    autoComplete: 'off',\n                                },\n                            }}\n                            onKeyDown={e => {\n                                if (e.keyCode === 13 && this.state.password && !this.state.errorPassword) {\n                                    const el = window.document.getElementById('admin_password');\n                                    if (el) {\n                                        el.focus();\n                                    }\n                                }\n                            }}\n                            autoComplete=\"off\"\n                            className={ this.props.classes.input }\n                            ref={ this.focusRef }\n                            label={this.props.t('Administrator password')}\n                            type=\"password\"\n                            value={ this.state.password }\n                            error={ this.state.errorPassword }\n                            onChange={ e => this.setState({ password: e.target.value, errorPassword: this.checkPassword(e.target.value), errorPasswordRepeat: this.checkPassword(null, this.state.passwordRepeat)}) }\n                            helperText={ this.props.t('Password must be at least 8 characters long and have numbers, upper and lower case letters') }\n                        />\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            inputProps={{\n                                autoComplete: 'new-password',\n                                form: {autoComplete: 'off'},\n                                id: 'admin_password'\n                            }}\n                            onKeyDown={e => {\n                                if (e.keyCode === 13 && this.state.password && !this.state.errorPassword && !this.state.errorPasswordRepeat) {\n                                    this.props.onDone(this.state.password);\n                                }\n                            } }\n                            autoComplete=\"off\"\n                            className={ this.props.classes.input }\n                            label={ this.props.t('Repeat administrator password') }\n                            value={ this.state.passwordRepeat }\n                            type=\"password\"\n                            error={ !!this.state.errorPasswordRepeat }\n                            onChange={ e => this.setState({ passwordRepeat: e.target.value, errorPasswordRepeat: this.checkPassword(null, e.target.value), errorPassword: this.checkPassword(this.state.password)}) }\n                            helperText={ this.state.errorPasswordRepeat || '' }\n                        />\n                    </Grid>\n                </Grid>\n            </form>\n            <Toolbar className={ this.props.classes.toolbar }>\n                <div className={ this.props.classes.grow }/>\n                <Button  color=\"primary\" variant={\"contained\"} onClick={ () => this.props.onDone(this.state.password) } disabled={ !!this.state.errorPasswordRepeat || this.state.errorPassword } startIcon={<IconCheck/>}>{ this.props.t('Set administrator password') }</Button>\n            </Toolbar>\n        </Paper>;\n    }\n}\n\nWizardPasswordTab.propTypes = {\n    t: PropTypes.func,\n    socket: PropTypes.object,\n    onDone: PropTypes.func.isRequired,\n};\n\nexport default withWidth()(withStyles(styles)(WizardPasswordTab));\n","const license = {\n    'en': 'The MIT License (MIT)\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n' +\n        'The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n' +\n        'THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n',\n\n    'de': 'MIT-Lizenz (MIT)\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Hiermit wird unentgeltlich jeder Person, die eine Kopie der Software und der zugehörigen Dokumentationen (die \"Software\") erhält, die Erlaubnis erteilt, sie uneingeschränkt zu benutzen, inklusive und ohne Ausnahme dem Recht, sie zu verwenden, kopieren, ändern, fusionieren, verlegen, verbreiten, unterlizenzieren und/oder zu verkaufen, und Personen, die diese Software erhalten, diese Rechte zu geben, unter den folgenden Bedingungen:\\n' +\n        'Der obige Urheberrechtsvermerk und dieser Erlaubnisvermerk sind in allen Kopien oder Teilkopien der Software beizulegen.\\n' +\n        'DIE SOFTWARE WIRD OHNE JEDE AUSDRÜCKLICHE ODER IMPLIZIERTE GARANTIE BEREITGESTELLT, EINSCHLIESSLICH DER GARANTIE ZUR BENUTZUNG FÜR DEN VORGESEHENEN ODER EINEM BESTIMMTEN ZWECK SOWIE JEGLICHER RECHTSVERLETZUNG, JEDOCH NICHT DARAUF BESCHRÄNKT. IN KEINEM FALL SIND DIE AUTOREN ODER COPYRIGHTINHABER FÜR JEGLICHEN SCHADEN ODER SONSTIGE ANSPRÜCHE HAFTBAR ZU MACHEN, OB INFOLGE DER ERFÜLLUNG EINES VERTRAGES, EINES DELIKTES ODER ANDERS IM ZUSAMMENHANG MIT DER SOFTWARE ODER SONSTIGER VERWENDUNG DER SOFTWARE ENTSTANDEN.',\n\n    'ru': 'Лицензия MIT\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Данная лицензия разрешает лицам, получившим копию данного программного обеспечения и сопутствующей документации (в дальнейшем именуемыми «Программное Обеспечение»), безвозмездно использовать Программное Обеспечение без ограничений, включая неограниченное право на использование, копирование, изменение, добавление, публикацию, распространение, сублицензирование и/или продажу копий Программного Обеспечения, также как и лицам, которым предоставляется данное Программное Обеспечение, при соблюдении следующих условий:\\n' +\n        'Указанное выше уведомление об авторском праве и данные условия должны быть включены во все копии или значимые части данного Программного Обеспечения.\\n' +\n        'ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЯЕТСЯ «КАК ЕСТЬ», БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ, ЯВНО ВЫРАЖЕННЫХ ИЛИ ПОДРАЗУМЕВАЕМЫХ, ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ ГАРАНТИЯМИ ТОВАРНОЙ ПРИГОДНОСТИ, СООТВЕТСТВИЯ ПО ЕГО КОНКРЕТНОМУ НАЗНАЧЕНИЮ И ОТСУТСТВИЯ НАРУШЕНИЙ ПРАВ. НИ В КАКОМ СЛУЧАЕ АВТОРЫ ИЛИ ПРАВООБЛАДАТЕЛИ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ ПО ИСКАМ О ВОЗМЕЩЕНИИ УЩЕРБА, УБЫТКОВ ИЛИ ДРУГИХ ТРЕБОВАНИЙ ПО ДЕЙСТВУЮЩИМ КОНТРАКТАМ, ДЕЛИКТАМ ИЛИ ИНОМУ, ВОЗНИКШИМ ИЗ, ИМЕЮЩИМ ПРИЧИНОЙ ИЛИ СВЯЗАННЫМ С ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ ИЛИ ИСПОЛЬЗОВАНИЕМ ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ ИЛИ ИНЫМИ ДЕЙСТВИЯМИ С ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ.',\n\n    'it': 'Licenza MIT\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Si concede gratuitamente l\\'autorizzazione, a chiunque ottenga una copia di questo software e dei file di documentazione associati (il \"Software\"), di dare opera al Software senza restrizioni, compresi senza limitazione i diritti di utilizzare, copiare, modificare, unire, pubblicare, distribuire, concedere in sublicenza ovvero vendere copie del Software, e di consentire alle persone a cui il Software è fornito di fare altrettanto, posto che siano rispettate le seguenti condizioni:\\n' +\n        'l\\'avviso di copyright unitamente a questo avviso di licenza devono essere sempre inclusi in tutte le copie o parti sostanziali del Software.\\n' +\n        'IL SOFTWARE VIENE FORNITO \"COSÌ COM\\'È\" SENZA GARANZIE DI ALCUN TIPO, ESPLICITE O IMPLICITE, COMPRESE, MA NON SOLO, LE GARANZIE DI COMMERCIABILITÀ, IDONEITÀ AD UN PARTICOLARE SCOPO E NON VIOLAZIONE DI DIRITTI ALTRUI. IN NESSUN CASO GLI AUTORI DEL SOFTWARE O I TITOLARI DEL COPYRIGHT POTRANNO ESSERE RITENUTI RESPONSABILI DI RECLAMI, DANNI O ALTRE RESPONSABILITÀ, DERIVANTI DA O COLLEGATI A CONTRATTO, ILLECITO CIVILE O IN ALTRA RELAZIONE CON IL SOFTWARE O CON IL SUO UTILIZZO O CON ALTRE OPERAZIONI DEL SOFTWARE.',\n\n    'fr': 'Licence MIT\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n' +\n        'The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n' +\n        'THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n',\n\n    'pt': 'Licença MIT\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n' +\n        'The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n' +\n        'THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n',\n\n    'nl': 'MIT-licentie\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n' +\n        'The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n' +\n        'THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n',\n\n    'es': 'Licencia MIT\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Se concede permiso, de forma gratuita, a cualquier persona que obtenga una copia de este software y de los archivos de documentación asociados (el \"Software\"), para utilizar el Software sin restricción, incluyendo sin limitación los derechos a usar, copiar, modificar, fusionar, publicar, distribuir, sublicenciar, y/o vender copias del Software, y a permitir a las personas a las que se les proporcione el Software a hacer lo mismo, sujeto a las siguientes condiciones:\\n' +\n        'El aviso de copyright anterior y este aviso de permiso se incluirán en todas las copias o partes sustanciales del Software.\\n' +\n        'EL SOFTWARE SE PROPORCIONA \"TAL CUAL\", SIN GARANTÍA DE NINGÚN TIPO, EXPRESA O IMPLÍCITA, INCLUYENDO PERO NO LIMITADO A GARANTÍAS DE COMERCIALIZACIÓN, IDONEIDAD PARA UN PROPÓSITO PARTICULAR Y NO INFRACCIÓN. EN NINGÚN CASO LOS AUTORES O TITULARES DEL COPYRIGHT SERÁN RESPONSABLES DE NINGUNA RECLAMACIÓN, DAÑOS U OTRAS RESPONSABILIDADES, YA SEA EN UNA ACCIÓN DE CONTRATO, AGRAVIO O CUALQUIER OTRO MOTIVO, QUE SURJA DE O EN CONEXIÓN CON EL SOFTWARE O EL USO U OTRO TIPO DE ACCIONES EN EL SOFTWARE.',\n\n    'pl': 'Licencja MIT\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n' +\n        'The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n' +\n        'THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n',\n\n    'zh-cn': 'MIT许可证\\n' +\n        '\\n' +\n        'Copyright © 2014-2021 bluefox, 2014 hobbyquaker\\n' +\n        '\\n' +\n        '特此向任何得到本软件副本或相关文档的人授权：被授权人有权使用、复制、修改、 合并、出版、发布、散布、再授权和/或贩售软件及软件的副本，及授予被供应人 同等权利，只需服从以下义务：\\n' +\n        '在软件和软件的所有副本中都必须包含以上版权声明和本许可声明。\\n' +\n        '该软件是\"按原样\"提供的，没有任何形式的明示或暗示，包括但不限于为特定目的和 不侵权的适销性和适用性的保证担保。在任何情况下，作者或版权持有人，都无权要求 任何索赔，或有关损害赔偿的其他责任。无论在本软件的使用上或其他买卖交易中， 是否涉及合同，侵权或其他行为。\\n'\n};\n\nexport default license;","import { createRef, Component } from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport withWidth from \"@material-ui/core/withWidth\";\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Grid from '@material-ui/core/Grid';\nimport Select from '@material-ui/core/Select';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport IconWorld from '@material-ui/icons/Language';\nimport IconCheck from '@material-ui/icons/Check';\nimport IconCancel from '@material-ui/icons/Close';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport LicenseTexts from '../LicenseTexts';\n\nconst TOOLBAR_HEIGHT = 64;\n\nconst styles = theme => ({\n    paper: {\n        height: '100%',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        overflow: 'hidden',\n    },\n    gridDiv: {\n        height: 'calc(100% - ' + TOOLBAR_HEIGHT + 'px)',\n        width: '100%',\n        overflow: 'hidden',\n        padding: theme.spacing(2),\n        textAlign: 'center'\n    },\n    languageSelect: {\n        minWidth: 200,\n        marginRight: theme.spacing(3),\n    },\n    licenseDiv: {\n        width: '100%',\n        height: 'calc(100% - ' + (theme.mixins.toolbar.minHeight + theme.spacing(1) + 70) + 'px)',\n        overflow: 'auto',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    statAccept: {\n        marginTop: 10,\n        color: '#ff636e',\n    },\n    statAcceptDiv: {\n        display: 'inline-block',\n    },\n    statAcceptNote: {\n        textAlign: 'left',\n        marginLeft: 32,\n    },\n    greenButton: {\n        marginLeft: theme.spacing(1),\n    },\n    toolbar: {\n        height: TOOLBAR_HEIGHT,\n        lineHeight: TOOLBAR_HEIGHT + 'px',\n    },\n    licenseTextDiv: {\n        width: '100%',\n        maxWidth: 600,\n        textAlign: 'left',\n        margin: 'auto',\n    },\n    licenseText: {\n        marginBottom: 15,\n    }\n});\n\nclass WizardLicenseTab extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            statisticsAccepted: false,\n            lang: this.props.lang,\n            notAgree: false,\n        };\n        this.focusRef = createRef();\n    }\n\n    componentDidMount() {\n        this.focusRef.current && this.focusRef.current.focus();\n    }\n\n    renderNotAgree() {\n        if (!this.state.notAgree) {\n            return null;\n        }\n        return <Dialog\n            open={true}\n            onClose={() => this.setState({ notAgree: false }) }\n        >\n            <DialogTitle >{ this.props.t('Message') }</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    <span role=\"img\" aria-label=\"unhappy\">😒</span> { this.props.t('Sorry, you cannot use ioBroker.')}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    onClick={() => this.setState({ notAgree: false }) } color=\"primary\"\n                    startIcon={<IconCheck/>}\n                >\n                    { I18n.t('Understand') }\n                </Button>\n            </DialogActions>\n        </Dialog>\n    }\n\n    renderLicenseText() {\n        let lines = LicenseTexts[I18n.getLanguage()] || LicenseTexts.en;\n        lines = lines.split('\\n');\n        return <div className={this.props.classes.licenseTextDiv}>{lines.map((line, i) => <div className={this.props.classes.licenseText} key={i}>{line}</div>)}</div>;\n    }\n\n    render() {\n        return <Paper className={ this.props.classes.paper }>\n            <Grid container className={ this.props.classes.gridDiv } direction=\"column\">\n                <Grid item>\n                    <FormControl className={ this.props.classes.languageSelect }>\n                        <InputLabel><IconWorld/>{ this.props.t('Language') }</InputLabel>\n                        <Select\n                            value={ I18n.getLanguage() }\n                            onChange={e => {\n                                I18n.setLanguage(e.target.value);\n                                this.setState( { lang: e.target.value });\n                            }}\n                        >\n                            <MenuItem value=\"en\">English</MenuItem>\n                            <MenuItem value=\"de\">Deutsch</MenuItem>\n                            <MenuItem value=\"ru\">русский</MenuItem>\n                            <MenuItem value=\"pt\">Portugues</MenuItem>\n                            <MenuItem value=\"nl\">Nederlands</MenuItem>\n                            <MenuItem value=\"fr\">français</MenuItem>\n                            <MenuItem value=\"it\">Italiano</MenuItem>\n                            <MenuItem value=\"es\">Espanol</MenuItem>\n                            <MenuItem value=\"pl\">Polski</MenuItem>\n                            <MenuItem value=\"zh-cn\">简体中文</MenuItem>\n                        </Select>\n                    </FormControl>\n                    <div className={ this.props.classes.statAcceptDiv }>\n                        <FormControlLabel\n                            className={ this.props.classes.statAccept }\n                            control={<Checkbox ref={ this.focusRef } checked={ this.state.statisticsAccepted } onChange={e => this.setState({statisticsAccepted: e.target.checked }) } />}\n                            label={ this.props.t('I agree with the collection of anonymous statistics.') }\n                        />\n                        <div className={ this.props.classes.statAcceptNote }>{ this.props.t('(This can be disabled later in settings)') }</div>\n                    </div>\n                </Grid>\n                <Grid item>\n                    <h1>{ this.props.t('License terms') }</h1>\n                </Grid>\n                <Grid item className={ this.props.classes.licenseDiv }>\n                    {this.renderLicenseText()}\n                </Grid>\n            </Grid>\n            <Toolbar className={ this.props.classes.toolbar }>\n                <div className={ this.props.classes.grow }/>\n                <Button variant=\"contained\" onClick={ () => this.setState({notAgree: true}) } startIcon={<IconCancel/>}>{ this.props.t('Not agree') }</Button>\n                <Button variant=\"contained\" color=\"primary\" className={ this.props.classes.greenButton } disabled={ !this.state.statisticsAccepted } onClick={ () => this.props.onDone() } startIcon={<IconCheck/>}>{ this.props.t('Agree') }</Button>\n                <div className={ this.props.classes.grow }/>\n            </Toolbar>\n            { this.renderNotAgree() }\n        </Paper>;\n    }\n}\n\nWizardLicenseTab.propTypes = {\n    t: PropTypes.func,\n    socket: PropTypes.object,\n    onDone: PropTypes.func.isRequired,\n};\n\nexport default withWidth()(withStyles(styles)(WizardLicenseTab));\n","import { createRef, Component } from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport withWidth from \"@material-ui/core/withWidth\";\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport Fab from '@material-ui/core/Fab';\n\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport Feature from 'ol/Feature';\nimport {Tile, Vector as LayerVector } from 'ol/layer';\nimport { Icon, Style } from 'ol/style';\nimport {OSM, Vector as VectorSource} from 'ol/source';\nimport { Point } from 'ol/geom';\nimport { toLonLat, fromLonLat } from 'ol/proj';\n\nimport Button from '@material-ui/core/Button';\nimport Paper from  '@material-ui/core/Paper';\n\n//Icons\nimport {FaCrosshairs as GeoIcon} from 'react-icons/all';\nimport PinSVG from '../../assets/pin.svg';\nimport IconCheck from \"@material-ui/icons/Check\";\n\nconst TOOLBAR_HEIGHT = 64;\nconst SETTINGS_WIDTH = 300;\n\nconst styles = theme => ({\n    paper: {\n        height: '100%',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        overflow: 'hidden',\n    },\n    title: {\n        color: theme.palette.secondary.main,\n    },\n    mainGrid: {\n        height: 'calc(100% - ' + TOOLBAR_HEIGHT + 'px)',\n        overflow: 'auto',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    mapGrid: {\n        height: '100%',\n        width: 'calc(100% - ' + (SETTINGS_WIDTH + theme.spacing(4)) + 'px)',\n        overflow: 'hidden',\n    },\n    map: {\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden',\n    },\n    controlItem: {\n        width: SETTINGS_WIDTH,\n        marginBottom: theme.spacing(1),\n    },\n    controlItemAddress: {\n        width: SETTINGS_WIDTH - 40,\n        marginBottom: theme.spacing(1),\n    },\n    gridSettings: {\n        width: SETTINGS_WIDTH + theme.spacing(2),\n        margin: theme.spacing(1),\n        textAlign: 'left',\n        height: '100%',\n        overflow: 'auto'\n    },\n    toolbar: {\n        height: TOOLBAR_HEIGHT,\n        lineHeight: TOOLBAR_HEIGHT + 'px',\n    },\n    settingsGrid: {\n        width: '100%',\n        height: 'calc(100% - 54px)',\n    }\n});\n\nclass WizardSettingsTab extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            password:       '',\n            passwordRepeat: '',\n            errorPassword:  false,\n            errorPasswordRepeat: false,\n            tempUnit:       '°C',\n            currency:       '€',\n            dateFormat:     'DD.MM.YYYY',\n            isFloatComma:   true,\n            country:        '',\n            city:           '',\n            address:        '',\n            longitude:      0,\n            latitude:       0,\n            firstDayOfWeek: 'monday'\n        };\n\n        this.focusRef = createRef();\n\n        this.props.socket.getCompactSystemConfig(true)\n            .then(obj =>\n                    this.setState({\n                        tempUnit:       obj.common.tempUnit,\n                        currency:       obj.common.currency,\n                        dateFormat:     obj.common.dateFormat,\n                        isFloatComma:   obj.common.isFloatComma,\n                        country:        obj.common.country,\n                        city:           obj.common.city,\n                        address:        '',\n                        longitude:      obj.common.longitude,\n                        latitude:       obj.common.latitude,\n                        firstDayOfWeek: obj.common.firstDayOfWeek || 'monday',\n                    }, () => this.updateMap()));\n    }\n\n    positionReady(position) {\n        this.setState({\n            latitude:  position.coords.latitude.toFixed(8),\n            longitude: position.coords.longitude.toFixed(8)\n        }, () => this.updateMap());\n    }\n\n    getPositionForAddress() {\n        window.fetch('https://nominatim.openstreetmap.org/search?format=json&q=' + encodeURIComponent(this.state.country + ' ' + this.state.city + ' ' + this.state.address))\n            .then(data => data.json())\n            .then(data => {\n                let changed = false;\n\n                if (!data || !data[0]) {\n                    return window.alert(this.props.t('Nothing found'));\n                }\n\n                let latitude = parseFloat(this.state.latitude);\n                if (latitude !== parseFloat(data[0].lat)) {\n                    latitude = parseFloat(data[0].lat);\n                    changed = true;\n                }\n                let longitude = parseFloat(this.state.longitude);\n                if (longitude !== parseFloat(data[0].lon)) {\n                    longitude = parseFloat(data[0].lon);\n                    changed = true;\n                }\n                changed && this.setState({longitude, latitude}, () =>\n                    this.updateMap());\n            })\n            .catch(e =>\n                window.alert(this.props.t('Cannot fetch address %s', e)));\n    }\n\n    updateMap() {\n        // OPEN STREET MAPS\n        if (window.navigator.geolocation && (!this.state.longitude || !this.state.latitude)) {\n            window.navigator.geolocation.getCurrentPosition(position => this.positionReady(position));\n        }\n\n        const center = fromLonLat([parseFloat(this.state.longitude || 0), parseFloat(this.state.latitude || 0)]);\n\n        if (!this.OSM) {\n            // get the coordinates from browser\n\n            this.OSM = {};\n            this.OSM.markerSource = new VectorSource();\n\n            this.OSM.markerStyle = new Style({\n                image: new Icon(/** @type {olx.style.IconOptions} */ ({\n                    anchor: [0.5, 49],\n                    anchorXUnits: 'fraction',\n                    anchorYUnits: 'pixels',\n                    opacity: 0.75,\n                    src: PinSVG\n                }))\n            });\n\n            this.OSM.oMap = new Map({\n                target: 'map',\n                layers: [\n                    new Tile({source: new OSM()}),\n                    new LayerVector({\n                        source: this.OSM.markerSource,\n                        style: this.OSM.markerStyle,\n                    })\n                ],\n                view: new View({center, zoom: 17})\n            });\n\n            this.OSM.marker = new Feature({\n                geometry: new Point(center),\n                name: this.props.t('Your home')\n            });\n\n            this.OSM.markerSource.addFeature(this.OSM.marker);\n\n            this.OSM.oMap.on('singleclick', event => {\n                const lonLat = toLonLat(event.coordinate);\n                this.setState( {longitude: lonLat[0], latitude: lonLat[1]}, () => this.updateMap());\n            });\n        }\n\n        const zoom = this.OSM.oMap.getView().getZoom();\n        this.OSM.marker.setGeometry(new Point(center));\n        this.OSM.oMap.setView(new View({center, zoom}));\n    }\n\n    componentDidMount() {\n        this.focusRef.current && this.focusRef.current.focus();\n        this.updateMap();\n    }\n\n    render() {\n        return <Paper className={ this.props.classes.paper }>\n            <Grid container direction=\"column\" className={ this.props.classes.mainGrid }>\n                <Grid item className={ this.props.classes.gridSettings }>\n                    <Grid container direction=\"column\">\n                        <Grid item>\n                            <h2 className={ this.props.classes.title }>{ this.props.t('Important main settings') }</h2>\n                        </Grid>\n                        <Grid container direction=\"column\" className={this.props.classes.settingsGrid}>\n                            <Grid item style={{textAlign: 'left'}}>\n                                <FormControl className={ this.props.classes.controlItem }>\n                                    <InputLabel>{ this.props.t('Temperature unit') }</InputLabel>\n                                    <Select\n                                        value={ this.state.tempUnit }\n                                        onChange={e => this.setState({tempUnit: e.target.value}) }\n                                    >\n                                        <MenuItem value=\"°C\">°C</MenuItem>\n                                        <MenuItem value=\"°F\">°F</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                            <Grid item>\n                                <TextField\n                                    label={ this.props.t('Currency') }\n                                    className={ this.props.classes.controlItem }\n                                    value={ this.state.currency }\n                                    onChange={ e => this.setState( {currency: e.target.value })}\n                                />\n                            </Grid>\n                            <Grid item style={{textAlign: 'left'}}>\n                                <FormControl className={ this.props.classes.controlItem }>\n                                    <InputLabel>{ this.props.t('Date format') }</InputLabel>\n                                    <Select\n                                        value={ this.state.dateFormat }\n                                        onChange={e => this.setState({dateFormat: e.target.value}) }\n                                    >\n                                        <MenuItem value=\"DD.MM.YYYY\">DD.MM.YYYY</MenuItem>\n                                        <MenuItem value=\"YYYY.MM.DD\">YYYY.MM.DD</MenuItem>\n                                        <MenuItem value=\"MM/DD/YYYY\">MM/DD/YYYY</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                            <Grid item style={{textAlign: 'left'}}>\n                                <FormControl className={ this.props.classes.controlItem }>\n                                    <InputLabel>{ this.props.t('Float divider') }</InputLabel>\n                                    <Select\n                                        value={ this.state.isFloatComma }\n                                        onChange={e => this.setState({isFloatComma: e.target.value}) }\n                                    >\n                                        <MenuItem value={ true }>{this.props.t('comma')} - 3,14</MenuItem>\n                                        <MenuItem value={ false }>{this.props.t('point')} - 3.14</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                            <Grid item style={{textAlign: 'left'}}>\n                                <FormControl className={ this.props.classes.controlItem }>\n                                    <InputLabel>{ this.props.t('Country') }</InputLabel>\n                                    <Select\n                                        value={ this.state.country || '' }\n                                        onChange={e => this.setState({country: e.target.value}) }\n                                    >\n                                        <MenuItem value=\"\">{ this.props.t('Please select country') }</MenuItem>\n                                        <MenuItem value=\"Germany\">{ this.props.t('Germany') }</MenuItem>\n                                        <MenuItem value=\"Austria\">{ this.props.t('Austria') }</MenuItem>\n                                        <MenuItem value=\"Switzerland\">{ this.props.t('Switzerland') }</MenuItem>\n                                        <MenuItem value=\"Russian Federation\">{ this.props.t('Russian Federation') }</MenuItem>\n                                        <MenuItem value=\"France\">{ this.props.t('France') }</MenuItem>\n                                        <MenuItem value=\"Netherlands\">{ this.props.t('Netherlands') }</MenuItem>\n                                        <MenuItem value=\"Italy\">{ this.props.t('Italy') }</MenuItem>\n                                        <MenuItem value=\"United Kingdom\">{ this.props.t('United Kingdom') }</MenuItem>\n                                        <MenuItem value=\"United States\">{ this.props.t('United States') }</MenuItem>\n                                        <MenuItem value=\"China\">{ this.props.t('China') }</MenuItem>\n\n                                        <MenuItem value=\"Afghanistan\">{ this.props.t('Afghanistan') }</MenuItem>\n                                        <MenuItem value=\"Albania\">{ this.props.t('Albania') }</MenuItem>\n                                        <MenuItem value=\"Algeria\">{ this.props.t('Algeria') }</MenuItem>\n                                        <MenuItem value=\"American Samoa\">{ this.props.t('American Samoa') }</MenuItem>\n                                        <MenuItem value=\"Andorra\">{ this.props.t('Andorra') }</MenuItem>\n                                        <MenuItem value=\"Angola\">{ this.props.t('Angola') }</MenuItem>\n                                        <MenuItem value=\"Anguilla\">{ this.props.t('Anguilla') }</MenuItem>\n                                        <MenuItem value=\"Antarctica\">{ this.props.t('Antarctica') }</MenuItem>\n                                        <MenuItem value=\"Antigua and Barbuda\">{ this.props.t('Antigua and Barbuda') }</MenuItem>\n                                        <MenuItem value=\"Argentina\">{ this.props.t('Argentina') }</MenuItem>\n                                        <MenuItem value=\"Armenia\">{ this.props.t('Armenia') }</MenuItem>\n                                        <MenuItem value=\"Aruba\">{ this.props.t('Aruba') }</MenuItem>\n                                        <MenuItem value=\"Australia\">{ this.props.t('Australia') }</MenuItem>\n                                        <MenuItem value=\"Azerbaijan\">{ this.props.t('Azerbaijan') }</MenuItem>\n                                        <MenuItem value=\"Bahamas\">{ this.props.t('Bahamas') }</MenuItem>\n                                        <MenuItem value=\"Bahrain\">{ this.props.t('Bahrain') }</MenuItem>\n                                        <MenuItem value=\"Bangladesh\">{ this.props.t('Bangladesh') }</MenuItem>\n                                        <MenuItem value=\"Barbados\">{ this.props.t('Barbados') }</MenuItem>\n                                        <MenuItem value=\"Belarus\">{ this.props.t('Belarus') }</MenuItem>\n                                        <MenuItem value=\"Belgium\">{ this.props.t('Belgium') }</MenuItem>\n                                        <MenuItem value=\"Belize\">{ this.props.t('Belize') }</MenuItem>\n                                        <MenuItem value=\"Benin\">{ this.props.t('Benin') }</MenuItem>\n                                        <MenuItem value=\"Bermuda\">{ this.props.t('Bermuda') }</MenuItem>\n                                        <MenuItem value=\"Bhutan\">{ this.props.t('Bhutan') }</MenuItem>\n                                        <MenuItem value=\"Bolivia\">{ this.props.t('Bolivia') }</MenuItem>\n                                        <MenuItem value=\"Bosnia and Herzegovina\">{ this.props.t('Bosnia and Herzegovina') }</MenuItem>\n                                        <MenuItem value=\"Botswana\">{ this.props.t('Botswana') }</MenuItem>\n                                        <MenuItem value=\"Bouvet Island\">{ this.props.t('Bouvet Island') }</MenuItem>\n                                        <MenuItem value=\"Brazil\">{ this.props.t('Brazil') }</MenuItem>\n                                        <MenuItem value=\"British Indian Ocean Territory\">{ this.props.t('British Indian Ocean Territory') }</MenuItem>\n                                        <MenuItem value=\"Brunei Darussalam\">{ this.props.t('Brunei Darussalam') }</MenuItem>\n                                        <MenuItem value=\"Bulgaria\">{ this.props.t('Bulgaria') }</MenuItem>\n                                        <MenuItem value=\"Burkina Faso\">{ this.props.t('Burkina Faso') }</MenuItem>\n                                        <MenuItem value=\"Burundi\">{ this.props.t('Burundi') }</MenuItem>\n                                        <MenuItem value=\"Cambodia\">{ this.props.t('Cambodia') }</MenuItem>\n                                        <MenuItem value=\"Cameroon\">{ this.props.t('Cameroon') }</MenuItem>\n                                        <MenuItem value=\"Canada\">{ this.props.t('Canada') }</MenuItem>\n                                        <MenuItem value=\"Cape Verde\">{ this.props.t('Cape Verde') }</MenuItem>\n                                        <MenuItem value=\"Cayman Islands\">{ this.props.t('Cayman Islands') }</MenuItem>\n                                        <MenuItem value=\"Central African Republic\">{ this.props.t('Central African Republic') }</MenuItem>\n                                        <MenuItem value=\"Chad\">{ this.props.t('Chad') }</MenuItem>\n                                        <MenuItem value=\"Chile\">{ this.props.t('Chile') }</MenuItem>\n                                        <MenuItem value=\"Christmas Island\">{ this.props.t('Christmas Island') }</MenuItem>\n                                        <MenuItem value=\"Cocos Islands\">{ this.props.t('Cocos Islands') }</MenuItem>\n                                        <MenuItem value=\"Colombia\">{ this.props.t('Colombia') }</MenuItem>\n                                        <MenuItem value=\"Comoros\">{ this.props.t('Comoros') }</MenuItem>\n                                        <MenuItem value=\"Congo\">{ this.props.t('Congo') }</MenuItem>\n                                        <MenuItem value=\"Cook Islands\">{ this.props.t('Cook Islands') }</MenuItem>\n                                        <MenuItem value=\"Costa Rica\">{ this.props.t('Costa Rica') }</MenuItem>\n                                        <MenuItem value=\"Croatia\">{ this.props.t('Croatia') }</MenuItem>\n                                        <MenuItem value=\"Cuba\">{ this.props.t('Cuba') }</MenuItem>\n                                        <MenuItem value=\"Cyprus\">{ this.props.t('Cyprus') }</MenuItem>\n                                        <MenuItem value=\"Czech Republic\">{ this.props.t('Czech Republic') }</MenuItem>\n                                        <MenuItem value=\"Denmark\">{ this.props.t('Denmark') }</MenuItem>\n                                        <MenuItem value=\"Djibouti\">{ this.props.t('Djibouti') }</MenuItem>\n                                        <MenuItem value=\"Dominica\">{ this.props.t('Dominica') }</MenuItem>\n                                        <MenuItem value=\"Dominican Republic\">{ this.props.t('Dominican Republic') }</MenuItem>\n                                        <MenuItem value=\"East Timor\">{ this.props.t('East Timor') }</MenuItem>\n                                        <MenuItem value=\"Ecuador\">{ this.props.t('Ecuador') }</MenuItem>\n                                        <MenuItem value=\"Egypt\">{ this.props.t('Egypt') }</MenuItem>\n                                        <MenuItem value=\"El Salvador\">{ this.props.t('El Salvador') }</MenuItem>\n                                        <MenuItem value=\"Equatorial Guinea\">{ this.props.t('Equatorial Guinea') }</MenuItem>\n                                        <MenuItem value=\"Eritrea\">{ this.props.t('Eritrea') }</MenuItem>\n                                        <MenuItem value=\"Estonia\">{ this.props.t('Estonia') }</MenuItem>\n                                        <MenuItem value=\"Ethiopia\">{ this.props.t('Ethiopia') }</MenuItem>\n                                        <MenuItem value=\"Falkland Islands (Malvinas)\">{ this.props.t('Falkland Islands (Malvinas)') }</MenuItem>\n                                        <MenuItem value=\"Faroe Islands\">{ this.props.t('Faroe Islands') }</MenuItem>\n                                        <MenuItem value=\"Fiji\">{ this.props.t('Fiji') }</MenuItem>\n                                        <MenuItem value=\"Finland\">{ this.props.t('Finland') }</MenuItem>\n                                        <MenuItem value=\"French Guiana\">{ this.props.t('French Guiana') }</MenuItem>\n                                        <MenuItem value=\"French Polynesia\">{ this.props.t('French Polynesia') }</MenuItem>\n                                        <MenuItem value=\"French Southern Territories\">{ this.props.t('French Southern Territories') }</MenuItem>\n                                        <MenuItem value=\"Gabon\">{ this.props.t('Gabon') }</MenuItem>\n                                        <MenuItem value=\"Gambia\">{ this.props.t('Gambia') }</MenuItem>\n                                        <MenuItem value=\"Georgia\">{ this.props.t('Georgia') }</MenuItem>\n                                        <MenuItem value=\"Ghana\">{ this.props.t('Ghana') }</MenuItem>\n                                        <MenuItem value=\"Gibraltar\">{ this.props.t('Gibraltar') }</MenuItem>\n                                        <MenuItem value=\"Guernsey\">{ this.props.t('Guernsey') }</MenuItem>\n                                        <MenuItem value=\"Greece\">{ this.props.t('Greece') }</MenuItem>\n                                        <MenuItem value=\"Greenland\">{ this.props.t('Greenland') }</MenuItem>\n                                        <MenuItem value=\"Grenada\">{ this.props.t('Grenada') }</MenuItem>\n                                        <MenuItem value=\"Guadeloupe\">{ this.props.t('Guadeloupe') }</MenuItem>\n                                        <MenuItem value=\"Guam\">{ this.props.t('Guam') }</MenuItem>\n                                        <MenuItem value=\"Guatemala\">{ this.props.t('Guatemala') }</MenuItem>\n                                        <MenuItem value=\"Guinea\">{ this.props.t('Guinea') }</MenuItem>\n                                        <MenuItem value=\"Guinea-Bissau\">{ this.props.t('Guinea-Bissau') }</MenuItem>\n                                        <MenuItem value=\"Guyana\">{ this.props.t('Guyana') }</MenuItem>\n                                        <MenuItem value=\"Haiti\">{ this.props.t('Haiti') }</MenuItem>\n                                        <MenuItem value=\"Heard and Mc Donald Islands\">{ this.props.t('Heard and Mc Donald Islands') }</MenuItem>\n                                        <MenuItem value=\"Honduras\">{ this.props.t('Honduras') }</MenuItem>\n                                        <MenuItem value=\"Hong Kong\">{ this.props.t('Hong Kong') }</MenuItem>\n                                        <MenuItem value=\"Hungary\">{ this.props.t('Hungary') }</MenuItem>\n                                        <MenuItem value=\"Iceland\">{ this.props.t('Iceland') }</MenuItem>\n                                        <MenuItem value=\"India\">{ this.props.t('India') }</MenuItem>\n                                        <MenuItem value=\"Isle of Man\">{ this.props.t('Isle of Man') }</MenuItem>\n                                        <MenuItem value=\"Indonesia\">{ this.props.t('Indonesia') }</MenuItem>\n                                        <MenuItem value=\"Iran\">{ this.props.t('Iran') }</MenuItem>\n                                        <MenuItem value=\"Iraq\">{ this.props.t('Iraq') }</MenuItem>\n                                        <MenuItem value=\"Ireland\">{ this.props.t('Ireland') }</MenuItem>\n                                        <MenuItem value=\"Israel\">{ this.props.t('Israel') }</MenuItem>\n                                        <MenuItem value=\"Ivory Coast\">{ this.props.t('Ivory Coast') }</MenuItem>\n                                        <MenuItem value=\"Jersey\">{ this.props.t('Jersey') }</MenuItem>\n                                        <MenuItem value=\"Jamaica\">{ this.props.t('Jamaica') }</MenuItem>\n                                        <MenuItem value=\"Japan\">{ this.props.t('Japan') }</MenuItem>\n                                        <MenuItem value=\"Jordan\">{ this.props.t('Jordan') }</MenuItem>\n                                        <MenuItem value=\"Kazakhstan\">{ this.props.t('Kazakhstan') }</MenuItem>\n                                        <MenuItem value=\"Kenya\">{ this.props.t('Kenya') }</MenuItem>\n                                        <MenuItem value=\"Kiribati\">{ this.props.t('Kiribati') }</MenuItem>\n                                        <MenuItem value=\"Korea\">{ this.props.t('Korea') }</MenuItem>\n                                        <MenuItem value=\"Kosovo\">{ this.props.t('Kosovo') }</MenuItem>\n                                        <MenuItem value=\"Kuwait\">{ this.props.t('Kuwait') }</MenuItem>\n                                        <MenuItem value=\"Kyrgyzstan\">{ this.props.t('Kyrgyzstan') }</MenuItem>\n                                        <MenuItem value=\"Lao People's Democratic Republic\">{ this.props.t('Lao People\\'s Democratic Republic') }</MenuItem>\n                                        <MenuItem value=\"Latvia\">{ this.props.t('Latvia') }</MenuItem>\n                                        <MenuItem value=\"Lebanon\">{ this.props.t('Lebanon') }</MenuItem>\n                                        <MenuItem value=\"Lesotho\">{ this.props.t('Lesotho') }</MenuItem>\n                                        <MenuItem value=\"Liberia\">{ this.props.t('Liberia') }</MenuItem>\n                                        <MenuItem value=\"Libyan Arab Jamahiriya\">{ this.props.t('Libyan Arab Jamahiriya') }</MenuItem>\n                                        <MenuItem value=\"Liechtenstein\">{ this.props.t('Liechtenstein') }</MenuItem>\n                                        <MenuItem value=\"Lithuania\">{ this.props.t('Lithuania') }</MenuItem>\n                                        <MenuItem value=\"Luxembourg\">{ this.props.t('Luxembourg') }</MenuItem>\n                                        <MenuItem value=\"Macau\">{ this.props.t('Macau') }</MenuItem>\n                                        <MenuItem value=\"Macedonia\">{ this.props.t('Macedonia') }</MenuItem>\n                                        <MenuItem value=\"Madagascar\">{ this.props.t('Madagascar') }</MenuItem>\n                                        <MenuItem value=\"Malawi\">{ this.props.t('Malawi') }</MenuItem>\n                                        <MenuItem value=\"Malaysia\">{ this.props.t('Malaysia') }</MenuItem>\n                                        <MenuItem value=\"Maldives\">{ this.props.t('Maldives') }</MenuItem>\n                                        <MenuItem value=\"Mali\">{ this.props.t('Mali') }</MenuItem>\n                                        <MenuItem value=\"Malta\">{ this.props.t('Malta') }</MenuItem>\n                                        <MenuItem value=\"Marshall Islands\">{ this.props.t('Marshall Islands') }</MenuItem>\n                                        <MenuItem value=\"Martinique\">{ this.props.t('Martinique') }</MenuItem>\n                                        <MenuItem value=\"Mauritania\">{ this.props.t('Mauritania') }</MenuItem>\n                                        <MenuItem value=\"Mauritius\">{ this.props.t('Mauritius') }</MenuItem>\n                                        <MenuItem value=\"Mayotte\">{ this.props.t('Mayotte') }</MenuItem>\n                                        <MenuItem value=\"Mexico\">{ this.props.t('Mexico') }</MenuItem>\n                                        <MenuItem value=\"Micronesia\">{ this.props.t('Micronesia') }</MenuItem>\n                                        <MenuItem value=\"Moldova\">{ this.props.t('Moldova') }</MenuItem>\n                                        <MenuItem value=\"Monaco\">{ this.props.t('Monaco') }</MenuItem>\n                                        <MenuItem value=\"Mongolia\">{ this.props.t('Mongolia') }</MenuItem>\n                                        <MenuItem value=\"Montenegro\">{ this.props.t('Montenegro') }</MenuItem>\n                                        <MenuItem value=\"Montserrat\">{ this.props.t('Montserrat') }</MenuItem>\n                                        <MenuItem value=\"Morocco\">{ this.props.t('Morocco') }</MenuItem>\n                                        <MenuItem value=\"Mozambique\">{ this.props.t('Mozambique') }</MenuItem>\n                                        <MenuItem value=\"Myanmar\">{ this.props.t('Myanmar') }</MenuItem>\n                                        <MenuItem value=\"Namibia\">{ this.props.t('Namibia') }</MenuItem>\n                                        <MenuItem value=\"Nauru\">{ this.props.t('Nauru') }</MenuItem>\n                                        <MenuItem value=\"Nepal\">{ this.props.t('Nepal') }</MenuItem>\n                                        <MenuItem value=\"Netherlands Antilles\">{ this.props.t('Netherlands Antilles') }</MenuItem>\n                                        <MenuItem value=\"New Caledonia\">{ this.props.t('New Caledonia') }</MenuItem>\n                                        <MenuItem value=\"New Zealand\">{ this.props.t('New Zealand') }</MenuItem>\n                                        <MenuItem value=\"Nicaragua\">{ this.props.t('Nicaragua') }</MenuItem>\n                                        <MenuItem value=\"Niger\">{ this.props.t('Niger') }</MenuItem>\n                                        <MenuItem value=\"Nigeria\">{ this.props.t('Nigeria') }</MenuItem>\n                                        <MenuItem value=\"Niue\">{ this.props.t('Niue') }</MenuItem>\n                                        <MenuItem value=\"Norfolk Island\">{ this.props.t('Norfolk Island') }</MenuItem>\n                                        <MenuItem value=\"Northern Mariana Islands\">{ this.props.t('Northern Mariana Islands') }</MenuItem>\n                                        <MenuItem value=\"Norway\">{ this.props.t('Norway') }</MenuItem>\n                                        <MenuItem value=\"Oman\">{ this.props.t('Oman') }</MenuItem>\n                                        <MenuItem value=\"Pakistan\">{ this.props.t('Pakistan') }</MenuItem>\n                                        <MenuItem value=\"Palau\">{ this.props.t('Palau') }</MenuItem>\n                                        <MenuItem value=\"Palestine\">{ this.props.t('Palestine') }</MenuItem>\n                                        <MenuItem value=\"Panama\">{ this.props.t('Panama') }</MenuItem>\n                                        <MenuItem value=\"Papua New Guinea\">{ this.props.t('Papua New Guinea') }</MenuItem>\n                                        <MenuItem value=\"Paraguay\">{ this.props.t('Paraguay') }</MenuItem>\n                                        <MenuItem value=\"Peru\">{ this.props.t('Peru') }</MenuItem>\n                                        <MenuItem value=\"Philippines\">{ this.props.t('Philippines') }</MenuItem>\n                                        <MenuItem value=\"Pitcairn\">{ this.props.t('Pitcairn') }</MenuItem>\n                                        <MenuItem value=\"Poland\">{ this.props.t('Poland') }</MenuItem>\n                                        <MenuItem value=\"Portugal\">{ this.props.t('Portugal') }</MenuItem>\n                                        <MenuItem value=\"Puerto Rico\">{ this.props.t('Puerto Rico') }</MenuItem>\n                                        <MenuItem value=\"Qatar\">{ this.props.t('Qatar') }</MenuItem>\n                                        <MenuItem value=\"Reunion\">{ this.props.t('Reunion') }</MenuItem>\n                                        <MenuItem value=\"Romania\">{ this.props.t('Romania') }</MenuItem>\n                                        <MenuItem value=\"Rwanda\">{ this.props.t('Rwanda') }</MenuItem>\n                                        <MenuItem value=\"Saint Kitts and Nevis\">{ this.props.t('Saint Kitts and Nevis') }</MenuItem>\n                                        <MenuItem value=\"Saint Lucia\">{ this.props.t('Saint Lucia') }</MenuItem>\n                                        <MenuItem value=\"Saint Vincent and the Grenadines\">{ this.props.t('Saint Vincent and the Grenadines') }</MenuItem>\n                                        <MenuItem value=\"Samoa\">{ this.props.t('Samoa') }</MenuItem>\n                                        <MenuItem value=\"San Marino\">{ this.props.t('San Marino') }</MenuItem>\n                                        <MenuItem value=\"Sao Tome and Principe\">{ this.props.t('Sao Tome and Principe') }</MenuItem>\n                                        <MenuItem value=\"Saudi Arabia\">{ this.props.t('Saudi Arabia') }</MenuItem>\n                                        <MenuItem value=\"Senegal\">{ this.props.t('Senegal') }</MenuItem>\n                                        <MenuItem value=\"Serbia\">{ this.props.t('Serbia') }</MenuItem>\n                                        <MenuItem value=\"Seychelles\">{ this.props.t('Seychelles') }</MenuItem>\n                                        <MenuItem value=\"Sierra Leone\">{ this.props.t('Sierra Leone') }</MenuItem>\n                                        <MenuItem value=\"Singapore\">{ this.props.t('Singapore') }</MenuItem>\n                                        <MenuItem value=\"Slovakia\">{ this.props.t('Slovakia') }</MenuItem>\n                                        <MenuItem value=\"Slovenia\">{ this.props.t('Slovenia') }</MenuItem>\n                                        <MenuItem value=\"Solomon Islands\">{ this.props.t('Solomon Islands') }</MenuItem>\n                                        <MenuItem value=\"Somalia\">{ this.props.t('Somalia') }</MenuItem>\n                                        <MenuItem value=\"South Africa\">{ this.props.t('South Africa') }</MenuItem>\n                                        <MenuItem value=\"South Georgia South Sandwich Islands\">{ this.props.t('South Georgia South Sandwich Islands') }</MenuItem>\n                                        <MenuItem value=\"Spain\">{ this.props.t('Spain') }</MenuItem>\n                                        <MenuItem value=\"Sri Lanka\">{ this.props.t('Sri Lanka') }</MenuItem>\n                                        <MenuItem value=\"St. Helena\">{ this.props.t('St. Helena') }</MenuItem>\n                                        <MenuItem value=\"St. Pierre and Miquelon\">{ this.props.t('St. Pierre and Miquelon') }</MenuItem>\n                                        <MenuItem value=\"Sudan\">{ this.props.t('Sudan') }</MenuItem>\n                                        <MenuItem value=\"Suriname\">{ this.props.t('Suriname') }</MenuItem>\n                                        <MenuItem value=\"Svalbard and Jan Mayen Islands\">{ this.props.t('Svalbard and Jan Mayen Islands') }</MenuItem>\n                                        <MenuItem value=\"Swaziland\">{ this.props.t('Swaziland') }</MenuItem>\n                                        <MenuItem value=\"Sweden\">{ this.props.t('Sweden') }</MenuItem>\n                                        <MenuItem value=\"Syrian Arab Republic\">{ this.props.t('Syrian Arab Republic') }</MenuItem>\n                                        <MenuItem value=\"Taiwan\">{ this.props.t('Taiwan') }</MenuItem>\n                                        <MenuItem value=\"Tajikistan\">{ this.props.t('Tajikistan') }</MenuItem>\n                                        <MenuItem value=\"Tanzania\">{ this.props.t('Tanzania') }</MenuItem>\n                                        <MenuItem value=\"Thailand\">{ this.props.t('Thailand') }</MenuItem>\n                                        <MenuItem value=\"Togo\">{ this.props.t('Togo') }</MenuItem>\n                                        <MenuItem value=\"Tokelau\">{ this.props.t('Tokelau') }</MenuItem>\n                                        <MenuItem value=\"Tonga\">{ this.props.t('Tonga') }</MenuItem>\n                                        <MenuItem value=\"Trinidad and Tobago\">{ this.props.t('Trinidad and Tobago') }</MenuItem>\n                                        <MenuItem value=\"Tunisia\">{ this.props.t('Tunisia') }</MenuItem>\n                                        <MenuItem value=\"Turkey\">{ this.props.t('Turkey') }</MenuItem>\n                                        <MenuItem value=\"Turkmenistan\">{ this.props.t('Turkmenistan') }</MenuItem>\n                                        <MenuItem value=\"Turks and Caicos Islands\">{ this.props.t('Turks and Caicos Islands') }</MenuItem>\n                                        <MenuItem value=\"Tuvalu\">{ this.props.t('Tuvalu') }</MenuItem>\n                                        <MenuItem value=\"Uganda\">{ this.props.t('Uganda') }</MenuItem>\n                                        <MenuItem value=\"Ukraine\">{ this.props.t('Ukraine') }</MenuItem>\n                                        <MenuItem value=\"United Arab Emirates\">{ this.props.t('United Arab Emirates') }</MenuItem>\n                                        <MenuItem value=\"United States minor outlying islands\">{ this.props.t('United States minor outlying islands') }</MenuItem>\n                                        <MenuItem value=\"Uruguay\">{ this.props.t('Uruguay') }</MenuItem>\n                                        <MenuItem value=\"Uzbekistan\">{ this.props.t('Uzbekistan') }</MenuItem>\n                                        <MenuItem value=\"Vanuatu\">{ this.props.t('Vanuatu') }</MenuItem>\n                                        <MenuItem value=\"Vatican City State\">{ this.props.t('Vatican City State') }</MenuItem>\n                                        <MenuItem value=\"Venezuela\">{ this.props.t('Venezuela') }</MenuItem>\n                                        <MenuItem value=\"Vietnam\">{ this.props.t('Vietnam') }</MenuItem>\n                                        <MenuItem value=\"Virgin Islands (British)\">{ this.props.t('Virgin Islands (British)') }</MenuItem>\n                                        <MenuItem value=\"Virgin Islands (U.S.)\">{ this.props.t('Virgin Islands (U.S.)') }</MenuItem>\n                                        <MenuItem value=\"Wallis and Futuna Islands\">{ this.props.t('Wallis and Futuna Islands') }</MenuItem>\n                                        <MenuItem value=\"Western Sahara\">{ this.props.t('Western Sahara') }</MenuItem>\n                                        <MenuItem value=\"Yemen\">{ this.props.t('Yemen') }</MenuItem>\n                                        <MenuItem value=\"Zaire\">{ this.props.t('Zaire') }</MenuItem>\n                                        <MenuItem value=\"Zambia\">{ this.props.t('Zambia') }</MenuItem>\n                                        <MenuItem value=\"Zimbabwe\">{ this.props.t('Zimbabwe') }</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                            <Grid item>\n                                <TextField\n                                    label={ this.props.t('City') }\n                                    className={ this.props.classes.controlItem }\n                                    value={ this.state.city }\n                                    onChange={ e => this.setState( {city: e.target.value })}\n                                />\n                            </Grid>\n                            <Grid item>\n                                <TextField\n                                    label={ this.props.t('Address') }\n                                    className={ this.props.classes.controlItemAddress }\n                                    value={ this.state.address }\n                                    onKeyUp={e => e.keyCode === 13 && this.getPositionForAddress() }\n                                    onChange={ e => this.setState( {address: e.target.value })}\n                                    helperText={ this.props.t('Used only to calculate position.')}\n                                />\n                                <Fab size=\"small\" onClick={() => this.getPositionForAddress() }><GeoIcon/></Fab>\n                            </Grid>\n                            <Grid item>\n                                <TextField\n                                    label={ this.props.t('Longitude') }\n                                    className={ this.props.classes.controlItem }\n                                    value={ this.state.longitude }\n                                    onChange={ e => this.setState( {longitude: parseFloat(e.target.value.replace(',', '.')) })}\n                                />\n                            </Grid>\n                            <Grid item>\n                                <TextField\n                                    label={ this.props.t('Latitude') }\n                                    className={ this.props.classes.controlItem }\n                                    value={ this.state.latitude }\n                                    onChange={ e => this.setState( {latitude: parseFloat(e.target.value.replace(',', '.')) })}\n                                />\n                            </Grid>\n                            <Grid item style={{textAlign: 'left'}}>\n                                <FormControl className={ this.props.classes.controlItem }>\n                                    <InputLabel>{ this.props.t('Week starts with') }</InputLabel>\n                                    <Select\n                                        value={ this.state.firstDayOfWeek }\n                                        onChange={e => this.setState({firstDayOfWeek: e.target.value}) }\n                                    >\n                                        <MenuItem value=\"monday\">{this.props.t('monday')}</MenuItem>\n                                        <MenuItem value=\"sunday\">{this.props.t('sunday')}</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item className={ this.props.classes.mapGrid }>\n                    <div id=\"map\" className={ this.props.classes.map }/>\n                </Grid>\n                </Grid>\n            <Toolbar className={ this.props.classes.toolbar }>\n                <div className={ this.props.classes.grow }/>\n                <Button variant=\"contained\" color=\"primary\" onClick={ () => this.props.onDone({\n                    tempUnit:     this.state.tempUnit,\n                    currency:     this.state.currency,\n                    dateFormat:   this.state.dateFormat,\n                    isFloatComma: this.state.isFloatComma,\n                    country:      this.state.country,\n                    city:         this.state.city,\n                    longitude:    this.state.longitude,\n                    latitude:     this.state.latitude,\n                }) } startIcon={<IconCheck/>}>{ this.props.t('Save') }</Button>\n                <div className={ this.props.classes.grow }/>\n            </Toolbar>\n        </Paper>;\n    }\n}\n\nWizardSettingsTab.propTypes = {\n    t: PropTypes.func,\n    socket: PropTypes.object,\n    onDone: PropTypes.func.isRequired,\n};\n\nexport default withWidth()(withStyles(styles)(WizardSettingsTab));\n","import { createRef, Component } from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport withWidth from \"@material-ui/core/withWidth\";\nimport PropTypes from 'prop-types';\n\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Grid';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport Paper from  '@material-ui/core/Paper';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport FormGroup from '@material-ui/core/FormGroup';\n\nimport IconCheck from '@material-ui/icons/Check';\n\nconst TOOLBAR_HEIGHT = 64;\n\nconst styles = theme => ({\n    paper: {\n        height: '100%',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        overflow: 'hidden',\n    },\n    title: {\n        color: theme.palette.secondary.main,\n    },\n    form: {\n        height: 'calc(100% - ' + (TOOLBAR_HEIGHT + theme.spacing(1)) + 'px)',\n        overflow: 'auto',\n    },\n    input: {\n        width: 400,\n        textAlign: 'left',\n    },\n    inputLine: {\n        width: 400,\n        margin: 'auto',\n        marginBottom: 50\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    toolbar: {\n        height:     TOOLBAR_HEIGHT,\n        lineHeight: TOOLBAR_HEIGHT + 'px',\n    }\n});\n\nclass WizardAuthSSLTab extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            auth: !!this.props.auth,\n            secure: !!this.props.secure,\n        };\n\n        this.focusRef = createRef();\n    }\n\n    componentDidMount() {\n        this.focusRef.current && this.focusRef.current.focus();\n    }\n\n    render() {\n        return <Paper className={ this.props.classes.paper }>\n            <form className={ this.props.classes.form} noValidate autoComplete=\"off\">\n                <Grid container direction=\"column\">\n                    <Grid item>\n                        <h2 className={ this.props.classes.title }>{ this.props.t('It is suggested to enable the authentication in admin') }</h2>\n                    </Grid>\n                    <Grid item className={this.props.classes.inputLine}>\n                        <FormGroup>\n                            <FormControlLabel\n                                className={this.props.classes.input}\n                                control={\n                                    <Checkbox\n                                        checked={this.state.auth}\n                                        onChange={() => this.setState({auth: !this.state.auth})}\n                                    />\n                                }\n                                label={this.props.t('Authentication in Admin')}\n\n                            />\n                            <FormHelperText>{this.props.t('Activate the check of password in admin if you plan to access your ioBroker is not in \"Demilitarized Zone\"')}</FormHelperText>\n                        </FormGroup>\n                    </Grid>\n                    <Grid item>\n                        <FormControl className={this.props.classes.input}>\n                            <InputLabel>{this.props.t('Certificates')}</InputLabel>\n                            <Select\n                                value={this.state.secure}\n                                onChange={e => this.setState({secure: e.target.value})}\n                            >\n                                <MenuItem value={false}>{this.props.t('No SSL')}</MenuItem>\n                                <MenuItem value={true}>{this.props.t('Use self signed certificates')}</MenuItem>\n                            </Select>\n                            <FormHelperText>{this.state.secure ?\n                                this.props.t('Browsers will inform you about the problem with self-signed certificates, but the communication is encrypted.') :\n                                this.props.t('Your communication with admin is not encrypted')}</FormHelperText>\n                        </FormControl>\n                    </Grid>\n                </Grid>\n            </form>\n            <Toolbar className={ this.props.classes.toolbar }>\n                <div className={ this.props.classes.grow }/>\n                <Button color=\"primary\" variant=\"contained\" onClick={ () => this.props.onDone({auth: this.state.auth, secure: this.state.secure}) } startIcon={<IconCheck/>}>{ this.props.t('Apply') }</Button>\n            </Toolbar>\n        </Paper>;\n    }\n}\n\nWizardAuthSSLTab.propTypes = {\n    auth: PropTypes.bool,\n    secure: PropTypes.bool,\n    t: PropTypes.func,\n    socket: PropTypes.object,\n    onDone: PropTypes.func.isRequired,\n};\n\nexport default withWidth()(withStyles(styles)(WizardAuthSSLTab));\n","import { createRef, Component } from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport withWidth from \"@material-ui/core/withWidth\";\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Paper from  '@material-ui/core/Paper';\n\nimport IconCloud from '@material-ui/icons/Public';\nimport IconCloudPro from '@material-ui/icons/Language';\nimport IconCheck from \"@material-ui/icons/Check\";\n\nconst TOOLBAR_HEIGHT = 64;\n\nconst styles = theme => ({\n    paper: {\n        height: '100%',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        overflow: 'hidden',\n    },\n    title: {\n        color: theme.palette.secondary.main,\n    },\n    form: {\n        height: 'calc(100% - ' + (TOOLBAR_HEIGHT + theme.spacing(1)) + 'px)',\n        overflow: 'auto',\n    },\n    input: {\n        width: 400,\n        marginBottom: theme.spacing(2)\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    toolbar: {\n        height: TOOLBAR_HEIGHT,\n        lineHeight: TOOLBAR_HEIGHT + 'px',\n    },\n    text: {\n        fontSize: 16,\n    },\n\n    error: {\n        fontSize: 24,\n        color: '#c61f1f'\n    },\n    warning: {\n        fontSize: 20,\n        color: '#c6891f'\n    },\n    information: {\n        fontSize: 18,\n        color: '#429c1b'\n    },\n    button: {\n        marginRight: theme.spacing(2),\n    },\n});\n\nclass WizardPortForwarding extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            auth: true,\n            secure: false\n        };\n\n        this.focusRef = createRef();\n    }\n\n    componentDidMount() {\n        this.focusRef.current && this.focusRef.current.focus();\n    }\n\n    render() {\n        return <Paper className={ this.props.classes.paper }>\n            <form className={ this.props.classes.form} noValidate autoComplete=\"off\">\n                <Grid container direction=\"column\">\n                    <Grid item>\n                        <h2 className={ this.props.classes.title }>{ this.props.t('Important information about port forwarding') }</h2>\n                    </Grid>\n                    <Grid item>\n                        {!this.props.auth ? <div className={this.props.classes.error}>{this.props.t('Warning!')}</div> : null}\n                        {this.props.auth && !this.props.secure ? <div className={this.props.classes.warning}>{this.props.t('Be aware!')}</div> : null}\n                        {this.props.auth && this.props.secure ? <div className={this.props.classes.information}>{this.props.t('Information')}</div> : null}\n\n                        <div className={this.props.classes.text}>{this.props.t('Do not expose iobroker Admin or Web interfaces to the internet directly via the port forwarding!')}</div>\n                    </Grid>\n                    <Grid item style={{marginTop: 16}}>\n                        <div className={this.props.classes.text}>{this.props.t('The Cloud services from iobroker.net/pro can help here to do that securely:')}</div>\n                    </Grid>\n                    <Grid item style={{marginTop: 16}}>\n                        <Button\n                            className={this.props.classes.button}\n                            color=\"secondary\"\n                            variant=\"contained\"\n                            onClick={ () => window.open('https://iobroker.pro', 'help') }\n                            startIcon={<IconCloudPro />}\n                        >ioBroker.pro</Button>\n                        <Button\n                            color=\"secondary\"\n                            variant=\"contained\"\n                            onClick={ () => window.open('https://iobroker.net', 'help') }\n                            startIcon={<IconCloud />}\n                        >ioBroker.net</Button>\n                    </Grid>\n                </Grid>\n            </form>\n            <Toolbar className={ this.props.classes.toolbar }>\n                <div className={ this.props.classes.grow }/>\n                <Button color=\"primary\" variant=\"contained\" onClick={ () => this.props.onDone(this.state.password) } startIcon={<IconCheck/>}>{ this.props.t('Understand') }</Button>\n            </Toolbar>\n        </Paper>;\n    }\n}\n\nWizardPortForwarding.propTypes = {\n    auth: PropTypes.bool,\n    secure: PropTypes.bool,\n    t: PropTypes.func,\n    socket: PropTypes.object,\n    onDone: PropTypes.func.isRequired,\n};\n\nexport default withWidth()(withStyles(styles)(WizardPortForwarding));\n","import { Component } from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport withWidth from \"@material-ui/core/withWidth\";\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\n\nimport ToggleThemeMenu from '../components/ToggleThemeMenu';\n\n// Icons\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport WizardPasswordTab from '../components/Wizard/WizardPasswordTab';\nimport WizardLicenseTab from '../components/Wizard/WizardLicenseTab';\nimport WizardFinishImage from '../assets/wizard-finish.jpg';\nimport WizardWelcomeImage from '../assets/wizard-welcome.jpg';\nimport WizardSettingsTab from '../components/Wizard/WizardSettingsTab';\nimport WizardAuthSSLTab from '../components/Wizard/WizardAuthSSLTab';\nimport WizardPortForwarding from '../components/Wizard/WizardPortForwarding';\nimport Logo from '../assets/logo.png';\nimport LongLogo from '../assets/longLogo.svg';\nimport Router from \"@iobroker/adapter-react/Components/Router\";\n\nconst TOOLBAR_HEIGHT = 64;\n\nconst styles = theme => ({\n    dialog: {\n        height: '100%',\n        maxHeight: '100%',\n        maxWidth: '100%',\n    },\n    paper: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden'\n    },\n    content: {\n        textAlign: 'center',\n    },\n    tabPanel: {\n        width: '100%',\n        overflow: 'hidden',\n        height: 'calc(100% - ' + 72 + 'px)',\n    },\n    fullHeightWithoutToolbar: {\n        height: 'calc(100% - ' + TOOLBAR_HEIGHT + 'px)',\n        width: '100%',\n        overflow: 'auto',\n    },\n    finishBackground: {\n        backgroundImage: 'url(' + WizardFinishImage + ')',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    welcomeBackground: {\n        backgroundImage: 'url(' + WizardWelcomeImage + ')',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    playIcon: {\n        marginLeft: theme.spacing(1),\n    },\n    toolbar: {\n        height: TOOLBAR_HEIGHT,\n    },\n    logo: {\n        width: 32,\n        height: 32,\n        float: 'right',\n        borderRadius: '50%',\n        background: 'white',\n    },\n    themeButton: {\n        float: 'right',\n        display: 'inline-block',\n        marginTop: -1,\n        marginRight: theme.spacing(1)\n    },\n\n    finalText: {\n        fontSize: 48,\n        marginTop: 80,\n        color: '#265063',\n        fontWeight: 'bold'\n    },\n    finalLongLogo: {\n        width: 500,\n    }\n});\n\nclass WizardDialog extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            exitAvailable: false,\n            activeStep: 0,\n            auth: false,\n            secure: false,\n        };\n        this.adminInstance = null;\n\n        this.password = '';\n\n        this.lastPage = 1;\n    }\n\n    componentDidMount() {\n        this.props.socket.getCurrentInstance()\n            .then(namespace =>\n                this.props.socket.getObject('system.adapter.' + namespace)\n                    .then(obj => {\n                        this.adminInstance = obj;\n                        this.setState({auth: obj.native.auth, secure: obj.native.secure})\n                    }));\n    }\n\n    renderWelcome() {\n        // shutterstock Standard commercial license on ioBroker GmbH: https://www.shutterstock.com/de/image-vector/welcome-neon-text-vector-sign-design-1186433386\n        return <div className={ clsx(this.props.classes.paper, this.props.classes.welcomeBackground) }>\n            <div className={ this.props.classes.fullHeightWithoutToolbar }>\n\n            </div>\n            <Toolbar className={ this.props.classes.toolbar }>\n                <div className={ this.props.classes.grow }/>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={ () =>\n                        this.props.socket.getCompactSystemConfig(true)\n                            .then(obj =>\n                                this.setState( {activeStep: this.state.activeStep + 1 + (obj.common.licenseConfirmed ? 0 : 0) }))\n                    }>\n                    { this.props.t('Start wizard') } <PlayArrowIcon className={ this.props.classes.playIcon }/></Button>\n                <div className={ this.props.classes.grow }/>\n            </Toolbar>\n        </div>;\n    }\n\n    renderLicense() {\n        return <WizardLicenseTab\n            t={ this.props.t }\n            socket={ this.props.socket }\n            themeName={ this.props.themeName }\n            onDone={ () => {\n                this.props.socket.getSystemConfig(true)\n                    .then(obj => {\n                        obj.common.licenseConfirmed = true;\n                        return this.props.socket.setSystemConfig(obj);\n                    })\n                    .then(() => this.setState( {activeStep: this.state.activeStep + 1 }));\n            } }\n        />;\n    }\n\n    renderPassword() {\n        return <WizardPasswordTab\n            t={ this.props.t }\n            socket={ this.props.socket }\n            themeName={ this.props.themeName }\n            onDone={ pass =>\n                this.props.socket.changePassword('admin', pass)\n                    .then(() =>\n                        this.setState( {activeStep: this.state.activeStep + 1 }))}\n        />;\n    }\n\n    renderSettings() {\n        return <WizardSettingsTab\n            t={ this.props.t }\n            socket={ this.props.socket }\n            themeName={ this.props.themeName }\n            onDone={settings =>\n                this.props.socket.getSystemConfig(true)\n                    .then(obj => {\n                        Object.assign(obj.common, settings);\n                        return this.props.socket.setSystemConfig(obj);\n                    })\n                    .then(() => this.setState({activeStep: this.state.activeStep + 1}))\n            }\n        />;\n    }\n\n    renderAuthentication() {\n        return <WizardAuthSSLTab\n            t={ this.props.t }\n            auth={this.state.auth}\n            secure={this.state.secure}\n            socket={ this.props.socket }\n            themeName={ this.props.themeName }\n            onDone={settings =>\n                this.setState(settings, () => this.setState({activeStep: this.state.activeStep + 1}))}\n        />;\n    }\n\n    renderPortForwarding() {\n        return <WizardPortForwarding\n            t={ this.props.t }\n            socket={ this.props.socket }\n            themeName={ this.props.themeName }\n            auth={this.state.auth}\n            secure={this.state.secure}\n            onDone={() =>\n                this.setState({activeStep: this.state.activeStep + 1})}\n        />;\n    }\n\n    async onClose() {\n        // read if discovery is available\n        const discovery = await this.props.socket.getState('system.adapter.discovery.0.alive');\n\n        if (this.adminInstance) {\n            let certPublic;\n            let certPrivate;\n            if (this.adminInstance.native.secure !== this.state.secure || this.adminInstance.native.auth !== this.state.auth) {\n                if (this.state.secure && (!this.adminInstance.certPublic || !!this.adminInstance.certPrivate)) {\n                    // get certificates\n                    try {\n                        const certs = await this.props.socket.getCertificates();\n                        certPublic  = certs && certs.find(c => c.type === 'public');\n                        certPrivate = certs && certs.find(c => c.type === 'private');\n                    } catch (e) {\n                        window.alert('Cannot read certificates: ' + e);\n                    }\n                }\n                this.adminInstance.native.auth = this.state.auth;\n\n                if (this.state.secure) {\n                    if (!(this.adminInstance.native.certPublic  || certPublic) ||\n                        !(this.adminInstance.native.certPrivate || certPrivate))\n                    {\n                        window.alert(this.props.t('Cannot enable authentication as no certificates found!'));\n                        this.adminInstance.native.secure = false;\n\n                        await this.props.socket.setObject(this.adminInstance._id, this.adminInstance);\n                        setTimeout(() => window.location = `http://${window.location.host}/#tab-adapters${discovery ? '/discovery' : ''}`, 1000);\n                        return this.props.onClose();\n                    } else {\n                        this.adminInstance.native.secure      = this.state.secure;\n                        this.adminInstance.native.certPublic  = this.adminInstance.native.certPublic  || certPublic.name;\n                        this.adminInstance.native.certPrivate = this.adminInstance.native.certPrivate || certPrivate.name;\n                    }\n                }\n\n                await this.props.socket.setObject(this.adminInstance._id, this.adminInstance);\n\n                // redirect to https or http\n                setTimeout(() => {\n                    if (this.adminInstance.native.secure) {\n                        window.location = `https://${window.location.host}/#tab-adapters${discovery ? '/discovery' : ''}`;\n                    } else {\n                        window.location = `http://${window.location.host}/#tab-adapters${discovery ? '/discovery' : ''}`;\n                    }\n                }, 1000);\n\n                this.props.onClose();\n            } else {\n                Router.doNavigate('tab-adapters', discovery ? 'discovery' : undefined);\n                this.props.onClose();\n            }\n        } else {\n            Router.doNavigate('tab-adapters', discovery ? 'discovery' : undefined);\n            this.props.onClose();\n        }\n    }\n\n    renderFinish() {\n        // Free Image license: https://pixabay.com/illustrations/road-sky-mountains-clouds-black-908176/\n        return <div className={ clsx(this.props.classes.paper, this.props.classes.finishBackground) }>\n            <div className={ this.props.classes.fullHeightWithoutToolbar }>\n                <div className={this.props.classes.finalText}>{this.props.t('Have fun automating your home with')}</div>\n                <img src={LongLogo} alt=\"ioBroker\" className={this.props.classes.finalLongLogo}/>\n            </div>\n            <Toolbar className={ this.props.classes.toolbar }>\n                <div className={ this.props.classes.grow }/>\n                <Button variant=\"contained\" color=\"primary\" onClick={ async () => await this.onClose() } startIcon={<CheckIcon/>}>{ this.props.t('Finish') }</Button>\n                <div className={ this.props.classes.grow }/>\n            </Toolbar>\n        </div>;\n    }\n\n    render() {\n        return <Dialog\n            className={ this.props.classes.dialog }\n            open={ true }\n            onClose={ () => {} }\n            fullWidth={ true }\n            fullScreen={ true }\n            aria-labelledby=\"wizard-dialog-title\"\n        >\n            <DialogTitle id=\"wizard-dialog-title\">{ this.props.t('Initial ioBroker setup') } <img src={Logo} className={this.props.classes.logo} alt=\"logo\"/><ToggleThemeMenu className={this.props.classes.themeButton} t={this.props.t} toggleTheme={this.props.toggleTheme} themeName={this.props.themeName} size=\"small\"/></DialogTitle>\n            <DialogContent className={ this.props.classes.content }>\n                <AppBar position=\"static\">\n                    <Stepper activeStep={ this.state.activeStep }>\n                        <Step><StepLabel>{ this.props.t('Welcome') }</StepLabel></Step>\n                        <Step><StepLabel>{ this.props.t('License agreement') }</StepLabel></Step>\n                        <Step><StepLabel>{ this.props.t('Password') }</StepLabel></Step>\n                        <Step><StepLabel>{ this.props.t('Authentication') }</StepLabel></Step>\n                        <Step><StepLabel>{ this.props.t('Port forwarding') }</StepLabel></Step>\n                        <Step><StepLabel>{ this.props.t('Settings') }</StepLabel></Step>\n                        <Step><StepLabel>{ this.props.t('Finish') }</StepLabel></Step>\n                    </Stepper>\n                </AppBar>\n                {this.state.activeStep === 0 ? <div className={ this.props.classes.tabPanel }>{ this.renderWelcome()        }</div> : null }\n                {this.state.activeStep === 1 ? <div className={ this.props.classes.tabPanel }>{ this.renderLicense()        }</div> : null }\n                {this.state.activeStep === 2 ? <div className={ this.props.classes.tabPanel }>{ this.renderPassword()       }</div> : null }\n                {this.state.activeStep === 3 ? <div className={ this.props.classes.tabPanel }>{ this.renderAuthentication() }</div> : null }\n                {this.state.activeStep === 4 ? <div className={ this.props.classes.tabPanel }>{ this.renderPortForwarding() }</div> : null }\n                {this.state.activeStep === 5 ? <div className={ this.props.classes.tabPanel }>{ this.renderSettings()       }</div> : null }\n                {this.state.activeStep === 6 ? <div className={ this.props.classes.tabPanel }>{ this.renderFinish()         }</div> : null }\n            </DialogContent>\n        </Dialog>;\n    }\n}\n\nWizardDialog.propTypes = {\n    t: PropTypes.func,\n    lang: PropTypes.string,\n    socket: PropTypes.object,\n    onClose: PropTypes.func,\n    toggleTheme: PropTypes.func,\n    themeName: PropTypes.string,\n};\n\nexport default withWidth()(withStyles(styles)(WizardDialog));\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MapContainer as LeafletMap, TileLayer } from 'react-leaflet';\nimport { OpenStreetMapProvider } from 'leaflet-geosearch';\n\nimport withWidth from '@material-ui/core/withWidth';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport {FormHelperText} from '@material-ui/core';\n\nimport Utils from '../../Utils';\nimport countries from '../../assets/json/countries';\n\nimport ConfirmDialog from '@iobroker/adapter-react/Dialogs/Confirm';\n\nconst styles = theme => ({\n    tabPanel: {\n        width: '100%',\n        height: '100% ',\n        overflow: 'auto',\n        overflowX: 'hidden',\n        padding: 15,\n        //backgroundColor: blueGrey[ 50 ]\n    },\n    formControl: {\n        marginRight: theme.spacing(1),\n        minWidth: '100%',\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2),\n    },\n    map: {\n        borderRadius: 5\n    }\n});\n\nclass MainSettingsDialog extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            values: [],\n            data: {},\n            zoom: 14\n        };\n    }\n\n    getSettings() {\n        return [\n            {\n                id: 'language',\n                title: 'System language:',\n                translate: false,\n                values: [\n                    {\n                        id: 'en',\n                        title: 'English'\n                    },\n                    {\n                        id: 'de',\n                        title: 'Deutsch'\n                    },\n                    {\n                        id: 'ru',\n                        title: 'русский'\n                    },\n                    {\n                        id: 'pt',\n                        title: 'Portugues'\n                    },\n                    {\n                        id: 'nl',\n                        title: 'Nederlands'\n                    },\n                    {\n                        id: 'fr',\n                        title: 'français'\n                    },\n                    {\n                        id: 'it',\n                        title: 'Italiano'\n                    },\n                    {\n                        id: 'es',\n                        title: 'Espanol'\n                    },\n                    {\n                        id: 'pl',\n                        title: 'Polski'\n                    },\n                    {\n                        id: 'zh-ch',\n                        title: '简体中文'\n                    }\n                ]\n            },\n            {\n                id: 'tempUnit',\n                title: 'Temperature units',\n                translate: false,\n                values: [\n                    {\n                        id: '°C',\n                        title: '°C'\n                    },\n                    {\n                        id: '°F',\n                        title: '°F'\n                    }\n                ]\n            },\n            {\n                id: 'currency',\n                title: 'Currency sign',\n                translate: false,\n                allowText: true,\n                values: [\n                    {\n                        id: '€',\n                        title: '€'\n                    },\n                    {\n                        id: '$',\n                        title: '$'\n                    },\n                    {\n                        id: '₽',\n                        title: '₽'\n                    },\n                    {\n                        id: '₤',\n                        title: '₤'\n                    },\n                    {\n                        id: 'CHF',\n                        title: 'CHF'\n                    }\n                ]\n            },\n            {\n                id: 'dateFormat',\n                title: 'Date format',\n                translate: true,\n                values: [\n                    {\n                        id: 'DD.MM.YYYY',\n                        title: 'DD.MM.YYYY'\n                    },\n                    {\n                        id: 'YYYY.MM.DD',\n                        title: 'YYYY.MM.DD'\n                    },\n                    {\n                        id: 'MM/DD/YYYY',\n                        title: 'MM/DD/YYYY'\n                    }\n                ]\n            },\n            {\n                id: 'isFloatComma',\n                title: 'Float divider sign',\n                translate: true,\n                values: [\n                    {\n                        id: true,\n                        title: 'comma'\n                    },\n                    {\n                        id: false,\n                        title: 'point'\n                    }\n                ]\n            },\n            {\n                id: 'defaultHistory',\n                title: 'Default History',\n                values: [{ id: '', title: this.props.t('None') }, ...this.props.histories.map(history => {\n                    return {\n                        id: history,\n                        title: history\n                    }\n                })]\n            },\n            {\n                id: 'activeRepo',\n                title: 'Default Repository',\n                translate: false,\n                values: Utils.objectMap(this.props.dataAux.native.repositories, (repo, name) => {\n                    return {\n                        id: name,\n                        title: name\n                    }\n                })\n            },\n            {\n                id: 'expertMode',\n                title: 'Expert mode',\n                values: [{ id: true, title: 'on' }, { id: false, title: 'off (default)' }]\n            },\n            {\n                id: 'defaultLogLevel',\n                title: 'Default log level',\n                help: 'for new instances',\n                translate: false,\n                values: [{ id: 'debug', title: 'debug' }, { id: 'info', title: 'info' }, { id: 'warn', title: 'warn' }, { id: 'error', title: 'error' }]\n            }\n        ];\n    }\n\n    onMap = map => {\n        this.map = map;\n        const center = [\n            parseFloat(this.props.data.common.latitude  !== undefined ? this.props.data.common.latitude  : 50) || 0,\n            parseFloat(this.props.data.common.longitude !== undefined ? this.props.data.common.longitude : 10) || 0\n        ];\n\n        this.marker = window.L.marker(\n            center,\n            {\n                draggable: true,\n                title: 'Resource location',\n                alt: 'Resource Location',\n                riseOnHover: true\n            }\n        )\n            .addTo(map)\n            .bindPopup('Popup for any custom information.')\n            .on({\n                dragend: evt => this.onMarkerDragend(evt)\n            });\n    }\n\n    getSelect(e, i) {\n        const { classes } = this.props;\n        let value = this.props.data.common[e.id];\n\n        if (e.id === 'defaultLogLevel' && !value) {\n            value = 'info';\n        }\n\n        // if disabled by vendor settings\n        if (this.props.adminGuiConfig.admin.settings && this.props.adminGuiConfig.admin.settings[e.id] === false) {\n            return null;\n        }\n\n        // If value is not in known values, show text input\n        if (e.allowText && value && !e.values.find(elem => elem.id === value)) {\n            return <Grid item sm={6} xs={12} key={i}>\n                <FormControl className={classes.formControl}>\n                    <InputLabel shrink id={e.id + '-label'}>\n                        {this.props.t(e.title)}\n                    </InputLabel>\n                    <TextField\n                        id={e.id}\n                        value={value.toString()}\n                        InputLabelProps={{readOnly: false, shrink: true}}\n                        onChange={evt => this.handleChange(evt, i)}\n                        helperText={e.help ? this.props.t(e.help) : ''}\n                    />\n                </FormControl>\n            </Grid>;\n        }\n\n        const items = e.values.map((elem, index) => <MenuItem value={elem.id} key={index}>\n            {e.translate ? this.props.t(elem.title || elem.id) : elem.title || elem.id}\n        </MenuItem>);\n\n        return <Grid item sm={6} xs={12} key={i}>\n            <FormControl className={classes.formControl}>\n                <InputLabel shrink id={e.id + '-label'}>\n                    {this.props.t(e.title)}\n                </InputLabel>\n                <Select\n                    className={classes.formControl}\n                    id={e.id}\n                    value={value === undefined ? false : value}\n                    onChange={evt => this.handleChange(evt, i)}\n                    displayEmpty\n                >\n                    {items}\n                </Select>\n                {e.help ? <FormHelperText>{this.props.t(e.help)}</FormHelperText> : null}\n            </FormControl>\n        </Grid>;\n    }\n\n    renderConfirmDialog() {\n        if (this.state.confirm) {\n            return <ConfirmDialog\n                text={this.props.t('confirm_change_repo')}\n                onClose={result => {\n                    const value = this.state.confirmValue;\n                    this.setState({ confirm: false, confirmValue: null }, () => {\n                        if (result) {\n                            this.doChange('activeRepo', value);\n                        }\n                    });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCounters = () => {\n        const { classes } = this.props;\n        const items = countries.map((elem, index) => <MenuItem value={elem.name} key={index}>\n            {this.props.t(elem.name)}\n        </MenuItem>);\n\n        return <FormControl className={classes.formControl}>\n            <InputLabel shrink id={'country-label'}>\n                {this.props.t('Country:')}\n            </InputLabel>\n            <Select\n                className={classes.formControl}\n                id={'country'}\n                value={this.props.data.common.country}\n                onChange={this.handleChangeCountry}\n                displayEmpty\n            >\n                {items}\n            </Select>\n        </FormControl>;\n    }\n\n    handleChangeCountry = evt => {\n        const value = evt.target.value;\n        const id = 'country';\n        this.doChange(id, value);\n    }\n\n    onChangeText = (evt, id) => {\n        const value = evt.target.value;\n        this.onChangeInput(value, id);\n    }\n\n    onChangeInput = (value, id) => {\n        this.doChange(id, value);\n    }\n\n    onChangeCity = (evt) => {\n        this.onChangeText(evt, 'city');\n        const provider = new OpenStreetMapProvider();\n\n        provider.search({ query: evt.target.value })\n            .then(results => {\n                if (results[0]) {\n                    setTimeout(() => {\n                        this.onChangeInput(results[0].y, 'latitude');\n                        this.onChangeInput(results[0].x, 'longitude');\n                        this.onChangeInput(23, 'zoom');\n                        this.map.flyTo(\n                            [results[0].y, results[0].x]\n                        );\n                        this.marker.setLatLng([results[0].y, results[0].x]);\n                    }, 1200);\n                }\n            });\n    }\n\n    handleChange = (evt, selectId) => {\n        const value = evt.target.value;\n        const id = this.getSettings()[selectId].id;\n\n        if (id === 'activeRepo' && value !== 'stable' && value !== 'default') {\n            this.setState({ confirm: true, confirmValue: value });\n        } else {\n            this.doChange(id, value);\n        }\n    }\n\n    doChange = (name, value) => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        newData.common[name] = value;\n        this.props.onChange(newData);\n    }\n\n    onMarkerDragend = evt => {\n        const ll = evt.target._latlng;\n        this.doChange('latitude',  ll.lat);\n        this.doChange('longitude', ll.lng);\n    }\n\n    render() {\n        const { classes } = this.props;\n        const selectors = this.getSettings().map((e, i) => this.getSelect(e, i));\n\n        const center = [\n            parseFloat(this.props.data.common.latitude  !== undefined ? this.props.data.common.latitude  : 50) || 0,\n            parseFloat(this.props.data.common.longitude !== undefined ? this.props.data.common.longitude : 10) || 0\n        ];\n\n        const { zoom } = this.state;\n        return <div className={classes.tabPanel}>\n            {this.renderConfirmDialog()}\n            <Grid container spacing={3}>\n                <Grid item lg={6} md={12}>\n                    <Grid container spacing={3}>\n                        {selectors}\n                    </Grid>\n                </Grid>\n                <Grid item lg={6} md={12} style={{ width: '100%' }}>\n                    <LeafletMap\n                        className={classes.map}\n                        center={center}\n                        zoom={zoom}\n                        maxZoom={18}\n                        attributionControl={true}\n                        zoomControl={true}\n                        doubleClickZoom={true}\n                        scrollWheelZoom={true}\n                        dragging={true}\n                        animate={true}\n                        easeLinearity={0.35}\n                        whenCreated={this.onMap}\n                    >\n                        <TileLayer\n                            url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\"\n                        />\n                    </LeafletMap>\n                </Grid>\n            </Grid>\n            <Grid container spacing={6}>\n                <Grid item md={3} sm={6} xs={12}>\n                    {this.getCounters()}\n                </Grid>\n                <Grid item md={3} sm={6} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel shrink id={'city-label'}>\n                            {this.props.t('City:')}\n                        </InputLabel>\n                        <TextField\n                            id=\"city\"\n                            label={this.props.t('City:')}\n                            value={this.props.data.common.city}\n                            InputLabelProps={{\n                                readOnly: false,\n                                shrink: true,\n                            }}\n                            onChange={evt => this.onChangeCity(evt)}\n                        />\n                    </FormControl>\n                </Grid>\n                <Grid item md={3} sm={6} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel shrink id=\"latitude-label\">\n                            {this.props.t('Latitude:')}\n                        </InputLabel>\n                        <TextField\n                            id=\"latitude\"\n                            label={this.props.t('Latitude:')}\n                            value={this.props.data.common.latitude || 0}\n                            InputLabelProps={{\n                                readOnly: false,\n                                shrink: true,\n                            }}\n                            onChange={evt => this.onChangeText(evt, 'latitude')}\n                        />\n                    </FormControl>\n                </Grid>\n                <Grid item md={3} sm={6} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel shrink id=\"longitude-label\">\n                            {this.props.t('Longitude:')}\n                        </InputLabel>\n                        <TextField\n                            id=\"longitude\"\n                            label={this.props.t('Longitude:')}\n                            value={this.props.data.common.longitude || 0}\n                            InputLabelProps={{\n                                readOnly: false,\n                                shrink: true,\n                            }}\n                            onChange={evt => this.onChangeText(evt, 'longitude')}\n                        />\n                    </FormControl>\n                </Grid>\n            </Grid>\n        </div>;\n    }\n}\n\nMainSettingsDialog.propTypes = {\n    t: PropTypes.func,\n    data: PropTypes.object,\n    dataAux: PropTypes.object,\n    adminGuiConfig: PropTypes.object,\n};\n\nexport default withWidth()(withStyles(styles)(MainSettingsDialog));\n","// RepositoriesDialog\nimport {Component} from 'react';\nimport clsx from 'clsx';\nimport withWidth from '@material-ui/core/withWidth';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nimport Fab from '@material-ui/core/Fab';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Utils from '../../Utils';\n\n\nconst styles = theme => ({\n    tabPanel: {\n        width: '100%',\n        height: '100% ',\n        overflow: 'auto',\n        overflowX: 'hidden',\n        padding: 15,\n        //backgroundColor: blueGrey[ 50 ]\n    },\n    table: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%'\n    },\n    buttonPanel: {\n        paddingBottom: 40,\n        display: 'flex'\n    },\n    descriptionPanel: {\n        width: '100%',\n        backgroundColor: 'transparent',\n        marginLeft: 40,\n        border: 'none',\n        display: 'flex',\n        alignItems: 'center'\n    },\n    littleRow: {\n        width: 110\n    },\n    nameRow: {\n        width: 220\n    },\n    input: {\n        width: '100%'\n    }\n});\n\nclass RepositoriesDialog extends Component {\n    repoToArray(repos) {\n        return Utils.objectMap(repos, (repo, name) => {\n            return {\n                title: name,\n                link: repo.link\n            }\n        });\n    }\n\n    arrayToRepo(array) {\n        let result = {};\n        for (let k in array) {\n            result[array[k].title] = {\n                link: array[k].link\n            }\n        }\n\n        return result;\n    }\n\n    render() {\n        const {classes} = this.props;\n        const arr = this.repoToArray(this.props.data.native.repositories);\n\n        const rows = arr.map((e, i) => {\n            return <TableRow key={i} className=\"float_row\">\n                <TableCell className={clsx(this.props.classes.littleRow, 'float_cell')}>\n                    {i + 1}\n                </TableCell>\n                <TableCell className={clsx(this.props.classes.nameRow, 'float_cell')}>\n                    <TextField\n                        value={e.title}\n                        InputLabelProps={{\n                            readOnly: false,\n                            shrink: true,\n                        }}\n                        className={clsx(this.props.classes.input, 'xs-centered')}\n                        onChange={evt => this.onChangeText(evt, e.title, 'title')}\n                    />\n                </TableCell>\n                <TableCell className={clsx('grow_cell', 'float_cell')}>\n                    <TextField\n                        id={'default_' + i}\n                        value={e.link}\n                        InputLabelProps={{\n                            readOnly: false,\n                            shrink: true,\n                        }}\n                        className={clsx(this.props.classes.input, 'xs-centered')}\n                        onChange={evt => this.onChangeText(evt, e.title, 'link')}\n                    />\n                </TableCell>\n                <TableCell className={clsx(this.props.classes.littleRow, 'float_cell')}>\n                    <Fab\n                        size=\"small\"\n                        color=\"secondary\"\n                        aria-label=\"add\"\n                        onClick={() => this.onDelete(e.title)}\n                    >\n                        <DeleteIcon/>\n                    </Fab>\n                </TableCell>\n            </TableRow>\n        })\n        return <div className={classes.tabPanel}>\n            <div className={classes.buttonPanel}>\n                <Fab\n                    size=\"small\"\n                    color=\"primary\"\n                    aria-label=\"add\"\n                    onClick={this.onAdd}\n                    className=\"small_size\"\n                >\n                    <AddIcon/>\n                </Fab>\n                <Paper variant=\"outlined\" className={classes.descriptionPanel}/>\n            </div>\n            <TableContainer>\n                <Table className={classes.table} aria-label=\"customized table\">\n                    <TableHead>\n                        <TableRow className=\"float_row\">\n                            <TableCell className={clsx(this.props.classes.littleRow, 'float_cell')}> </TableCell>\n                            <TableCell className={clsx(this.props.classes.nameRow, 'float_cell')}>\n                                {this.props.t('name')}\n                            </TableCell>\n                            <TableCell className=\"grow_cell float_cell\">\n                                {this.props.t('link')}\n                            </TableCell>\n                            <TableCell className={clsx(this.props.classes.littleRow, 'float_cell')}> </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {rows}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>;\n    }\n\n    onChangeText = (evt, id, name) => {\n        const value = evt.target.value;\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        let array = this.repoToArray(newData.native.repositories);\n        array.find(element => element.title === id)[name] = value;\n        newData.native.repositories = this.arrayToRepo(array);\n        this.props.onChange(newData);\n        if (this.props.dataAux.common.activeRepo === id && name === 'title') {\n            this.props.onChange(newData, this.getUpdateDefaultRepo(value));\n        } else {\n            this.props.onChange(newData);\n        }\n    }\n\n    onDelete = id => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        let array = this.repoToArray(newData.native.repositories);\n        let index = array.findIndex(element => element.title === id);\n        delete array[index];\n        newData.native.repositories = this.arrayToRepo(array);\n        if (this.props.dataAux.common.activeRepo === id) {\n            if (Object.keys(newData.native.repositories).length) {\n                this.props.onChange(newData, this.getUpdateDefaultRepo(Object.keys(newData.native.repositories)[0]));\n            } else {\n                this.props.onChange(newData, this.getUpdateDefaultRepo(''));\n            }\n        } else {\n            this.props.onChange(newData);\n        }\n    }\n\n    onAdd = () => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        let array = this.repoToArray(newData.native.repositories);\n        array.push({\n            title: '__',\n            link: ''\n        });\n        newData.native.repositories = this.arrayToRepo(array);\n        this.props.onChange(newData);\n    }\n\n    getUpdateDefaultRepo = newRepo => {\n        let newConfig = JSON.parse(JSON.stringify(this.props.dataAux));\n        newConfig.common.activeRepo = newRepo;\n        return newConfig;\n    }\n}\n\nRepositoriesDialog.propTypes = {\n    t: PropTypes.func,\n    data: PropTypes.object,\n    dataAux: PropTypes.object,\n};\n\nexport default withWidth()(withStyles(styles)(RepositoriesDialog));\n","// CertificatesDialog.js\nimport {Component} from 'react';\nimport clsx from 'clsx';\nimport Dropzone from 'react-dropzone'\n\nimport withWidth from '@material-ui/core/withWidth';\nimport {withStyles} from '@material-ui/core/styles';\n\nimport Fab from '@material-ui/core/Fab';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TextField from '@material-ui/core/TextField';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Utils from '../../Utils';\nimport PropTypes from \"prop-types\";\n\n// icons\n\nconst styles = theme => ({\n    tabPanel: {\n        width: '100%',\n        height: '100% ',\n        overflow: 'auto',\n        overflowX: 'hidden',\n        padding: 15,\n        position: 'relative'\n    },\n    tableContainer: {\n        zIndex: 100\n    },\n    table: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%'\n    },\n    buttonPanel: {\n        paddingBottom: 40,\n        display: 'flex'\n    },\n    descriptionPanel: {\n        width: '100%',\n        backgroundColor: 'transparent',\n        marginLeft: 40,\n        border: 'none',\n        display: 'flex',\n        alignItems: 'center'\n    },\n    littleRow: {\n        width: 110\n    },\n    nameRow: {\n        width: 220\n    },\n    input: {\n        width: '100%'\n    }\n});\n\nclass CertificatesDialog extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            chClass: false\n        };\n    }\n\n    certToArray(certs) {\n        return Utils.objectMap(certs, (cert, name) => {\n            return {\n                title: name,\n                data: cert\n            }\n        });\n    }\n\n    arrayToCert(array) {\n        let result = {};\n        for (let k in array) {\n            result[array[k].title] = array[k].data\n        }\n\n        return result;\n    }\n\n    render() {\n        const {classes} = this.props;\n        const arr = this.certToArray(this.props.data.native.certificates);\n        const rows = arr.map((e, i) => {\n            return <TableRow key={i} className=\"float_row\">\n                <TableCell className={this.props.classes.littleRow + ' float_cell'}>\n                    {i + 1}\n                </TableCell>\n                <TableCell className={this.props.classes.nameRow + ' float_cell'}>\n                    <TextField\n                        value={e.title}\n                        InputLabelProps={{\n                            readOnly: false,\n                            shrink: true,\n                        }}\n                        className={this.props.classes.input + ' xs-centered'}\n                        onChange={evt => this.onChangeText(evt, e.title, 'title')}\n                    />\n                </TableCell>\n                <TableCell className=\"grow_cell float_cell\">\n                    <TextField\n                        id={'default_' + i}\n                        value={e.data}\n                        InputLabelProps={{\n                            readOnly: false,\n                            shrink: true,\n                        }}\n                        className={this.props.classes.input + ' xs-centered'}\n                        onChange={evt => this.onChangeText(evt, e.title, 'data')}\n                    />\n                </TableCell>\n                <TableCell className={this.props.classes.littleRow + ' float_cell'}>\n                    <Fab\n                        size=\"small\"\n                        color=\"secondary\"\n                        aria-label=\"add\"\n                        onClick={evt => this.onDelete(e.title)}\n                    >\n                        <DeleteIcon/>\n                    </Fab>\n                </TableCell>\n            </TableRow>\n        })\n        return <div className={classes.tabPanel}>\n            <Dropzone noClick>\n                {({getRootProps, getInputProps, acceptedFiles, fileRejections}) => (\n                    <div {...getRootProps({\n                        className: this.state.chClass ? 'drop-container drop-dop' : 'drop-container',\n                        onDragEnter: evt => this.setState({chClass: true}),\n                        onDragLeave: evt => this.setState({chClass: false}),\n                        onDrop: evt => {\n                            if (fileRejections.length > 0) {\n                                let msg = [];\n                                // eslint-disable-next-line array-callback-return\n                                fileRejections.map((e => {\n                                    let m = e.file.name + ': ';\n                                    let mm = [];\n                                    e.errors.forEach(ee => mm.push(ee.message));\n                                    msg.push(m + mm.join(','));\n                                }));\n\n                                alert(msg.join(', '));\n                            }\n\n                            if (acceptedFiles.length > 0) {\n                                // eslint-disable-next-line array-callback-return\n                                acceptedFiles.map(file => {\n                                    const reader = new FileReader();\n                                    reader.onload = async e =>\n                                        this.onAdd(file.name, e.target.result);\n                                    reader.readAsText(file);\n                                })\n\n                            } else if (fileRejections.length === 0) {\n                                alert(this.props.t('No files exists'));\n                            }\n                            this.setState({chClass: false});\n                        }\n                    })}>\n                        <input {...getInputProps()} />\n                    </div>\n                )}\n            </Dropzone>\n            <div className={classes.buttonPanel}>\n                <Fab\n                    size=\"small\"\n                    className=\"small_size\"\n                    color=\"primary\"\n                    aria-label=\"add\"\n                    onClick={() => this.onAdd()}\n                >\n                    <AddIcon/>\n                </Fab>\n                <Paper variant=\"outlined\" className={classes.descriptionPanel}>\n                    {this.props.t('certs_hint')}\n                </Paper>\n            </div>\n            <TableContainer className={classes.tableContainer}>\n                <Table className={classes.table} aria-label=\"customized table\">\n                    <TableHead>\n                        <TableRow className=\"float_row\">\n                            <TableCell className={clsx(this.props.classes.littleRow, 'float_cell')}> </TableCell>\n                            <TableCell className={clsx(this.props.classes.nameRow, 'float_cell')}>\n                                {this.props.t('name')}\n                            </TableCell>\n                            <TableCell className={clsx('grow_cell', 'float_cell')}>\n                                {this.props.t('Certificate')}\n                            </TableCell>\n                            <TableCell className={clsx(this.props.classes.littleRow, 'float_cell')}> </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {rows}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>;\n    }\n\n    onChangeText = (evt, id, name) => {\n        const value = evt.target.value;\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        let array = this.certToArray(newData.native.certificates);\n        array.find(element => element.title === id)[name] = value;\n        newData.native.certificates = this.arrayToCert(array);\n        this.props.onChange(newData);\n    }\n\n    onDelete = id => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        let array = this.certToArray(newData.native.certificates);\n        let index = array.findIndex(element => element.title === id);\n        delete array[index];\n        newData.native.certificates = this.arrayToCert(array);\n        this.props.onChange(newData);\n    }\n\n    onAdd = (title, data) => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        let array = this.certToArray(newData.native.certificates);\n        if (!title) {\n            let i = 1;\n            // eslint-disable-next-line\n            while (array.find(item => item.title === this.props.t('certificate') + '_' + i)) {\n                i++;\n            }\n            title = this.props.t('certificate') + '_' + i;\n        }\n\n        array.push({\n            title: title ? title : '__',\n            data:  data  ? data  : ''\n        });\n        newData.native.certificates = this.arrayToCert(array);\n        this.props.onChange(newData);\n    }\n}\n\nCertificatesDialog.propTypes = {\n    t: PropTypes.func,\n    data: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default withWidth()(withStyles(styles)(CertificatesDialog));\n\n\n\n","// SSLDialog.js\nimport {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport withWidth from '@material-ui/core/withWidth';\nimport {withStyles} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\n\nconst styles = theme => ({\n    tabPanel: {\n        width: '100%',\n        height: '100% ',\n        overflow: 'auto',\n        overflowX: 'hidden',\n        padding: 15,\n        //backgroundColor: blueGrey[ 50 ]\n    },\n    buttonPanel: {\n        paddingBottom: 40,\n        display: 'flex'\n    },\n    descriptionPanel: {\n        width: '100%',\n        backgroundColor: 'transparent',\n        marginLeft: 40,\n        border: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        '& a': {\n            paddingLeft: 3,\n            color: theme.palette.type === 'dark' ? '#EEE' : '#111',\n\n        }\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: '100%',\n    },\n});\n\nclass SSLDialog extends Component {\n    render() {\n        const {classes, data} = this.props;\n        const {letsEncrypt} = data.native || {};\n        return <div className={classes.tabPanel}>\n            <div className={classes.buttonPanel}>\n                <Paper\n                    variant=\"outlined\"\n                    className={classes.descriptionPanel}\n                    dangerouslySetInnerHTML={{__html: this.props.t('letsnecrypt_help')}}\n                />\n            </div>\n            <Grid container spacing={6}>\n                <Grid item md={3} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <TextField\n                            id=\"email\"\n                            label={this.props.t('Email for account:')}\n                            value={letsEncrypt ? letsEncrypt.email : ''}\n                            InputLabelProps={{\n                                readOnly: false,\n                                shrink: true,\n                            }}\n                            onChange={evt => this.onChangeText(evt, 'email')}\n                        />\n                    </FormControl>\n                </Grid>\n                <Grid item md={3} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <TextField\n                            id=\"domains\"\n                            label={this.props.t('Domains:')}\n                            value={letsEncrypt ? letsEncrypt.domains : ''}\n                            InputLabelProps={{\n                                readOnly: false,\n                                shrink: true,\n                            }}\n                            onChange={evt => this.onChangeText(evt, 'domains')}\n                        />\n                    </FormControl>\n                </Grid>\n                <Grid item md={3} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <TextField\n                            id=\"path\"\n                            label={this.props.t('Path to storage:')}\n                            value={letsEncrypt ? letsEncrypt.path : ''}\n                            InputLabelProps={{\n                                readOnly: false,\n                                shrink: true,\n                            }}\n                            onChange={evt => this.onChangeText(evt, 'path')}\n                        />\n                    </FormControl>\n                </Grid>\n            </Grid>\n        </div>;\n    }\n\n    onChangeText = (evt, id) => {\n        const value = evt.target.value;\n        this.doChange(id, value);\n    }\n\n    doChange = (name, value) => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        newData.native.letsEncrypt[name] = value;\n        this.props.onChange(newData);\n    }\n}\n\nSSLDialog.propTypes = {\n    t: PropTypes.func,\n    data: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default withWidth()(withStyles(styles)(SSLDialog));\n\n\n\n","// ACLDialog.js\n\nimport React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\n\nimport withWidth from '@material-ui/core/withWidth';\nimport {withStyles} from '@material-ui/core/styles';\nimport {Grid, Typography, FormControl, Checkbox} from '@material-ui/core';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    tabPanel: {\n        width: '100%',\n        height: '100% ',\n        overflow: 'auto',\n        overflowX: 'hidden',\n        padding: 15,\n        //backgroundColor: blueGrey[ 50 ]\n    },\n    buttonPanel: {\n        paddingBottom: 40,\n        display: 'flex'\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: '100%',\n    },\n    tableCell: {\n        textAlign: 'center',\n        border: '1px solid #AAA',\n        paddingLeft: 0,\n        paddingRight: 0\n    }\n});\n\nclass ACLDialog extends Component {\n    permBits = [[0x400, 0x200], [0x40, 0x20], [0x4, 0x2]];\n\n    getTypes() {\n        return [\n            {\n                type: 'object',\n                title: 'Object rights'\n            },\n            {\n                type: 'state',\n                title: 'States rights'\n            },\n            {\n                type: 'file',\n                title: 'File rights'\n            }\n        ];\n    }\n\n    getRights(type) {\n        const rts = this.props.data.common.defaultNewAcl[type];\n        return this.permBits.map(bitGroup => bitGroup.map(bit => rts & bit));\n    }\n\n    getTable(owner) {\n        const checks = this.getRights(owner);\n        const {classes} = this.props;\n        const checkboxes = checks.map((elem, index) =>\n            <Fragment key={index}>\n                <TableCell className={classes.tableCell}>\n                    <Checkbox\n                        checked={!!elem[0]}\n                        color=\"primary\"\n                        onChange={evt => this.handleCheck(evt, owner, index, 0)}\n                    />\n                </TableCell>\n                <TableCell className={classes.tableCell}>\n                    <Checkbox\n                        checked={!!elem[1]}\n                        color=\"primary\"\n                        onChange={evt => this.handleCheck(evt, owner, index, 1)}\n                    />\n                </TableCell>\n            </Fragment>);\n\n        return <TableContainer>\n            <Table className={classes.table} aria-label=\"customized table\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell colSpan={2} className={classes.tableCell}>\n                            {this.props.t('Owner')}\n                        </TableCell>\n                        <TableCell colSpan={2} className={classes.tableCell}>\n                            {this.props.t('Group')}\n                        </TableCell>\n                        <TableCell colSpan={2} className={classes.tableCell}>\n                            {this.props.t('Everyone')}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    <TableRow>\n                        <TableCell className={classes.tableCell}>\n                            {this.props.t('read')}\n                        </TableCell>\n                        <TableCell className={classes.tableCell}>\n                            {this.props.t('write')}\n                        </TableCell>\n                        <TableCell className={classes.tableCell}>\n                            {this.props.t('read')}\n                        </TableCell>\n                        <TableCell className={classes.tableCell}>\n                            {this.props.t('write')}\n                        </TableCell>\n                        <TableCell className={classes.tableCell}>\n                            {this.props.t('read')}\n                        </TableCell>\n                        <TableCell className={classes.tableCell}>\n                            {this.props.t('write')}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        {checkboxes}\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </TableContainer>;\n    }\n\n    doChange = (name, value) => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        newData.common.defaultNewAcl[name] = value;\n        this.props.onChange(newData);\n    }\n\n    handleCheck = (evt, ownerType, elemNum, num) => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        newData.common.defaultNewAcl[ownerType] ^= this.permBits[elemNum][num];\n        this.props.onChange(newData);\n    }\n\n    handleChange = (evt, id) => this.doChange(id, evt.target.value);\n\n    render() {\n        const lang = I18n.getLanguage();\n        const {classes} = this.props;\n        const users = this.props.users.map((elem, index) =>\n            <MenuItem value={elem._id} key={index}>\n                {typeof elem.common.name === 'object' ? elem.common.name[lang] || elem.common.name.en : elem.common.name}\n            </MenuItem>);\n\n        const groups = this.props.groups.map((elem, index) =>\n            <MenuItem value={elem._id} key={index}>\n                {typeof elem.common.name === 'object' ? elem.common.name[lang] || elem.common.name.en : elem.common.name}\n            </MenuItem>);\n\n        const objectRights = this.getTypes().map((ee, ii) =>\n            <Grid item lg={4} xs={12} md={6} key={ii}>\n                <Typography variant=\"h6\" component=\"div\">\n                    {this.props.t(ee.title)}\n                </Typography>\n                {this.getTable(ee.type)}\n            </Grid>);\n\n        return <div className={classes.tabPanel}>\n            <Typography variant=\"h5\" component=\"div\">\n                {this.props.t('Access control list')}\n            </Typography>\n            <Grid container spacing={3}>\n                <Grid item lg={3} md={6} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel shrink id=\"owner-label\">\n                            {this.props.t('Owner user')}\n                        </InputLabel>\n                        <Select\n                            className={classes.formControl}\n                            id={'owner'}\n                            value={this.props.data.common.defaultNewAcl.owner}\n                            onChange={evt => this.handleChange(evt, 'owner')}\n                            displayEmpty\n                            inputProps={{'aria-label': 'users'}}\n                        >\n                            {users}\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item lg={3} md={6} xs={12}>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel shrink id={'ownerGroup-label'}>\n                            {this.props.t('Owner group')}\n                        </InputLabel>\n                        <Select\n                            className={classes.formControl}\n                            id={'ownerGroup'}\n                            value={this.props.data.common.defaultNewAcl.ownerGroup}\n                            onChange={evt => this.handleChange(evt, 'ownerGroup')}\n                            displayEmpty\n                            inputProps={{'aria-label': 'ownerGroup'}}\n                        >\n                            {groups}\n                        </Select>\n                    </FormControl>\n                </Grid>\n            </Grid>\n            <Grid container spacing={3}>\n                {objectRights}\n            </Grid>\n        </div>;\n    }\n}\n\nACLDialog.propTypes = {\n    t: PropTypes.func,\n    data: PropTypes.object,\n    users: PropTypes.array,\n    onChange: PropTypes.func,\n};\n\nexport default withWidth()(withStyles(styles)(ACLDialog));\n\n","// StatisticsDialog.js\n\nimport {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport withWidth from '@material-ui/core/withWidth';\nimport {withStyles} from '@material-ui/core/styles';\n\nimport AceEditor from 'react-ace';\nimport 'ace-builds/webpack-resolver';\nimport 'ace-builds/src-noconflict/mode-json';\nimport 'ace-builds/src-noconflict/theme-clouds_midnight';\nimport 'ace-builds/src-noconflict/theme-chrome';\nimport 'ace-builds/src-noconflict/ext-language_tools'\n\nimport {Grid, Paper, Card, Typography, MenuItem, FormControl, Select, InputLabel} from '@material-ui/core';\nimport blueGrey from '@material-ui/core/colors/blueGrey'\n\nconst styles = theme => ({\n    tabPanel: {\n        width: '100%',\n        height: '100% ',\n        overflow: 'auto',\n        padding: 15,\n        //backgroundColor: blueGrey[ 50 ]\n    },\n    note: {\n        padding: 15,\n        backgroundColor: blueGrey[500],\n        color: '#FFF',\n        overflow: 'auto',\n        flex: 'none'\n    },\n    sentData: {\n        padding: 15\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: '100%',\n    },\n    descriptionPanel: {\n        width: '100%',\n        backgroundColor: 'transparent',\n        border: 'none',\n        overflow: 'auto'\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2),\n    },\n});\n\nclass StatisticsDialog extends Component {\n    getTypes() {\n        return [\n            {\n                id: 'none',\n                title: 'none'\n            },\n            {\n                id: 'normal',\n                title: 'normal'\n            },\n            {\n                id: 'no-city',\n                title: 'no-city'\n            },\n            {\n                id: 'extended',\n                title: 'extended'\n            }\n        ];\n    }\n\n    getTypesSelector = () => {\n        const {classes} = this.props;\n        const {common} = this.props.data;\n        const items = this.getTypes().map((elem, index) =>\n            <MenuItem value={elem.title} key={index}>\n                {this.props.t(elem.title)}\n            </MenuItem>);\n\n        return <FormControl className={classes.formControl}>\n            <InputLabel shrink id={\"statistics-label\"}>\n                {this.props.t('Statistics')}\n            </InputLabel>\n            <Select\n                className={classes.formControl}\n                id=\"statistics\"\n                value={common.diag}\n                displayEmpty\n                onChange={this.handleChangeType}\n            >\n                {items}\n            </Select>\n        </FormControl>;\n    }\n\n    doChange = (name, value) => {\n        let newData = JSON.parse(JSON.stringify(this.props.data))\n        newData.common[name] = value;\n        this.props.onChange(newData);\n    }\n\n    handleChangeType = evt => {\n        this.doChange('diag', evt.target.value);\n        if (this.props.handle) {\n            this.props.handle(evt.target.value);\n        }\n    }\n\n    render() {\n        const {classes} = this.props;\n        return <div className={classes.tabPanel} style={{height: '100%'}}>\n            <Grid container spacing={3} className=\"sendData-grid\" style={{height: '100%'}}>\n                <Grid item lg={4} md={4} xs={12} style={{display: 'flex', flexDirection: 'column'}}>\n                    <Card className={classes.note}>\n                        <Typography gutterBottom variant=\"h6\" component=\"div\">\n                            {this.props.t('Note:')}\n                        </Typography>\n                        <Typography\n                            paragraph\n                            variant=\"body2\"\n                            component=\"div\"\n                            dangerouslySetInnerHTML={{__html: this.props.t('diag-note')}}\n                        />\n                    </Card>\n                    {this.getTypesSelector()}\n                    {this.props.dataAux ? <Paper\n                        variant=\"outlined\"\n                        className={classes.descriptionPanel}>\n                        <ul>\n                            {Object.keys(this.props.dataAux).map(key => <li key={key}>{key}</li>)}\n                        </ul>\n                    </Paper> : null}\n                </Grid>\n                <Grid item lg={8} md={4} xs={12} className=\"sendData-grid\"\n                      style={{height: '100%', display: 'flex', flexDirection: 'column'}}>\n                    <Paper className={classes.sentData}>\n                        <Typography gutterBottom variant=\"h6\" component=\"div\">\n                            {this.props.t('Sent data:')}\n                        </Typography>\n                    </Paper>\n                    <AceEditor\n                        mode=\"json\"\n                        width=\"100%\"\n                        height=\"100%\"\n                        showPrintMargin={true}\n                        showGutter={true}\n                        highlightActiveLine={true}\n                        theme={this.props.themeType === 'dark' ? 'clouds_midnight' : 'chrome'}\n                        value={JSON.stringify(this.props.dataAux, null, 2)}\n                        onChange={newValue => this.onChange(newValue)}\n                        name=\"UNIQUE_ID_OF_DIV\"\n                        fontSize={14}\n                        setOptions={{\n                            enableBasicAutocompletion: true,\n                            enableLiveAutocompletion: true,\n                            enableSnippets: true,\n                            showLineNumbers: true,\n                            tabSize: 2,\n                        }}\n                        editorProps={{$blockScrolling: true}}\n                    />\n                </Grid>\n            </Grid>\n        </div>;\n    }\n}\n\nStatisticsDialog.propTypes = {\n    t: PropTypes.func,\n    data: PropTypes.object,\n    dataAux: PropTypes.object,\n    themeType: PropTypes.string,\n    handle: PropTypes.func.isRequired,\n};\n\nexport default withWidth()(withStyles(styles)(StatisticsDialog));\n\n","import withWidth from '@material-ui/core/withWidth';\nimport { withStyles } from '@material-ui/core/styles';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ConfirmDialog from '@iobroker/adapter-react/Dialogs/Confirm';\nimport Router from '@iobroker/adapter-react/Components/Router';\n\nimport MainSettingsDialog from './SystemSettingsTabs/MainSettingsDialog';\nimport RepositoriesDialog from './SystemSettingsTabs/RepositoriesDialog';\nimport CertificatesDialog from './SystemSettingsTabs/CertificatesDialog';\nimport SSLDialog from './SystemSettingsTabs/SSLDialog';\nimport ACLDialog from './SystemSettingsTabs/ACLDialog';\nimport StatisticsDialog from './SystemSettingsTabs/StatisticsDialog';\n\n// icons\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\n\n//style\nimport '../assets/css/style.css';\n\nconst styles = theme => ({\n    tabPanel: {\n        width: '100%',\n        height: `calc(100% - ${theme.mixins.toolbar.minHeight}px)`,\n        overflow: 'hidden'\n    },\n    tab: {\n        // backgroundColor:'#FFF',\n        // color:lightBlue[500]\n    },\n    dialogTitle: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '0 0 0 20px',\n    },\n    dialog: {\n        width: '100%',\n        height: '100%',\n        maxWidth: '100%'\n    },\n    content: {\n        padding: '0 !important'\n    }\n});\n\nclass SystemSettingsDialog extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            confirmExit: false,\n            systemConfig: null,\n            systemCertificates: null,\n            systemRepositories: null,\n        };\n        this.getSettings(this.state.currentHost);\n    }\n\n    getSettings() {\n        const newState = { loading: false };\n        return this.props.socket.getObject('system.repositories')\n            .then(systemRepositories => {\n                systemRepositories = JSON.parse(JSON.stringify(systemRepositories));\n                systemRepositories = systemRepositories || {};\n                systemRepositories.native = systemRepositories.native || {};\n                systemRepositories.native.repositories = systemRepositories.native.repositories || {};\n\n                Object.keys(systemRepositories.native.repositories).forEach(repo => {\n                    if (systemRepositories.native.repositories[repo] &&\n                        systemRepositories.native.repositories[repo].json) {\n                        delete systemRepositories.native.repositories[repo].json;\n                    }\n                    if (systemRepositories.native.repositories[repo] &&\n                        systemRepositories.native.repositories[repo].hash) {\n                        delete systemRepositories.native.repositories[repo].hash;\n                    }\n                });\n                this.originalRepositories = JSON.stringify(systemRepositories);\n                newState.systemRepositories = systemRepositories;\n                return this.props.socket.getCompactSystemConfig(true);\n            })\n            .then(systemConfig => {\n                this.originalConfig = JSON.stringify(systemConfig || {});\n                newState.systemConfig = systemConfig || {};\n                systemConfig.common = systemConfig.common || {};\n\n                systemConfig.common.defaultNewAcl = systemConfig.common.defaultNewAcl || {\n                    object: 1636,\n                    state: 1636,\n                    file: 1632,\n                    owner: 'system.user.admin',\n                    ownerGroup: 'system.group.administrator'\n                };\n\n                return this.props.socket.getDiagData(this.props.currentHost, systemConfig.common.diag);\n            })\n            /**/\n            .then(diagData => {\n                newState.diagData = diagData;\n                return this.props.socket.getUsers()\n            })\n            .then(users => {\n                newState.users = users;\n                return this.props.socket.getGroups();\n            })\n            .then(groups => {\n                newState.groups = groups;\n                return this.props.socket.getAdapterInstances();\n            })\n            .then(groups => {\n                newState.histories = Object.values(groups)\n                    .filter(instance => instance.common.getHistory)\n                    .map(instance => {\n                        let id = instance._id.split('.');\n                        return id[id.length - 2] + '.' + id[id.length - 1];\n                    });\n\n                return this.props.socket.getObject('system.certificates');\n            })\n            .then(systemCertificates => {\n                this.originalCertificates = JSON.stringify(systemCertificates);\n                newState.systemCertificates = systemCertificates;\n                this.setState(newState);\n            })\n            .catch(e => window.alert('Cannot read settings: ' + e));\n    }\n\n    renderConfirmDialog() {\n        if (this.state.confirmExit) {\n            return <ConfirmDialog\n                text={this.props.t('Discard unsaved changes?')}\n                onClose={result =>\n                    this.setState({ confirmExit: false }, () =>\n                        result && this.props.onClose())}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    onSave() {\n        this.setState({saving: true}, () => {\n            return this.props.socket.getSystemConfig(true)\n                .then(systemConfig => {\n                    systemConfig = systemConfig || {};\n                    if (JSON.stringify(systemConfig.common) !== JSON.stringify(this.state.systemConfig.common)) {\n                        return this.props.socket.setSystemConfig(this.state.systemConfig);\n                    } else {\n                        return Promise.resolve();\n                    }\n                })\n                .then(() => this.props.socket.setObject('system.certificates', this.state.systemCertificates))\n                .then(() => this.props.socket.getObject('system.repositories'))\n                .then(systemRepositories => {\n                    systemRepositories = systemRepositories || {};\n                    systemRepositories.native = systemRepositories.native || {};\n                    systemRepositories.native.repositories = systemRepositories.native.repositories || {};\n                    const newRepo = JSON.parse(JSON.stringify(this.state.systemRepositories.native.repositories));\n\n                    // merge new and existing info\n                    Object.keys(newRepo).forEach(repo => {\n                        if (systemRepositories.native.repositories[repo] && systemRepositories.native.repositories[repo].json) {\n                            newRepo[repo].json = systemRepositories.native.repositories[repo].json;\n                        }\n                        if (systemRepositories.native.repositories[repo] && systemRepositories.native.repositories[repo].hash) {\n                            newRepo[repo].hash = systemRepositories.native.repositories[repo].hash;\n                        }\n                    });\n                    systemRepositories.native.repositories = newRepo;\n                    return this.props.socket.setObject('system.repositories', systemRepositories);\n                }).then(() => {\n                    // this.getSettings();\n                    alert(this.props.t('Settings saved'));\n                    this.props.onClose();\n                    if (this.state.systemConfig.common.expertMode !== JSON.parse(this.originalConfig).common.expertMode) {\n                        this.props.expertModeFunc(this.state.systemConfig.common.expertMode);\n                    }\n                    if (this.state.systemConfig.common.language !== JSON.parse(this.originalConfig).common.language) {\n                        window.location.reload(false);\n                    }\n                })\n                .then(() => this.setState({saving: false}))\n                .catch(e =>\n                    window.alert(`Cannot save system configuration: ${e}`));\n        });\n    }\n\n    getTabs() {\n        return [\n            {\n                id: 0,\n                title: 'System settings',\n                component: MainSettingsDialog,\n                data: 'systemConfig',\n                name: 'tabConfig',\n                dataAux: 'systemRepositories',\n                handle: null\n            },\n            {\n                id: 1,\n                title: 'Repositories',\n                component: RepositoriesDialog,\n                data: 'systemRepositories',\n                name: 'tabRepositories',\n                dataAux: 'systemConfig',\n                handle: null\n            },\n            {\n                id: 2,\n                title: 'Certificates',\n                component: CertificatesDialog,\n                data: 'systemCertificates',\n                name: 'tabCertificates',\n                dataAux: {},\n                handle: null\n            },\n            {\n                id: 3,\n                title: 'Let\\'s encrypt SSL',\n                component: SSLDialog,\n                data: 'systemCertificates',\n                name: 'tabLetsEncrypt',\n                dataAux: {},\n                handle: null\n            },\n            {\n                id: 4,\n                title: 'Default ACL',\n                component: ACLDialog,\n                data: 'systemConfig',\n                name: 'tabDefaultACL',\n                dataAux: {},\n                handle: null\n            },\n            {\n                id: 5,\n                title: 'Statistics',\n                component: StatisticsDialog,\n                data: 'systemConfig',\n                dataAux: 'diagData',\n                name: 'tabStatistics',\n                handle: type => this.onChangeDiagType(type)\n            }\n        ];\n    }\n\n    onChangeDiagType = type => {\n        this.props.socket.getDiagData(this.props.currentHost, type)\n            .then(diagData =>\n                this.setState({\n                    diagData,\n                    systemConfig: {\n                        ...this.state.systemConfig,\n                        common: {\n                            ...this.state.systemConfig.common,\n                            diag: type\n                        }\n                    }\n                }));\n    }\n\n    getDialogContent(tabsList) {\n        if (this.state.loading) {\n            return <LinearProgress />;\n        }\n\n        const tab = tabsList.find(tab => tab.name === this.props.currentTab.id) || tabsList[0];\n\n        const MyComponent = tab.component;\n        const { groups, users, histories } = this.state;\n        return <div className={this.props.classes.tabPanel}>\n            <MyComponent\n                adminGuiConfig={this.props.adminGuiConfig}\n                onChange={(data, dataAux) => this.onChangedTab(tab.data, data, tab.dataAux, dataAux)}\n                data={this.state[tab.data]}\n                dataAux={this.state[tab.dataAux]}\n                handle={tab.handle}\n                users={users}\n                groups={groups}\n                histories={histories}\n                themeName={this.props.themeName}\n                themeType={this.props.themeType}\n                t={this.props.t}\n            />\n        </div>;\n    }\n\n    onTabChanged = (event, newTab) => {\n        Router.doNavigate(null, 'system', newTab);\n    }\n\n    onChangedTab(id, data, idAux, dataAux) {\n        let state = { ...this.state };\n        if (data) {\n            state[id] = data;\n        }\n        if (dataAux) {\n            state[idAux] = dataAux;\n        }\n        this.setState(state);\n    }\n\n    render() {\n        const changed = !(JSON.stringify(this.state.systemRepositories) === this.originalRepositories &&\n            JSON.stringify(this.state.systemConfig) === this.originalConfig &&\n            JSON.stringify(this.state.systemCertificates) === this.originalCertificates);\n\n        const tabsList = this.getTabs().filter(tab => this.props.adminGuiConfig.admin.settings[tab.name] !== false)\n        const tabs = tabsList\n            .map(tab =>\n                <Tab\n                    label={this.props.t(tab.title)}\n                    value={tab.name}\n                />\n            );\n\n        return <Dialog\n            className={this.props.classes.dialog}\n            classes={{\n                root: this.props.classes.dialog,\n                paper: 'dialog-setting'\n            }}\n            open={true}\n            onClose={(e, reason) => {\n                if (reason !== 'backdropClick' && reason !== 'escapeKeyDown') {\n                    if (changed) {\n                        this.setState({confirmExit: true});\n                    } else {\n                        this.props.onClose();\n                    }\n                }\n            }}\n            fullWidth={false}\n            fullScreen={false}\n            aria-labelledby=\"system-settings-dialog-title\"\n        >\n            <DialogContent className={this.props.classes.content}>\n                <AppBar position=\"static\" color=\"default\">\n                    <div className={this.props.classes.dialogTitle}>\n                        {this.props.width !== 'xs' && this.props.width !== 'sm' && <Typography className=\"dialogName\">\n                            {this.props.t('Base settings')}\n                        </Typography>}\n                        <Tabs\n                            className={this.props.classes.tab}\n                            indicatorColor=\"primary\"\n                            value={this.props.currentTab.id || 'tabConfig'}\n                            onChange={(event, newTab) => {\n                                this.onTabChanged(event, newTab);\n                            }}\n                            variant=\"scrollable\"\n                            scrollButtons=\"auto\"\n                        >\n                            {tabs}\n                        </Tabs>\n                        <IconButton\n                            disabled={this.state.saving}\n                            edge=\"start\"\n                            color=\"inherit\"\n                            onClick={() => changed ? this.setState({ confirmExit: true }) : this.props.onClose()}\n                            aria-label=\"close\"\n                        >\n                            <CloseIcon />\n                        </IconButton>\n                    </div>\n                </AppBar>\n                {this.getDialogContent(tabsList)}\n                {this.renderConfirmDialog()}\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    disabled={!changed || this.state.saving}\n                    onClick={() => this.onSave()}\n                    color=\"primary\"\n                    startIcon={<CheckIcon/>}\n                >\n                    {this.props.t('Save & Close')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    disabled={this.state.saving}\n                    onClick={() => changed ? this.setState({ confirmExit: true }) : this.props.onClose()}\n                    startIcon={<CloseIcon/>}\n                >\n                    {changed ? this.props.t('Cancel') : this.props.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    }\n}\n\nSystemSettingsDialog.propTypes = {\n    t: PropTypes.func,\n    lang: PropTypes.string,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onClose: PropTypes.func.isRequired,\n    currentTab: PropTypes.object,\n    width: PropTypes.string,\n    adminGuiConfig: PropTypes.object,\n};\n\nexport default withWidth()(withStyles(styles)(SystemSettingsDialog));\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return <div\n        role=\"tabpanel\"\n        hidden={value !== index}\n        id={`nav-tabpanel-${index}`}\n        aria-labelledby={`nav-tab-${index}`}\n        {...other}\n    >\n        {value === index && (\n            <Box p={3}>\n                <Typography>{children}</Typography>\n            </Box>\n        )}\n    </div>;\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth from '@material-ui/core/withWidth';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst boxShadow = '0 4px 7px 5px rgb(0 0 0 / 14%), 0 3px 1px 1px rgb(0 0 0 / 12%), 0 1px 5px 0 rgb(0 0 0 / 20%)';\n\nconst styles = theme => ({\n    root: {\n        padding: 10,\n        margin: 'auto',\n        display: 'flex',\n        height: '100%',\n        alignItems: 'center',\n        borderRadius: 0,\n        justifyContent: 'center',\n    },\n    paper: {\n        background: theme.palette.background.paper + (theme.palette.background.paper.length < 7 ? 'd' : 'dd'),\n        padding: theme.spacing(3),\n        overflowY: 'auto',\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        maxHeight: 500,\n        maxWidth: 380,\n        boxShadow\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: '#fff',\n        width: 100,\n        height: 100,\n    },\n    avatarImg: {\n        width: 'calc(100% - 4px)',\n        height: 'calc(100% - 4px)',\n        padding: 2\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(1, 0, 2),\n    },\n    alert: {\n        marginTop: theme.spacing(2),\n        backgroundColor: '#f44336',\n        padding: 8,\n        color: '#fff',\n        borderRadius: 4,\n        fontSize: 16,\n    },\n    ioBrokerLink: {\n        textTransform: 'inherit'\n    },\n    marginTop: {\n        marginTop: 'auto'\n    },\n    progress: {\n        textAlign: 'center'\n    }\n});\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            inProcess: false,\n        };\n\n        this.formRef = React.createRef();\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const action = `${window.location.port === '3000' ? `${window.location.protocol}//${window.location.hostname}:8081` : ''}/login?${window.location.port === '3000' ? 'dev&' : ''}href=${window.location.hash}`;\n\n        const link  = window.loginLink  && window.loginLink  !== '@@loginLink@@'  ? window.loginLink  : 'https://www.iobroker.net/';\n        const motto = window.loginMotto && window.loginMotto !== '@@loginMotto@@' ? window.loginMotto : ('Discover awesome. ');\n\n        if (window.login !== 'true') {\n            debugger;\n            window.location = `${window.location.protocol}//${window.location.host}${window.location.pathname}`;\n        }\n        const style = window.loginBackgroundColor ? {background: '#00000000'} : {};\n\n        return <Paper component=\"main\" className={classes.root} style={style}>\n            <Paper className={classes.paper}>\n                <Grid\n                    container\n                    direction=\"column\"\n                    alignItems=\"center\"\n                >\n                    {window.loginLogo && window.loginLogo !== '@@loginLogo@@' ?\n                        <div style={{\n                            height: 50,\n                            withWidth: 102,\n                            lineHeight: '50px',\n                            background: 'white',\n                            borderRadius: 5,\n                            padding: 5}}\n                        ><img src={window.loginLogo} alt=\"logo\"\n                              style={{maxWidth: '100%', maxHeight: '100%'}}/></div>\n                        :\n                        window.loginHideLogo === 'false' &&\n                        <Avatar className={classes.avatar} src=\"img/logo.png\" classes={{img: classes.avatarImg}} />}\n                    <Typography component=\"h1\" variant=\"h5\">\n                        {window.loginTitle && window.loginTitle !== '@@loginTitle@@' ? window.loginTitle : this.props.t('loginTitle')}\n                    </Typography>\n                    {window.location.search.includes('error') &&\n                        <div className={classes.alert}>\n                            {this.props.t('wrongPassword')}\n                        </div>\n                    }\n                    <form\n                        ref={this.formRef}\n                        className={classes.form}\n                        action={action}\n                        method=\"post\"\n                    >\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            disabled={this.state.inProcess}\n                            required\n                            fullWidth\n                            size=\"small\"\n                            id=\"username\"\n                            label={this.props.t('enterLogin')}\n                            name=\"username\"\n                            autoComplete=\"username\"\n                            autoFocus\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            disabled={this.state.inProcess}\n                            required\n                            fullWidth\n                            size=\"small\"\n                            name=\"password\"\n                            label={this.props.t('enterPassword')}\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                        />\n                        <FormControlLabel\n                            control={<Checkbox\n                                id=\"stayloggedin\"\n                                name=\"stayloggedin\"\n                                value=\"on\"\n                                color=\"primary\"\n                                disabled={this.state.inProcess}\n                            />}\n                            label={this.props.t('Stay signed in')}\n                        />\n                        <input id=\"origin\" type=\"hidden\" name=\"origin\" value={window.location.search.replace('&error', '')} />\n                        {<Button\n                            type=\"submit\"\n                            disabled={this.state.inProcess}\n                            onClick={() => {\n                                this.formRef.current.submit();\n                                // give time to firefox to send the data\n                                setTimeout(() =>\n                                    this.setState({ inProcess: true }), 50);\n                            }}\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                        >\n                            {this.state.inProcess ? <CircularProgress size={24}/> : this.props.t('login')}\n                        </Button>}\n                    </form>\n                </Grid>\n                <Box className={classes.marginTop}>\n                    <Typography\n                        variant=\"body2\"\n                        color=\"textSecondary\"\n                        align=\"center\"\n                    >\n                        {window.loginLink && window.loginLink !== '@@loginLink@@' ?\n                            <Link\n                                className={classes.ioBrokerLink}\n                                color=\"inherit\"\n                                href={link}\n                                rel=\"noopener noreferrer\"\n                                target=\"_blank\"\n                            >\n                                {motto}\n                            </Link> : null\n                        }\n                        {!window.loginLink || window.loginLink === '@@loginLink@@' ? motto : null}\n                        {!window.loginLink || window.loginLink === '@@loginLink@@' ? <Link\n                            className={classes.ioBrokerLink}\n                            color=\"inherit\"\n                            href={link}\n                            rel=\"noopener noreferrer\"\n                            target=\"_blank\"\n                        >\n                            ioBroker\n                        </Link> : null}\n                    </Typography>\n                </Box>\n            </Paper>\n        </Paper>;\n    }\n}\n\nLogin.propTypes = {\n    t: PropTypes.func,\n};\n\nexport default withWidth()(withStyles(styles)(Login));\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { Tooltip, withStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Icon from '@iobroker/adapter-react/Components/Icon';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nconst styles = theme => ({\n    img: {\n        width: 30,\n        height: 30,\n        margin: 'auto 0',\n        position: 'relative',\n        marginRight: 10,\n        borderRadius: 3,\n        background: '#FFFFFF',\n        padding: 2,\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    notAlive: {\n        opacity: 0.3\n    },\n    button: {\n        maxWidth: 300,\n    },\n    name: {\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n    },\n    width: {\n        width: '100%'\n    },\n    selector: {\n        width: 15,\n        display: 'inline-block'\n    },\n    '@media screen and (max-width: 710px)': {\n        name: {\n            display: 'none'\n        },\n        width: {\n            width: 'auto'\n        },\n        imgButton: {\n            marginRight: 0,\n        }\n    },\n});\n\nclass HostSelectors extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            anchorEl: null,\n            alive: {},\n            hosts: [],\n        };\n    }\n\n    componentDidMount() {\n        this.props.socket.getCompactHosts()\n            .then(hosts => {\n                this.setState({hosts}, async () => {\n                    // request for all host the alive status\n                    const alive = {}\n                    for (let h = 0; h < hosts.length; h++) {\n                        alive[hosts[h]._id] = await this.props.socket.getState(hosts[h]._id + '.alive');\n                        if (alive[hosts[h]._id]) {\n                            alive[hosts[h]._id] = !!alive[hosts[h]._id].val;\n                        } else {\n                            alive[hosts[h]._id] = false;\n                        }\n                    }\n                    this.setState({alive}, () => {\n                        this.props.hostsWorker.registerHandler(this.onHostsObjectChange);\n                        this.props.hostsWorker.registerAliveHandler(this.onAliveChanged);\n                    });\n                });\n            })\n            .catch(e => {\n                window.alert('Cannot get hosts: ' + e);\n            });\n    }\n\n    componentWillUnmount() {\n        this.props.hostsWorker.unregisterHandler(this.onHostsObjectChange);\n        this.props.hostsWorker.unregisterAliveHandler(this.onAliveChanged);\n    }\n\n    onAliveChanged = events => {\n        const alive = JSON.parse(JSON.stringify(this.state.alive));\n        let changed = false;\n        events.forEach(event => {\n            if (event.type === 'delete') {\n                if (alive[event.id] !== undefined) {\n                    delete alive[event.id];\n                    changed = true;\n                }\n            } else if ((!!alive[event.id]) !== (!!event.alive)) {\n                alive[event.id] = event.alive;\n                changed = true;\n            }\n        });\n\n        changed && this.setState({alive});\n    };\n\n    onHostsObjectChange = events => {\n        const hosts = JSON.parse(JSON.stringify(this.state.hosts));\n        let changed = false;\n        events.forEach(event => {\n            const host = hosts.find(it => it._id === event.id);\n            if (event.type === 'delete' || !event.obj) {\n                if (host) {\n                    const pos = hosts.indexOf(host);\n                    hosts.splice(pos);\n                    changed = true;\n                }\n            } else {\n                if (host) {\n                    if (host.common.name !== event.obj.common?.name) {\n                        host.common.name  = event.obj.common?.name  || '';\n                        changed = true;\n                    }\n                    if (host.common.color !== event.obj.common?.color) {\n                        host.common.color  = event.obj.common?.color  || '';\n                        changed = true;\n                    }\n                    if (host.common.icon !== event.obj.common?.icon) {\n                        host.common.icon  = event.obj.common?.icon  || '';\n                        changed = true;\n                    }\n                } else {\n                    changed = true;\n                    hosts.push({\n                        _id: event.id,\n                        common: {\n                            name: event.obj.common?.name   || '',\n                            color: event.obj.common?.color || '',\n                            icon: event.obj.common?.icon   || '',\n                        }\n                    });\n                }\n            }\n        });\n        changed && this.setState({hosts});\n    };\n\n    render() {\n        if (!this.props.expertMode && this.state.hosts.length < 2) {\n            return null;\n        }\n        let selectedHostObj;\n        if (this.state.hosts.length) {\n            selectedHostObj = this.state.hosts.find(host => host._id === this.props.currentHost);\n        }\n\n        return <div>\n            <Tooltip title={I18n.t('Change current host')}>\n                <div>\n                    <Button\n                        className={this.props.classes.button}\n                        style={{\n                            background: selectedHostObj?.common?.color || 'none',\n                            borderColor: selectedHostObj?.common?.color ? Utils.invertColor(selectedHostObj.common.color) : 'none'\n                        }}\n                        variant={this.props.disabled || this.state.hosts.length < 2 ? 'text' : 'outlined'}\n                        disabled={this.props.disabled || this.state.hosts.length < 2}\n                        aria-haspopup=\"true\"\n                        onClick={e => this.setState({anchorEl: e.currentTarget})}\n                    >\n                        <div\n                            className={clsx(this.props.classes.width, !this.state.alive[this.props.currentHost] && this.props.classes.notAlive)}\n                            style={{\n                                display: 'flex',\n                                color: selectedHostObj?.common?.color ? Utils.invertColor(selectedHostObj.common.color, true) : 'none',\n                                alignItems: 'center',\n                            }}>\n                            <Icon\n                                className={clsx(this.props.classes.img, this.props.classes.imgButton)}\n                                src={selectedHostObj?.common?.icon || 'img/no-image.png'}\n                            />\n                            <div className={this.props.classes.name}>{selectedHostObj?.common?.name}</div>\n                        </div>\n                    </Button>\n                </div>\n            </Tooltip>\n            <Menu\n                anchorEl={this.state.anchorEl}\n                keepMounted\n                open={!!this.state.anchorEl}\n                onClose={() => this.setState({anchorEl: null})}\n            >\n                {this.state.hosts.map(({ _id, common: { name, icon, color } }, idx) =>\n                    <MenuItem\n                        key={_id}\n                        button\n                        disabled={!this.state.alive[_id]}\n                        selected={_id === this.props.currentHost}\n                        style={{ background: color || 'inherit' }}\n                        onClick={el => {\n                            if (this.props.currentHost !== this.state.hosts[idx]._id) {\n                                this.props.setCurrentHost(this.state.hosts[idx].common.name, this.state.hosts[idx]._id);\n                            }\n                            this.setState({anchorEl: null});\n                        }}>\n                        <div style={{\n                            display: 'flex',\n                            color: (color && Utils.invertColor(color, true)) || 'inherit',\n                            alignItems: 'center',\n                        }}>\n                            <div className={this.props.classes.selector}>{_id === this.props.currentHost ? 'ᐅ' : ''}</div>\n                            <Icon\n                                className={this.props.classes.img}\n                                src={icon || 'img/no-image.png'}\n                            />\n                            {name}\n                        </div>\n                    </MenuItem>\n                )}\n            </Menu>\n        </div>;\n    }\n}\n\nHostSelectors.propTypes = {\n    disabled: PropTypes.bool,\n    socket: PropTypes.object,\n    currentHost: PropTypes.string.isRequired,\n    hostsWorker: PropTypes.object,\n    expertMode: PropTypes.bool,\n    setCurrentHost: PropTypes.func.isRequired,\n    t: PropTypes.func,\n    lang: PropTypes.string,\n};\n\nexport default withStyles(styles)(HostSelectors);","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport BuildIcon from '@material-ui/icons/Build';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Grid from '@material-ui/core/Grid';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport { DialogTitle, IconButton, makeStyles, ThemeProvider, Typography } from '@material-ui/core';\n\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport ExpertIcon from '@iobroker/adapter-react/icons/IconExpert';\nimport CheckIcon from \"@material-ui/icons/Check\";\n\nlet node = null;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        height: 'auto',\n        display: 'flex',\n        borderRadius: 4,\n        fontSize: 16,\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\n    },\n    paper: {\n        maxWidth: 800,\n    },\n    overflowHidden: {\n        display: 'flex',\n    },\n    pre: {\n        overflow: 'auto',\n        margin: 20,\n    },\n    text: {\n        fontSize: 16\n    },\n    textBold: {\n        fontSize: 16,\n        fontWeight: 'bold'\n    },\n    width100: {\n        width: '100%'\n    }\n}));\n\nconst ExpertModeDialog = ({ boolSettings, func, buttonIcon, themeType }) => {\n    const classes = useStyles();\n    const [open, setOpen] = useState(true);\n    const [doNotShow, setDoNotShow] = useState(false);\n\n    const onClose = () => {\n        if (doNotShow) {\n            window.sessionStorage.setItem('App.doNotShowExpertDialog', 'true');\n        }\n\n        setOpen(false);\n        func();\n        try {\n            node && window.document.body.removeChild(node);\n        } catch (e) {\n            // ignore\n        }\n\n        node = null;\n    };\n\n    return <ThemeProvider theme={theme(Utils.getThemeName())}>\n        <Dialog\n            onClose={onClose}\n            open={open}\n            classes={{ paper: classes.paper }}\n        >\n            <DialogTitle><ExpertIcon style={{marginRight: 8}}/>{I18n.t('Expert mode')}</DialogTitle>\n            <DialogContent className={classes.overflowHidden} dividers>\n                <Grid container>\n                    <Grid item className={classes.width100}>\n                        <div className={classes.root}>\n                            <div className={classes.pre} style={{color: themeType === 'dark' ? '#111': null}}>\n                                <Typography\n                                    className={classes.text}\n                                    variant=\"body2\"\n                                    component=\"p\">\n                                    {boolSettings ? I18n.t('Now the expert mode will be deactivated only during this browser session.') : I18n.t('Now the expert mode will be active only during this browser session.')}\n                                </Typography>\n                                {!boolSettings ? <Typography\n                                    className={classes.textBold}\n                                    variant=\"body2\"\n                                    component=\"p\">\n                                    {I18n.t('The expert mode allows you to view and edit system internal details.')}\n                                </Typography> : null}\n                                {!boolSettings ? <Typography\n                                    className={classes.textBold}\n                                    variant=\"body2\"\n                                    component=\"p\">\n                                    {I18n.t('Please make sure you know what you are doing!')}\n                                </Typography> : null}\n                                <Typography\n                                    className={classes.text}\n                                    variant=\"body2\"\n                                    component=\"p\">\n                                    {I18n.t('If you need to save the mode all the time, you can do this in the system settings.')}\n                                </Typography>\n                                {I18n.t('Use this button:')}\n                                <IconButton\n                                    color=\"primary\"\n                                    style={{color: themeType === 'dark' ? '#111': null}}\n                                    size=\"small\"\n                                    onClick={() => {\n                                        onClose();\n                                        buttonIcon();\n                                    }}>\n                                    <BuildIcon />\n                                </IconButton>\n                            </div>\n                        </div>\n                    </Grid>\n                    <Grid item>\n                        <FormControlLabel\n                            control={<Checkbox checked={doNotShow} onChange={e => setDoNotShow(e.target.checked)} />}\n                            label={I18n.t('Do not show this dialog in this browser session any more')}\n                        />\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    autoFocus\n                    onClick={onClose}\n                    color=\"primary\"\n                    startIcon={<CheckIcon/>}\n                >\n                    {I18n.t('Ok')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </ThemeProvider>;\n}\n\nexport const expertModeDialogFunc = (boolSettings, themeType, func, buttonIcon) => {\n    if (!node) {\n        node = document.createElement('div');\n        node.id = 'renderModal';\n        document.body.appendChild(node);\n    }\n    return ReactDOM.render(<ExpertModeDialog themeType={themeType} buttonIcon={buttonIcon} boolSettings={boolSettings} func={func} />, node);\n}","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport semver from 'semver';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { CardMedia, DialogTitle, makeStyles, ThemeProvider, Typography } from '@material-ui/core';\n\nimport InfoIcon from '@material-ui/icons/Info';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport CheckIcon from \"@material-ui/icons/Check\";\n\nlet node = null;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        height: 'auto',\n        display: 'flex',\n        borderRadius: 4\n    },\n    paper: {\n        maxWidth: 1000,\n        width: '100%'\n    },\n    overflowHidden: {\n        display: 'flex',\n    },\n    pre: {\n        overflow: 'auto',\n        margin: 20,\n        '& p': {\n            fontSize: 18,\n        }\n    },\n    blockInfo: {\n        right: 20,\n        top: 10,\n        position: 'absolute',\n        display: 'flex',\n        alignItems: 'center',\n        color: 'silver'\n    },\n    img: {\n        marginLeft: 10,\n        width: 45,\n        height: 45,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    img2: {\n        width: 70,\n        height: 70,\n        margin: '10px 0',\n        borderRadius: 4,\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    link:{\n        margin: '10px 0',\n    }\n}));\n\nconst Status = ({ name, ...props }) => {\n    switch (name) {\n        case 'warning':\n            return <WarningIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'info':\n            return <InfoIcon style={{ color: '#007cff' }} {...props} />;\n        case 'danger':\n            return <CancelIcon style={{ color: '#ff2f2f' }} {...props} />;\n        default:\n            return <InfoIcon style={{ color: '#007cff' }} {...props} />;\n    }\n}\n\nconst NewsAdminDialog = ({ newsArr, current, callback, themeType, themeName }) => {\n    const classes = useStyles();\n    const [open, setOpen] = useState(true);\n    const [id, setId] = useState(current);\n    const [last, setLast] = useState(false);\n    const [indexArr, setIndexArr] = useState(0);\n\n    useEffect(() => {\n        const item = newsArr.find(el => el.id === id);\n        if (item) {\n            const index = newsArr.indexOf(item);\n            if (index + 1 < newsArr.length) {\n                const newId = newsArr[index + 1].id;\n                if (newId) {\n                    setId(newId);\n                    setIndexArr(index + 1);\n                }\n            } else {\n                setOpen(false);\n                try {\n                    node && window.document.body.removeChild(node);\n                } catch (e) {\n                    // ignore\n                }\n                node = null;\n            }\n        } else {\n            setId(newsArr[0].id);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [last]);\n\n    const onClose = () => {\n        // setOpen(false);\n        setLast(!last)\n        callback(id);\n    };\n\n    const lang = I18n.getLanguage();\n    let text = newsArr[indexArr].content;\n    if (typeof text === 'object') {\n        text = (text[lang] || text.en).replace(/='([^']*)'/g, '=\"$1\"');\n    }\n    let title = newsArr[indexArr].title;\n    if (typeof title === 'object') {\n        title = title[lang] || title.e;\n    }\n    return <ThemeProvider theme={theme(themeName)}>\n        <Dialog\n            onClose={onClose}\n            open={open}\n            classes={{ paper: classes.paper }}\n        >\n            <div className={classes.blockInfo}>\n                {new Date(newsArr[indexArr].created).toLocaleDateString(lang)}\n                <Status className={classes.img} name={newsArr[indexArr].class} />\n            </div>\n            <DialogTitle>{I18n.t('You have unread news!')}</DialogTitle>\n            <DialogTitle>{title}</DialogTitle>\n            <DialogContent className={classes.overflowHidden} dividers>\n                <div className={classes.root}>\n                    <div className={classes.pre}>\n                        {newsArr[indexArr]?.img &&\n                            <CardMedia className={classes.img2} component=\"img\" image={newsArr[indexArr].img} />}\n                        <Typography\n                            style={themeType === 'dark' ? { color: 'black' } : null}\n                            variant=\"body2\"\n                            component=\"p\">\n                            {Utils.renderTextWithA(text)}\n                        </Typography>\n                        {newsArr[indexArr]?.link &&\n                            <Button\n                                variant=\"contained\"\n                                className={classes.link}\n                                onClick={() => window.open(newsArr[indexArr].link, '_blank')}\n                                color=\"primary\"\n                            >\n                                {newsArr[indexArr].linkTitle ? newsArr[indexArr].linkTitle[lang] ? newsArr[indexArr].linkTitle[lang] : newsArr[indexArr].linkTitle : I18n.t('Link')}\n                            </Button>}\n                    </div>\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    autoFocus\n                    onClick={onClose}\n                    color=\"primary\"\n                    startIcon={<CheckIcon/>}\n                >\n                    {I18n.t('Acknowledge')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </ThemeProvider>;\n}\n\nfunction checkActive(adapterName, instances) {\n    return !!Object.keys(instances).filter(id => id.startsWith('adapter.system.' + adapterName + '.')).find(id => instances[id].enabled);\n}\n\nfunction checkConditions(condition, installedVersion) {\n    if (condition.startsWith('equals')) {\n        const vers = condition.substring(7, condition.length - 1).trim();\n        return installedVersion === vers;\n    } else if (condition.startsWith('bigger') || condition.startsWith('greater')) {\n        const vers = condition.substring(7, condition.length - 1).trim();\n        try {\n            return semver.gt(vers, installedVersion);\n        } catch (e) {\n            return false;\n        }\n    } else if (condition.startsWith('smaller')) {\n        const vers = condition.substring(8, condition.length - 1).trim();\n        try {\n            return semver.lt(installedVersion, vers);\n        } catch (e) {\n            return false;\n        }\n    } else if (condition.startsWith('between')) {\n        const vers1 = condition.substring(8, condition.indexOf(',')).trim();\n        const vers2 = condition.substring(condition.indexOf(',') + 1, condition.length - 1).trim();\n        try {\n            return semver.gt(vers1, installedVersion) && semver.gt(vers2,  installedVersion);\n        } catch (e) {\n            return false;\n        }\n    } else {\n        return true;\n    }\n}\n\n/*const context = {\n    adapters,\n    instances,\n    nodeVersion,\n    npmVersion,\n    os,\n    activeRepo\n    uuid,\n    lang\n}*/\n\nexport const checkMessages = function (messages, lastMessageId, context) {\n    const messagesToShow = [];\n\n    try {\n        const today = Date.now();\n        for (let m = 0; m < messages.length; m++) {\n            const message = messages[m];\n            if (!message) {\n                continue;\n            }\n            if (message.id === lastMessageId) {\n                break;\n            }\n            let showIt = true;\n\n            if (showIt && message['date-start'] && new Date(message['date-start']).getTime() > today) {\n                showIt = false;\n            } else if (showIt && message['date-end'] && new Date(message['date-end']).getTime() < today) {\n                showIt = false;\n            } else if (showIt && message.conditions && Object.keys(message.conditions).length > 0) {\n                Object.keys(message.conditions).forEach(key => {\n                    if (showIt) {\n                        const adapter = context.adapters[key];\n                        const condition = message.conditions[key];\n\n                        if (!adapter && condition !== '!installed') {\n                            showIt = false;\n                        } else if (adapter && condition === '!installed') {\n                            showIt = false;\n                        } else if (adapter && condition === 'active') {\n                            showIt = checkActive(key, context.instances);\n                        } else if (adapter && condition === '!active') {\n                            showIt = !checkActive(key, context.instances);\n                        } else if (adapter) {\n                            showIt = checkConditions(condition, adapter.v);\n                        }\n                    }\n                });\n            }\n\n            if (showIt && message['node-version'] && context.nodeVersion) {\n                showIt = checkConditions(message['node-version'], context.nodeVersion);\n            }\n            if (showIt && message['npm-version'] && context.npmVersion) {\n                showIt = checkConditions(message['npm-version'], context.npmVersion);\n            }\n            if (showIt && message['os'] && context.os) {\n                showIt = context.os === message['os'];\n            }\n            if (showIt && message['repo']) {\n                showIt = context.activeRepo === message['repo'];\n            }\n            if (showIt && message['uuid']) {\n                if (Array.isArray(message['uuid'])) {\n                    showIt = context.uuid && message['uuid'].find(uuid => context.uuid === uuid);\n                } else {\n                    showIt = context.uuid && context.uuid === message['uuid'];\n                }\n            }\n\n            if (showIt) {\n                messagesToShow.push({\n                    id: message.id,\n                    title: message.title[context.lang] || message.title.en,\n                    content: message.content[context.lang] || message.content.en,\n                    'class': message.class,\n                    icon: message.icon,\n                    created: message.created\n                });\n            }\n        }\n    } catch (err) {\n\n    }\n\n    return messagesToShow;\n}\n\nexport const newsAdminDialogFunc = (newsArr, current, themeName, themeType, callback) => {\n    if (!node) {\n        node = document.createElement('div');\n        node.id = 'renderModal';\n        document.body.appendChild(node);\n    }\n    return ReactDOM.render(<NewsAdminDialog newsArr={newsArr} themeName={themeName} themeType={themeType} current={current} callback={callback} />, node);\n}","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport clsx from 'clsx';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { Accordion, AccordionDetails, AccordionSummary, AppBar, Box, CardMedia, makeStyles, Tab, Tabs, ThemeProvider, Typography } from '@material-ui/core';\n\nimport UpdateIcon from '@material-ui/icons/Update';\nimport SettingsRemoteIcon from '@material-ui/icons/SettingsRemote';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport PermDeviceInformationIcon from '@material-ui/icons/PermDeviceInformation';\nimport ImportExportIcon from '@material-ui/icons/ImportExport';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport CancelPresentationIcon from '@material-ui/icons/CancelPresentation';\nimport MemoryIcon from '@material-ui/icons/Memory';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nlet node = null;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        height: 'auto',\n        display: 'flex',\n        borderRadius: 4,\n        flexDirection: 'column'\n    },\n    paper: {\n        maxWidth: 1000,\n        width: '100%'\n    },\n    flex: {\n        display: 'flex',\n    },\n    overflowHidden: {\n        overflow: 'hidden'\n    },\n    overflowAuto: {\n        overflowY: 'auto'\n    },\n    pre: {\n        overflow: 'auto',\n        margin: 20,\n        '& p': {\n            fontSize: 18,\n        }\n    },\n    blockInfo: {\n        right: 20,\n        top: 10,\n        position: 'absolute',\n        display: 'flex',\n        alignItems: 'center',\n        color: 'silver'\n    },\n    img: {\n        marginLeft: 10,\n        width: 45,\n        height: 45,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    message: {\n        justifyContent: 'space-between',\n        display: 'flex',\n        width: '100%',\n        alignItems: 'center'\n    },\n    column: {\n        flexDirection: 'column'\n    },\n    headerText: {\n        fontWeight: 'bold',\n        fontSize: 20\n    },\n    descriptionHeaderText: {\n        margin: '18px 0'\n    },\n    silver: {\n        color: 'silver'\n    },\n    button: {\n        paddingTop: 18,\n        paddingBottom: 5,\n        position: 'sticky',\n        bottom: 0,\n        background: 'white',\n        zIndex: 3\n    },\n    terminal: {\n        fontFamily: 'monospace',\n        fontSize: 14,\n        marginLeft: 20\n    },\n    img2: {\n        width: 25,\n        height: 25,\n        marginRight: 10,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    heading: {\n        display: 'flex',\n        alignItems: 'center',\n        overflow: 'hidden'\n    },\n    headingTop: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    classNameBox: {\n        padding: 24\n    },\n    textStyle: {\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n    },\n    content: {\n        overflow: 'hidden'\n    },\n    buttonStyle: {\n        margin: 3\n    },\n    '@media screen and (max-width: 550px)': {\n        classNameBox: {\n            padding: 10\n        },\n        message: {\n            flexWrap: 'wrap'\n        },\n        textStyle: {\n            fontSize: '2.9vw'\n        },\n        terminal: {\n            fontSize: '2.9vw',\n            marginLeft: 0\n        },\n        silver: {\n            fontSize: '2.9vw',\n        },\n        buttonStyle: {\n            fontSize: '2.9vw',\n        },\n    },\n}));\n\nconst Status = ({ name, ...props }) => {\n    switch (name) {\n        case 'restartLoop':\n            return <UpdateIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'memIssues':\n            return <MemoryIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'fsIoErrors':\n            return <ImportExportIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'noDiskSpace':\n            return <PermDeviceInformationIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'accessErrors':\n            return <CancelPresentationIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'nonExistingFileErrors':\n            return <CancelIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'remoteHostErrors':\n            return <SettingsRemoteIcon style={{ color: '#ffca00' }} {...props} />;\n        case 'heading':\n            return <WarningIcon style={{\n                color: '#ffca00',\n                fontSize: 36,\n                marginLeft: 25,\n                marginRight: 10\n            }} {...props} />;\n\n        default:\n            return <WarningIcon style={{ color: '#ffca00' }} {...props} />;\n    }\n}\n\nconst a11yProps = (index) => {\n    return {\n        id: `scrollable-force-tab-${index}`,\n        'aria-controls': `scrollable-force-tabpanel-${index}`,\n    };\n}\n\nconst TabPanel = ({ children, value, index, classNameBox, ...other }) => {\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`scrollable-force-tabpanel-${index}`}\n            aria-labelledby={`scrollable-force-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box className={classNameBox}>\n                    <Typography component=\"div\">{children}</Typography>\n                </Box>\n            )}\n        </div>\n    );\n}\n\nconst HostWarningDialog = ({ message, ackCallback, dateFormat, themeType, themeName, instances }) => {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(true);\n    const [value, setValue] = useState(0);\n    const [disabled, setDisabled] = useState([]);\n    const [expanded, setExpanded] = useState(false);\n\n    const onClose = () => {\n        setOpen(false);\n        if (node) {\n            try {\n                window.document.body.removeChild(node);\n            } catch (e) {\n                // ignore\n            }\n            node = null;\n        }\n    }\n\n    const handleChange = (event, newValue) =>\n        setValue(newValue);\n\n    const handleChangeAccordion = panel => (event, isExpanded) =>\n        setExpanded(isExpanded ? panel : false);\n\n    const black = themeType === 'dark';\n\n    return <ThemeProvider theme={theme(themeName)}>\n        <Dialog\n            onClose={onClose}\n            open={open}\n            classes={{ paper: classes.paper }}\n        >\n            <h2 className={classes.headingTop}><Status name=\"heading\" />{I18n.t('Adapter warnings')}</h2>\n            <DialogContent className={clsx(classes.flex, classes.overflowHidden)} dividers>\n                <div className={classes.root}>\n                    <AppBar position=\"static\" color=\"default\">\n                        <Tabs\n                            value={value}\n                            onChange={handleChange}\n                            variant=\"scrollable\"\n                            scrollButtons=\"on\"\n                            indicatorColor={black ? 'primary' : 'secondary'}\n                            textColor=\"primary\"\n                        >\n                            {Object.keys(message).map((name, idx) => <Tab\n                                style={black ? null : { color: 'white' }}\n                                disabled={disabled.includes(name)}\n                                key={name} label={I18n.t(name)}\n                                icon={<Status name={name} />}\n                                {...a11yProps(idx)} />\n                            )}\n                        </Tabs>\n                    </AppBar>\n                    {Object.keys(message).map((name, idx) => <TabPanel\n                        className={classes.overflowAuto}\n                        classNameBox={classes.classNameBox}\n                        key={`tabPanel-${name}`}\n                        style={black ? { color: 'black' } : null}\n                        value={value}\n                        index={idx}>\n                        <div className={classes.headerText} style={{ fontWeight: 'bold' }}>\n                            {message[name].name[I18n.getLanguage()]}\n                        </div>\n                        <div className={classes.descriptionHeaderText}>\n                            {message[name].description[I18n.getLanguage()]}\n                        </div>\n                        <div>\n                            {message[name].instances ? Object.keys(message[name].instances).map(nameInst => {\n                                const currentInstance = instances && instances[nameInst];\n                                let icon = 'img/no-image.png';\n                                if (currentInstance?.common?.icon && currentInstance?.common?.name) {\n                                    icon = `adapter/${currentInstance.common.name}/${currentInstance.common.icon}`;\n                                }\n                                return <Accordion\n                                    style={black ? null : { background: '#c0c0c052' }}\n                                    key={nameInst} expanded={expanded === `${name}-${nameInst}`}\n                                    onChange={handleChangeAccordion(`${name}-${nameInst}`)}\n                                >\n                                    <AccordionSummary\n                                        expandIcon={<ExpandMoreIcon />}\n                                        classes={{ content: classes.content }}\n                                        aria-controls=\"panel1bh-content\"\n                                        id=\"panel1bh-header\"\n                                    >\n                                        <Typography className={classes.heading}>\n                                            <CardMedia className={classes.img2} component=\"img\" image={icon} />\n                                            <div className={classes.textStyle}>\n                                                {nameInst.replace(/^system\\.adapter\\./, '')}\n                                            </div>\n                                        </Typography>\n                                    </AccordionSummary>\n                                    <AccordionDetails className={classes.column}>\n                                        {message[name].instances[nameInst].messages.map(msg =>\n                                            <Typography key={msg.ts} component=\"div\" className={classes.message}>\n                                                <div className={classes.terminal}>{msg.message}</div>\n                                                <div className={classes.silver}>{Utils.formatDate(new Date(msg.ts), dateFormat)}</div>\n                                            </Typography>)}\n                                    </AccordionDetails>\n                                </Accordion>\n                            }) : null}\n                        </div>\n                        <div className={classes.button}>\n                            <Button\n                                variant=\"contained\"\n                                autoFocus={Object.keys(message).length !== 1}\n                                disabled={disabled.includes(name)}\n                                style={disabled.includes(name) ? { background: 'silver' } : null}\n                                className={classes.buttonStyle}\n                                onClick={() => {\n                                    ackCallback(name);\n                                    setDisabled([...disabled, name]);\n                                }}\n                                color={Object.keys(message).length !== 1 ? 'primary' : 'default'}\n                                startIcon={<CheckIcon />}\n                            >\n                                {I18n.t('Acknowledge')}\n                            </Button>\n                            {Object.keys(message).length === 1 && <Button\n                                variant=\"contained\"\n                                disabled={disabled.includes(name)}\n                                className={classes.buttonStyle}\n                                style={disabled.includes(name) ? { background: 'silver' } : null}\n                                onClick={() => {\n                                    ackCallback(name);\n                                    setDisabled([...disabled, name]);\n                                    onClose();\n                                }}\n                                startIcon={<><CheckIcon /><CloseIcon /></>}\n                                color=\"primary\">\n                                {I18n.t('Acknowledge & close')}\n                            </Button>}\n                        </div>\n                    </TabPanel>\n                    )}\n                </div>\n            </DialogContent >\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    onClick={onClose}\n                    startIcon={<CloseIcon />}\n                >\n                    {I18n.t('Ok')}\n                </Button>\n            </DialogActions>\n        </Dialog >\n    </ThemeProvider >;\n}\n\nexport const hostWarningDialogFunc = (message, dateFormat, themeType, themeName, instances, ackCallback) => {\n    if (!node) {\n        node = document.createElement('div');\n        node.id = 'renderModal';\n        document.body.appendChild(node);\n    }\n    return ReactDOM.render(<HostWarningDialog instances={instances} message={message} themeName={themeName} themeType={themeType} dateFormat={dateFormat} ackCallback={ackCallback} />, node);\n}","import Utils from '../Utils';\n\nclass LogsWorker {\n    constructor(socket, maxLogs) {\n        this.socket               = socket;\n        this.handlers             = [];\n        this.promise              = null;\n\n        this.errorCountHandlers   = [];\n        this.warningCountHandlers = [];\n        this.countErrors          = true;\n        this.countWarnings        = true;\n        this.errors               = 0;\n        this.warnings             = 0;\n        this.currentHost          = '';\n        this.connected            = this.socket.isConnected();\n        this.maxLogs              = maxLogs || 1000;\n        this.logs                 = null;\n        this.isSafari             = navigator.vendor && navigator.vendor.includes('Apple') &&\n                                    navigator.userAgent && !navigator.userAgent.includes('CriOS') && !navigator.userAgent.includes('FxiOS');\n\n        socket.registerLogHandler(this.logHandler);\n        socket.registerConnectionHandler(this.connectionHandler);\n    }\n\n    setCurrentHost(currentHost) {\n        if (currentHost !== this.currentHost) {\n            this.currentHost = currentHost;\n            this.getLogs(true);\n        }\n    }\n\n    enableCountErrors(isEnabled) {\n        if (this.countErrors !== isEnabled) {\n            this.countErrors = isEnabled;\n            if (!this.countErrors) {\n                const errors = this.errors;\n                this.error   = 0;\n                errors && this.errorCountHandlers.forEach(handler => handler && handler(errors));\n            }\n        }\n    }\n\n    enableCountWarnings(isEnabled) {\n        if (this.countWarnings !== isEnabled) {\n            this.countWarnings = isEnabled;\n            if (!this.countWarnings) {\n                const warnings = this.warnings;\n                this.warnings = 0;\n                if (warnings) {\n                    this.warningCountHandlers.forEach(handler => handler && handler(warnings));\n                }\n            }\n        }\n    }\n\n    resetErrors() {\n        if (this.errors) {\n            this.errors = 0;\n            this.errorCountHandlers.forEach(handler => handler && handler(this.errors));\n        }\n    }\n\n    resetWarnings() {\n        if (this.warnings) {\n            this.warnings = 0;\n            this.warningCountHandlers.forEach(handler => handler && handler(this.warnings));\n        }\n    }\n\n    logHandler = line => {\n        const obj = this._processLine(line);\n\n        if (obj) {\n            const errors = this.errors;\n            const warnings = this.warnings;\n\n            this.newLogs = this.newLogs || [];\n            this.newLogs.push(obj);\n\n            if (!this.logTimeout) {\n                this.logTimeout = setTimeout(() => {\n                    this.logTimeout = null;\n                    const newLogs = this.newLogs;\n                    this.newLogs = null;\n\n                    this.handlers.forEach(handler =>\n                        handler && handler(newLogs, JSON.stringify(line).length - 65));\n                }, 200);\n            }\n\n            if (errors !== this.errors) {\n                this.errorCountHandlers.forEach(handler => handler && handler(this.errors));\n            }\n\n            if (warnings !== this.warnings) {\n                this.warningCountHandlers.forEach(handler => handler && handler(this.warnings));\n            }\n        }\n    }\n\n    connectionHandler = isConnected => {\n        if (isConnected && !this.connected) {\n            this.connected = true;\n            this.getLogs(true);\n        } else if (!isConnected && this.connected) {\n            this.connected = false;\n        }\n    }\n\n    registerHandler(cb) {\n        if (!this.handlers.includes(cb)) {\n            this.handlers.push(cb);\n        }\n    }\n\n    unregisterHandler(cb) {\n        const pos = this.handlers.indexOf(cb);\n\n        if (pos !== -1) {\n            this.handlers.splice(pos, 1);\n        }\n    }\n\n    registerErrorCountHandler(cb) {\n        if (!this.errorCountHandlers.includes(cb)) {\n            this.errorCountHandlers.push(cb);\n        }\n    }\n\n    unregisterErrorCountHandler(cb) {\n        const pos = this.errorCountHandlers.indexOf(cb);\n\n        if (pos !== -1) {\n            this.errorCountHandlers.splice(pos, 1);\n        }\n    }\n\n    registerWarningCountHandler(cb) {\n        if (!this.warningCountHandlers.includes(cb)) {\n            this.warningCountHandlers.push(cb);\n        }\n    }\n\n    unregisterWarningCountHandler(cb) {\n        const pos = this.warningCountHandlers.indexOf(cb);\n\n        if (pos !== -1) {\n            this.warningCountHandlers.splice(pos, 1);\n        }\n    }\n\n    _processLine(line, lastKey) {\n        // do not update logs before the first logs from host received\n        if (!this.logs) {\n            return;\n        }\n        if (!line) {\n            return;\n        }\n        /* const line = {\n            \"severity\": \"error\",\n            \"ts\": 1588162801514,\n            \"message\": \"host.DESKTOP-PLLTPO1 Invalid request getLogs. \\\"callback\\\" or \\\"from\\\" is null\",\n            \"from\": \"host.DESKTOP-PLLTPO1\",\n            \"_id\": 48358425\n        };*/\n\n        let obj;\n        let isNew = true;\n        const length = this.logs.length;\n        lastKey = lastKey || (length && this.logs[this.logs.length - 1].key) || 0;\n\n        if (typeof line === 'object') {\n            if (lastKey && lastKey <= line.ts) {\n                line.key = lastKey + 1;\n            } else {\n                line.key = line.ts;\n            }\n\n            obj = line;\n        } else {\n            const time = line.match(/^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{3}/);\n\n            if (time && time.length > 0) {\n                let ts;\n                // Safari sucks. It is very idiotic browser and because of it, we must parse every number apart\n                if (this.isSafari) {\n                    // parse every number\n                    const tt = line.match(/^(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})\\.(\\d{3})/);\n                    ts = new Date(parseInt(tt[1], 10), parseInt(tt[2], 10) - 1, parseInt(tt[3], 10), parseInt(tt[4], 10), parseInt(tt[5], 10), parseInt(tt[6], 10), parseInt(tt[7], 10)).getTime();\n                } else {\n                    const tt = time[0].split(' ');\n                    ts = new Date(tt[0] + 'T' + tt[1]).getTime();\n                }\n                let key = ts;\n\n                if (lastKey && lastKey <= ts) {\n                    key = lastKey + 1;\n                }\n\n                // detect from\n                const from = line.match(/: (host\\..+? |[-\\w]+\\.\\d+ \\()/);\n\n                obj = {\n                    key,\n                    from:  from ? from[0].replace(/[ :(]/g, '') : '',\n                    message: line.split(/\\[\\d+m: /)[1],\n                    severity: line.match(/\\d+m(silly|debug|info|warn|error)/)[0].replace(/[\\dm]/g, ''),\n                    ts\n                };\n            } else {\n                isNew = false;\n                // if no time found\n                if (length) {\n                    obj = this.logs[length - 1];\n                    if (obj) {\n                        if (typeof obj.message === 'object') {\n                            obj.message = Utils.parseColorMessage(obj.message.original + line);\n                        } else {\n                            obj.message += line;\n                        }\n                    }\n                }\n            }\n        }\n\n        if (!obj) {\n            return;\n        }\n\n        if (typeof obj.message !== 'object') {\n            obj.message = Utils.parseColorMessage(obj.message);\n        }\n\n        if (isNew) {\n            // if new message time is less than last message in log\n            if (length && this.logs[length - 1].key > obj.key) {\n                let i;\n                // find place\n                for (i = length - 1; i >= 0; i--) {\n                    if (this.logs[i].key < obj.key) {\n                        break;\n                    }\n                }\n                if (i === -1) {\n                    this.logs.unshift(obj);\n                } else {\n                    this.logs.splice(i + 1, 0, obj);\n                }\n            } else {\n                this.logs.push(obj);\n            }\n\n            if (length + 1 === this.maxLogs) {\n                this.logs.shift();\n            }\n\n            if (isNew && obj.severity === 'error' && this.countErrors) {\n                this.errors++;\n            }\n\n            if (isNew && obj.severity === 'warn' && this.countWarnings) {\n                this.warnings++;\n            }\n        }\n\n        return obj;\n    }\n\n    getLogs(update) {\n        if (!this.currentHost) {\n            return Promise.resolve({logs: [], logSize: 0});\n        }\n\n        if (!update && this.promise) {\n            return this.promise;\n        }\n\n\n        this.errors = 0;\n        this.warnings = 0;\n\n        this.promise = this.socket.getLogs(this.currentHost, 200)\n            .then(lines => {\n                if (lines === 'permissionError') {\n                    this.logs = [];\n\n                    window.alert('Cannot get logs: no permission');\n\n                    return {logs: this.logs, logSize: 0};\n                }\n                const logSize = lines ? lines.pop() : null;\n\n                this.logs = [];\n                let lastKey;\n\n                lines.forEach(line => {\n                    const obj = this._processLine(line, lastKey);\n                    if (obj) {\n                        lastKey = obj.key;\n                    }\n                });\n\n                if (lines && lines.length && lines[0].ts) {\n                    lines.sort((a, b) => a.ts > b.ts ? 1 : (a.ts < b.ts ? -1 : 0));\n                }\n\n                this.logSize = logSize;\n\n                // inform subscribes about each line\n                this.handlers.forEach(cb => cb && cb(this.logs, logSize));\n\n                this.errors && this.errorCountHandlers.forEach(handler => handler && handler(this.errors));\n                this.warnings && this.warningCountHandlers.forEach(handler => handler && handler(this.warnings));\n\n                return {logs: this.logs, logSize};\n            })\n            .catch(e => {\n                window.alert('Cannot get logs: ' + e);\n            });\n\n        return this.promise;\n    }\n\n    clearLines() {\n        this.logs    = [];\n        this.logSize = 0;\n\n        if (this.errors) {\n            const errors = this.errors;\n            this.errors = 0;\n            this.errorCountHandlers.forEach(handler => handler && handler(errors));\n        }\n\n        if (this.warnings) {\n            const warnings = this.warnings;\n            this.warnings = 0;\n            this.warningCountHandlers.forEach(handler => handler && handler(warnings));\n        }\n    }\n}\n\nexport default LogsWorker;","import Utils from '../Utils'\n\nclass InstancesWorker {\n    constructor(socket) {\n        this.socket   = socket;\n        this.handlers = [];\n        this.promise  = null;\n\n        socket.registerConnectionHandler(this.connectionHandler);\n\n        this.connected = this.socket.isConnected();\n\n        this.objects = null;\n    }\n\n    objectChangeHandler = (id, obj) => {\n        this.objects = this.objects || {};\n        // if instance\n        if (id.match(/^system\\.adapter\\.[^.]+\\.\\d+$/)) {\n            let type;\n            let oldObj;\n            if (obj) {\n                if (obj.type !== 'instance') {\n                    return;\n                }\n\n                Utils.fixAdminUI(obj);\n\n                if (this.objects[id]) {\n                    oldObj = this.objects[id];\n                    if (JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\n                        type = 'changed';\n                        this.objects[id] = obj;\n                    } else {\n                        // no changes\n                        return;\n                    }\n                } else {\n                    type = 'new';\n                    this.objects[id] = obj;\n                }\n            } else {\n                if (this.objects[id]) {\n                    oldObj = this.objects[id];\n                    type = 'deleted';\n                    delete this.objects[id];\n                } else {\n                    // deleted unknown instance\n                    return;\n                }\n            }\n\n            this.handlers.forEach(cb => cb([{ id, obj, type, oldObj }]));\n        }\n    };\n\n    // be careful with this object. Do not change them.\n    getInstances(update) {\n        if (!update && this.promise) {\n            return this.promise;\n        }\n\n        this.promise = this.socket.getAdapterInstances(update)\n            .then(objects => {\n                this.objects = {};\n                objects.forEach(obj => this.objects[obj._id] = obj);\n                return this.objects;\n            })\n            .catch(e => window.alert('Cannot get adapter instances: ' + e));\n\n        return this.promise;\n    }\n\n    connectionHandler = isConnected => {\n        if (isConnected && !this.connected) {\n            this.connected = true;\n\n            if (this.handlers.length) {\n                this.socket.subscribeObject('system.adapter.*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n\n                this.getInstances(true)\n                    .then(instances => instances && Object.keys(instances)\n                        .forEach(id => this.objectChangeHandler(id, instances[id])));\n            }\n        } else if (!isConnected && this.connected) {\n            this.connected = false;\n        }\n    }\n\n    registerHandler(cb, doNotRequestAdapters) {\n        if (!this.handlers.includes(cb)) {\n            this.handlers.push(cb);\n\n            if (this.handlers.length === 1 && this.connected) {\n                this.socket.subscribeObject('system.adapter.*', this.objectChangeHandler)\n                    .then(() => !doNotRequestAdapters && this.getInstances())\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n            }\n        }\n    }\n\n    unregisterHandler(cb) {\n        const pos = this.handlers.indexOf(cb);\n        pos !== -1 && this.handlers.splice(pos, 1);\n\n        if (!this.handlers.length && this.connected) {\n            this.socket.unsubscribeObject('system.adapter.*', this.objectChangeHandler)\n                .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n        }\n    }\n}\n\nexport default InstancesWorker;\n","class HostsWorker {\n    constructor(socket) {\n        this.socket = socket;\n        this.handlers = [];\n        this.aliveHandlers = [];\n        this.notificationsHandlers = [];\n        this.promise = null;\n        this.notificationPromises = {};\n\n        socket.registerConnectionHandler(this.connectionHandler);\n\n        this.connected = this.socket.isConnected();\n        this.objects = {};\n        this.aliveStates = {};\n    }\n\n    objectChangeHandler = (id, obj) => {\n        // if instance\n        if (id.startsWith('system.host.')) {\n            let type;\n            let oldObj;\n            if (obj) {\n                if (obj.type !== 'host') {\n                    return;\n                }\n\n                if (this.objects[id]) {\n                    if (JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\n                        type = 'changed';\n                        this.objects[id] = obj;\n                    } else {\n                        // no changes\n                        return;\n                    }\n                } else {\n                    type = 'new';\n                    this.objects[id] = obj;\n                }\n            } else {\n                if (this.objects[id]) {\n                    type = 'deleted';\n                    oldObj = this.objects[id];\n                    delete this.objects[id];\n                } else {\n                    // deleted unknown instance\n                    return;\n                }\n            }\n            this.handlers.forEach(cb => cb([{id, obj, type, oldObj}]));\n        }\n    }\n\n    aliveChangeHandler = (id, state) => {\n        // if instance\n        if (id.startsWith('system.host.') && id.endsWith('.alive')) {\n            let type;\n            id = id.replace(/\\.alive$/, '');\n            if (state) {\n                if (this.aliveStates[id] !== undefined) {\n                    if ((!!this.aliveStates[id]) !== (!!state?.val)) {\n                        type = 'changed';\n                        this.aliveStates[id] = !!state?.val;\n                    } else {\n                        // no changes\n                        return;\n                    }\n                } else {\n                    type = 'new';\n                    this.aliveStates[id] = !!state?.val;\n                }\n            } else {\n                if (this.aliveStates[id]) {\n                    type = 'deleted';\n                    delete this.aliveStates[id];\n                } else {\n                    // deleted unknown instance\n                    return;\n                }\n            }\n            this.aliveHandlers.forEach(cb => cb([{id, alive: this.aliveStates[id], type}]));\n        }\n    }\n\n    getHosts(update) {\n        if (!update && this.promise) {\n            return this.promise;\n        }\n\n        this.promise = this.socket.getHosts(update)\n            .then(objects => {\n                this.objects = {};\n                objects.forEach(obj => this.objects[obj._id] = obj);\n                return this.objects;\n            })\n            .catch(e => window.alert('Cannot get hosts: ' + e));\n\n        return this.promise;\n    }\n\n    connectionHandler = isConnected => {\n        if (isConnected && !this.connected) {\n            this.connected = true;\n\n            if (this.handlers.length) {\n                this.socket.subscribeObject('system.host.*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n\n                // read all hosts anew and inform about it\n                this.getHosts(true)\n                    .then(hosts => hosts && Object.keys(hosts)\n                        .forEach(id => this.objectChangeHandler(id, hosts[id])));\n            }\n            if (this.aliveHandlers.length) {\n                this.socket.subscribeState('system.host.*.alive', this.aliveChangeHandler);\n            }\n        } else if (!isConnected && this.connected) {\n            this.connected = false;\n            Object.keys(this.aliveStates)\n                .forEach(id => this.aliveHandlers[id] = false);\n        }\n    }\n\n    registerHandler(cb) {\n        if (!this.handlers.includes(cb)) {\n            this.handlers.push(cb);\n\n            if (this.handlers.length === 1 && this.connected) {\n                this.socket.subscribeObject('system.host.*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n            }\n        }\n    }\n\n    unregisterHandler(cb) {\n        const pos = this.handlers.indexOf(cb);\n        if (pos !== -1) {\n            this.handlers.splice(pos, 1);\n            if (!this.handlers.length && this.connected) {\n                this.socket.unsubscribeObject('system.host.*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n            }\n        }\n    }\n\n    registerAliveHandler(cb) {\n        if (!this.aliveHandlers.includes(cb)) {\n            this.aliveHandlers.push(cb);\n\n            if (this.aliveHandlers.length === 1 && this.connected) {\n                this.socket.subscribeState('system.host.*.alive', this.aliveChangeHandler);\n            }\n        }\n    }\n\n    unregisterAliveHandler(cb) {\n        const pos = this.aliveHandlers.indexOf(cb);\n        if (pos !== -1) {\n            this.aliveHandlers.splice(pos, 1);\n            if (!this.aliveHandlers.length && this.connected) {\n                this.socket.unsubscribeState('system.host.*.alive', this.aliveChangeHandler);\n            }\n        }\n    }\n\n    onNotificationHandler = (id, state) => {\n        const host = id.replace(/\\.notifications\\..+$/, '');\n\n        // ignore subscribe events\n        if (!this.subscribeTs || Date.now() - this.subscribeTs > 500) {\n            this.notificationTimer && clearTimeout(this.notificationTimer);\n\n            this.notificationTimer = setTimeout(host => {\n                this.notificationTimer = null;\n                this.notificationPromises[host] = this._getNotificationsFromHots(host, true);\n\n                this.notificationPromises[host].then(notifications =>\n                    this.notificationsHandlers.forEach(cb => cb(notifications)));\n            }, 300, host);\n        }\n    };\n\n    _getNotificationsFromHots(hostId, update) {\n        if (!update && this.notificationPromises[hostId]) {\n            return this.notificationPromises[hostId];\n        }\n\n        this.notificationPromises[hostId] = this.socket.getState(hostId + '.alive')\n            .then(state => {\n                if (state && state.val) {\n                    return this.socket.getNotifications(hostId)\n                        .then(notifications => ({[hostId]: notifications}))\n                        .catch(e => {\n                            console.warn(`Cannot read notifications from \"${hostId}\": ${e}`);\n                            return {[hostId]: null};\n                        });\n                } else {\n                    return {[hostId]: null};\n                }\n            });\n\n        return this.notificationPromises[hostId];\n    }\n\n    getNotifications(hostId, update) {\n        if (hostId) {\n            return this._getNotificationsFromHots(hostId, update);\n        } else {\n            return this.socket.getCompactHosts(update)\n                .then(hosts => {\n                    const promises = hosts\n                        .map(host => this._getNotificationsFromHots(host._id, update));\n\n                    return Promise.all(promises)\n                        .then(pResults => {\n                            const result = {};\n                            pResults.forEach(r => Object.assign(result, r));\n                            return result;\n                        });\n                });\n        }\n    }\n\n    registerNotificationHandler(cb) {\n        if (!this.notificationsHandlers.includes(cb)) {\n            this.notificationsHandlers.push(cb);\n\n            if (this.notificationsHandlers.length === 1 && this.connected) {\n                this.subscribeTs = Date.now();\n                this.socket.subscribeState('system.host.*.notifications.*', this.onNotificationHandler);\n            }\n        }\n    }\n\n    unregisterNotificationHandler(cb) {\n        const pos = this.notificationsHandlers.indexOf(cb);\n\n        if (pos !== -1) {\n            this.notificationsHandlers.splice(pos, 1);\n            if (!this.notificationsHandlers.length && this.connected) {\n                this.socket.unsubscribeState('system.host.*.notifications.*', this.onNotificationHandler);\n            }\n        }\n    }\n}\n\nexport default HostsWorker;\n","import Utils from '../Utils'\n\nclass AdaptersWorker {\n    constructor(socket) {\n        this.socket   = socket;\n        this.handlers = [];\n        this.repositoryHandlers = [];\n        this.promise  = null;\n\n        socket.registerConnectionHandler(this.connectionHandler);\n        this.connected = this.socket.isConnected();\n\n        this.objects = null;\n    }\n\n    objectChangeHandler = (id, obj) => {\n        this.objects = this.objects || {};\n        // if instance\n        if (id.match(/^system\\.adapter\\.[^.]+$/)) {\n            let type;\n            let oldObj;\n            if (obj) {\n                if (obj.type !== 'adapter') {\n                    return;\n                }\n\n                Utils.fixAdminUI(obj);\n\n                if (this.objects[id]) {\n                    oldObj = this.objects[id];\n                    if (JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\n                        type = 'changed';\n                        this.objects[id] = obj;\n                    } else {\n                        // no changes\n                        return;\n                    }\n                } else {\n                    type = 'new';\n                    this.objects[id] = obj;\n                }\n            } else {\n                if (this.objects[id]) {\n                    oldObj = this.objects[id];\n                    type = 'deleted';\n                    delete this.objects[id];\n                } else {\n                    // deleted unknown instance\n                    return;\n                }\n            }\n\n            this.handlers.forEach(cb => cb([{ id, obj, type, oldObj }]));\n        }\n    };\n\n    // be careful with this object. Do not change them.\n    getAdapters(update) {\n        if (!update && this.promise) {\n            return this.promise;\n        }\n\n        this.promise = this.socket.getAdapters(update)\n            .then(objects => {\n                this.objects = {};\n                objects.forEach(obj => this.objects[obj._id] = obj);\n                return this.objects;\n            })\n            .catch(e => window.alert('Cannot get adapters: ' + e));\n\n        return this.promise;\n    }\n\n    connectionHandler = isConnected => {\n        if (isConnected && !this.connected) {\n            this.connected = true;\n\n            if (this.handlers.length) {\n                this.socket.subscribeObject('system.adapter.*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n\n                this.getAdapters(true)\n                    .then(adapters => adapters && Object.keys(adapters)\n                        .forEach(id => this.objectChangeHandler(id, adapters[id])));\n            }\n        } else if (!isConnected && this.connected) {\n            this.connected = false;\n        }\n    }\n\n    registerHandler(cb) {\n        if (!this.handlers.includes(cb)) {\n            this.handlers.push(cb);\n\n            if (this.handlers.length === 1 && this.connected) {\n                this.socket.subscribeObject('system.adapter.*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n            }\n        }\n    }\n\n    unregisterHandler(cb) {\n        const pos = this.handlers.indexOf(cb);\n        pos !== -1 && this.handlers.splice(pos, 1);\n\n        if (!this.handlers.length && this.connected) {\n            this.socket.unsubscribeObject('system.adapter.*', this.objectChangeHandler)\n                .catch(e => window.alert(`Cannot unsubscribe on object: ${e}`));\n        }\n    }\n\n    repoChangeHandler = (id, obj) => {\n        this.repoTimer && clearTimeout(this.repoTimer);\n        this.repoTimer = setTimeout(() => {\n            this.repoTimer = null;\n            this.repositoryHandlers.forEach(cb => cb());\n        }, 500);\n    };\n\n    registerRepositoryHandler(cb) {\n        if (!this.repositoryHandlers.includes(cb)) {\n            this.repositoryHandlers.push(cb);\n\n            if (this.repositoryHandlers.length === 1 && this.connected) {\n                this.socket.subscribeObject('system.repositories', this.repoChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n            }\n        }\n    }\n\n    unregisterRepositoryHandler(cb) {\n        const pos = this.repositoryHandlers.indexOf(cb);\n        pos !== -1 && this.repositoryHandlers.splice(pos, 1);\n\n        if (!this.repositoryHandlers.length && this.connected) {\n            this.socket.unsubscribeObject('system.repositories', this.repoChangeHandler)\n                .catch(e => window.alert(`Cannot unsubscribe on object: ${e}`));\n        }\n    }\n}\n\nexport default AdaptersWorker;\n","import Utils from '../Utils'\n\nclass ObjectsWorker {\n    constructor(socket) {\n        this.socket   = socket;\n        this.handlers = [];\n        this.promise  = null;\n\n        socket.registerConnectionHandler(this.connectionHandler);\n\n        this.connected = this.socket.isConnected();\n\n        this.objects = null;\n    }\n\n    objectChangeHandler = (id, obj) => {\n        this.objects = this.objects || {};\n        // if instance\n        let oldObj;\n        let type;\n\n        if (obj) {\n            if (obj.type === 'instance' || obj.type === 'adapter') {\n                Utils.fixAdminUI(obj);\n            }\n\n            if (this.objects[id]) {\n                oldObj = this.objects[id];\n                if (JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\n                    type = 'changed';\n                    this.objects[id] = obj;\n                } else {\n                    // no changes\n                    type = 'changed';\n                }\n            } else {\n                type = 'new';\n                this.objects[id] = obj;\n            }\n        } else {\n            if (this.objects[id]) {\n                oldObj = this.objects[id];\n                type = 'deleted';\n                delete this.objects[id];\n            } else {\n                // deleted unknown instance\n                type = 'deleted';\n            }\n        }\n\n        this.handlers.forEach(cb => cb([{ id, obj, type, oldObj }]));\n    };\n\n    // be careful with this object. Do not change them.\n    getObjects(update) {\n        if (!update && this.promise) {\n            return this.promise;\n        }\n\n        this.promise = this.socket.getObjects(update, true)\n            .then(objects => {\n                this.objects = objects;\n                return this.objects;\n            })\n            .catch(e => window.alert('Cannot get objects: ' + e));\n\n        return this.promise;\n    }\n\n    connectionHandler = isConnected => {\n        if (isConnected && !this.connected) {\n            this.connected = true;\n\n            if (this.handlers.length) {\n                this.socket.subscribeObject('*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on objects: ${e}`));\n\n                this.getObjects(true)\n                    .then(instances => instances && Object.keys(instances)\n                        .forEach(id => this.objectChangeHandler(id, instances[id])));\n            }\n        } else if (!isConnected && this.connected) {\n            this.connected = false;\n        }\n    }\n\n    registerHandler(cb) {\n        if (!this.handlers.includes(cb)) {\n            this.handlers.push(cb);\n\n            if (this.handlers.length === 1 && this.connected) {\n                this.socket.subscribeObject('*', this.objectChangeHandler)\n                    .catch(e => window.alert(`Cannot subscribe on object: ${e}`));\n            }\n        }\n    }\n\n    unregisterHandler(cb, doNotUnsubscribe) {\n        const pos = this.handlers.indexOf(cb);\n        pos !== -1 && this.handlers.splice(pos, 1);\n\n        if (!this.handlers.length && this.connected && !doNotUnsubscribe) {\n            this.socket.unsubscribeObject('*', this.objectChangeHandler)\n                .catch(e => window.alert(`Cannot unsubscribe on object: ${e}`));\n        }\n    }\n}\n\nexport default ObjectsWorker;\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport clsx from 'clsx';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { AppBar, Box, makeStyles, Paper, ThemeProvider, Typography } from '@material-ui/core';\n\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport theme from '@iobroker/adapter-react/Theme';\nimport ConfigPanel from '../components/JsonConfigComponent/ConfigPanel';\nimport CheckIcon from \"@material-ui/icons/Check\";\n\nlet node = null;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        // backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        height: 'auto',\n        display: 'flex',\n        borderRadius: 4,\n        flexDirection: 'column'\n    },\n    paper: {\n        maxWidth: 1000,\n        width: '100%',\n        maxHeight: 800,\n        height: 'calc(100% - 32px)',\n    },\n    flex: {\n        display: 'flex',\n    },\n    overflowHidden: {\n        overflow: 'hidden'\n    },\n    overflowAuto: {\n        overflowY: 'auto'\n    },\n    pre: {\n        overflow: 'auto',\n        margin: 20,\n        '& p': {\n            fontSize: 18,\n        }\n    },\n    blockInfo: {\n        right: 20,\n        top: 10,\n        position: 'absolute',\n        display: 'flex',\n        alignItems: 'center',\n        color: 'silver'\n    },\n    img: {\n        marginLeft: 10,\n        width: 45,\n        height: 45,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    message: {\n        justifyContent: 'space-between',\n        display: 'flex',\n        width: '100%',\n        alignItems: 'center'\n    },\n    column: {\n        flexDirection: 'column'\n    },\n    headerText: {\n        fontWeight: 'bold',\n        fontSize: 15\n    },\n    descriptionHeaderText: {\n        margin: '10px 0'\n    },\n    silver: {\n        color: 'silver'\n    },\n    button: {\n        paddingTop: 18,\n        paddingBottom: 5,\n        position: 'sticky',\n        bottom: 0,\n        background: 'white',\n        zIndex: 3\n    },\n    terminal: {\n        fontFamily: 'monospace',\n        fontSize: 14,\n        marginLeft: 20\n    },\n    img2: {\n        width: 25,\n        height: 25,\n        marginRight: 10,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    heading: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    headerBlock: {\n        backgroundColor: '#272727',\n        padding: 13,\n        fontSize: 16\n    },\n    headerBlockDisplay: {\n        backgroundColor: '#272727',\n        padding: 13,\n        fontSize: 16,\n        display: 'flex'\n    },\n    headerBlockDisplayItem: {\n        padding: 13,\n        fontSize: 16,\n        display: 'flex'\n    },\n    width200: {\n        width: 200\n    },\n    table: {\n        // '& *': {\n        //     color: 'black'\n        // }\n    },\n    paperTable: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n    }\n}));\n\nconst TabPanel = ({ classes, children, value, index, title, custom, ...props }) => {\n    if (custom) {\n        return <div\n            {...props}\n        >{value === index && children}</div>\n    }\n\n    return (\n        <div\n            {...props}\n        >{value === index &&\n            <>\n                <AppBar position=\"static\" color=\"default\">\n                    <div className={classes.headerBlock}>\n                        {title}\n                    </div>\n                </AppBar>\n                <Box p={3}>\n                    <Typography component=\"div\">{children}</Typography>\n                </Box>\n            </>\n            }\n        </div>\n    );\n}\n\nconst types = {\n    \"password\": \"password\",\n    \"checkbox\": \"checkbox\",\n    \"select\": \"select\",\n    \"link\": \"staticLink\",\n    \"comment\": \"staticText\",\n    \"text\": \"text\",\n    \"name\": \"staticText\",\n    \"title\": \"staticText\",\n};\n\nconst generateObj = (obj, path, value) => {\n    path = path.split('.');\n    path.forEach((element, idx) => {\n        if (idx === path.length - 1) {\n            if (!obj[path[idx - 1]]) {\n                obj[path[idx - 1]] = {};\n            }\n            obj[path[idx - 1]][element] = value;\n        }\n    });\n    return obj;\n}\nconst GenereteInputsModal = ({ themeType, themeName, socket, newInstances, onApplyModal, onCloseModal }) => {\n    const classes = useStyles();\n\n    const [open, setOpen] = useState(true);\n    const [error, setError] = useState({});\n\n    const onClose = () => {\n        setOpen(false);\n        if (node) {\n            try {\n                window.document.body.removeChild(node);\n            } catch (e) {\n                // ignore\n            }\n            node = null;\n        }\n    }\n\n    const isError = () => Object.keys(error).find(attr => error[attr]);\n\n    // const black = themeType === 'dark';\n\n    const [schema, setSchema] = useState({\n        items: {}\n    });\n\n    const [schemaData, setSchemaData] = useState({});\n\n    useEffect(() => {\n        const obj = {};\n        let objValue = {};\n        if (newInstances) {\n            newInstances.comment.add.forEach((text, idx) => {\n                obj[idx] = { type: 'header', text }\n            })\n            newInstances.comment.inputs.forEach((el, idx) => {\n                obj[idx + 1] = {\n                    ...el, type: types[el.type], label: el.title, text: el.def, href: el.def,\n                    'sm': 6,\n                    'newLine': true,\n                }\n\n                if (el.type === 'link') {\n                    obj[idx + 1].button = true;\n                    obj[idx + 1].variant = \"contained\";\n                    obj[idx + 1].href = el.def;\n                    obj[idx + 1].text = el.title;\n                    obj[idx + 1].icon = 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTExLjk5IDJDNi40NyAyIDIgNi40OCAyIDEyczQuNDcgMTAgOS45OSAxMEMxNy41MiAyMiAyMiAxNy41MiAyMiAxMlMxNy41MiAyIDExLjk5IDJ6bTYuOTMgNmgtMi45NWMtLjMyLTEuMjUtLjc4LTIuNDUtMS4zOC0zLjU2IDEuODQuNjMgMy4zNyAxLjkxIDQuMzMgMy41NnpNMTIgNC4wNGMuODMgMS4yIDEuNDggMi41MyAxLjkxIDMuOTZoLTMuODJjLjQzLTEuNDMgMS4wOC0yLjc2IDEuOTEtMy45NnpNNC4yNiAxNEM0LjEgMTMuMzYgNCAxMi42OSA0IDEycy4xLTEuMzYuMjYtMmgzLjM4Yy0uMDguNjYtLjE0IDEuMzItLjE0IDIgMCAuNjguMDYgMS4zNC4xNCAySDQuMjZ6bS44MiAyaDIuOTVjLjMyIDEuMjUuNzggMi40NSAxLjM4IDMuNTYtMS44NC0uNjMtMy4zNy0xLjktNC4zMy0zLjU2em0yLjk1LThINS4wOGMuOTYtMS42NiAyLjQ5LTIuOTMgNC4zMy0zLjU2QzguODEgNS41NSA4LjM1IDYuNzUgOC4wMyA4ek0xMiAxOS45NmMtLjgzLTEuMi0xLjQ4LTIuNTMtMS45MS0zLjk2aDMuODJjLS40MyAxLjQzLTEuMDggMi43Ni0xLjkxIDMuOTZ6TTE0LjM0IDE0SDkuNjZjLS4wOS0uNjYtLjE2LTEuMzItLjE2LTIgMC0uNjguMDctMS4zNS4xNi0yaDQuNjhjLjA5LjY1LjE2IDEuMzIuMTYgMiAwIC42OC0uMDcgMS4zNC0uMTYgMnptLjI1IDUuNTZjLjYtMS4xMSAxLjA2LTIuMzEgMS4zOC0zLjU2aDIuOTVjLS45NiAxLjY1LTIuNDkgMi45My00LjMzIDMuNTZ6TTE2LjM2IDE0Yy4wOC0uNjYuMTQtMS4zMi4xNC0yIDAtLjY4LS4wNi0xLjM0LS4xNC0yaDMuMzhjLjE2LjY0LjI2IDEuMzEuMjYgMnMtLjEgMS4zNi0uMjYgMmgtMy4zOHoiPjwvcGF0aD48L3N2Zz4='\n                }\n\n                if (el.type === 'password') {\n                    obj[idx + 1].repeat = true;\n                }\n\n                if (el.def !== undefined) {\n                    objValue[idx + 1] = '';\n                }\n\n                if (el.type === \"checkbox\") {\n                    objValue[idx + 1] = false;\n                }\n            });\n            setSchemaData(objValue);\n            setSchema({ items: obj });\n        }\n    }, [newInstances])\n\n    return <ThemeProvider theme={theme(themeName)}>\n        <Dialog\n            onClose={onClose}\n            open={open}\n            classes={{ paper: classes.paper }}\n        >\n            <h2 className={classes.heading}>\n                <SettingsIcon style={{\n                    color: 'rgb(77 171 245)',\n                    fontSize: 36,\n                    marginLeft: 25,\n                    marginRight: 10\n                }} />\n                {I18n.t('Instance parameters for %s', newInstances._id.replace('system.adapter.', ''))}</h2>\n            <DialogContent className={clsx(classes.flex, classes.overflowHidden)} dividers>\n                <div className={classes.root}>\n                    <TabPanel\n                        value={1}\n                        index={1}\n                        custom\n                        title={I18n.t('Test')}\n                    >\n                        <Paper className={classes.paperTable}>\n                            <ConfigPanel\n                                data={schemaData}\n                                socket={socket}\n                                themeType={themeType}\n                                themeName={themeName}\n                                onChange={setSchemaData}\n                                schema={schema}\n                                onError={(attr, _error) => setError({...error, [attr]: _error})}\n                            />\n                        </Paper>\n                    </TabPanel>\n                </div>\n            </DialogContent >\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    autoFocus\n                    disabled= {isError()}\n                    onClick={() => {\n                        let obj = {};\n                        let error = false;\n                        Object.keys(schema.items).forEach(key => {\n                            if (schema.items[key].required) {\n                                if (!schemaData[key] && schema.items[key].type !== \"checkbox\") {\n                                    error = true;\n                                    alert(`no data ${schema.items[key].label}`);\n                                } else {\n                                    obj = generateObj(obj, schema.items[key].name, schemaData[key]);\n                                }\n                            } else if (schema.items[key].name) {\n                                error = false;\n                                obj = generateObj(obj, schema.items[key].name, schemaData[key]);\n                            }\n                        })\n                        if (!error) {\n                            onApplyModal(obj);\n                            onClose();\n                        }\n                    }}\n                    color=\"primary\"\n                    startIcon={<CheckIcon/>}\n                >\n                    {I18n.t('Apply')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => {\n                        onClose();\n                        setTimeout(() => onCloseModal(), 0);\n                    }}\n                    color=\"default\"\n                    startIcon={<CloseIcon />}\n                >\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog >\n    </ThemeProvider >;\n}\n\nexport const GenereteInputsFunc = (themeType, themeName, socket, newInstances, onCloseModal, onApplyModal) => {\n    if (!node) {\n        node = document.createElement('div');\n        node.id = 'renderDiscoveryModal';\n        document.body.appendChild(node);\n    }\n    return ReactDOM.render(<GenereteInputsModal onCloseModal={onCloseModal} newInstances={newInstances} onApplyModal={onApplyModal} themeName={themeName} themeType={themeType} socket={socket} />, node);\n}","import React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { Tooltip, AppBar, Avatar, Box, Checkbox, CircularProgress, LinearProgress, makeStyles, Paper, Step, StepLabel, Stepper, Switch, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TableSortLabel, ThemeProvider, Typography, } from '@material-ui/core';\n\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CloseIcon from '@material-ui/icons/Close';\nimport LibraryAddIcon from '@material-ui/icons/LibraryAdd';\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport ReportProblemIcon from '@material-ui/icons/ReportProblem';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nimport Command from '../components/Command';\nimport SelectWithIcon from '@iobroker/adapter-react/Components/SelectWithIcon';\nimport { licenseDialogFunc } from './LicenseDialog';\nimport { GenereteInputsFunc } from './GenereteInputsModal';\nimport { useStateLocal } from '../helpers/hooks/useStateLocal';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        // backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        height: 'auto',\n        display: 'flex',\n        borderRadius: 4,\n        flexDirection: 'column'\n    },\n    paper: {\n        maxWidth: 1000,\n        width: '100%',\n        maxHeight: 800,\n        height: 'calc(100% - 32px)',\n\n    },\n    flex: {\n        display: 'flex',\n    },\n    overflowHidden: {\n        overflow: 'hidden'\n    },\n    overflowAuto: {\n        overflowY: 'auto'\n    },\n    pre: {\n        overflow: 'auto',\n        margin: 20,\n        '& p': {\n            fontSize: 18,\n        }\n    },\n    blockInfo: {\n        right: 20,\n        top: 10,\n        position: 'absolute',\n        display: 'flex',\n        alignItems: 'center',\n        color: 'silver'\n    },\n    img: {\n        marginLeft: 10,\n        width: 45,\n        height: 45,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    message: {\n        justifyContent: 'space-between',\n        display: 'flex',\n        width: '100%',\n        alignItems: 'center'\n    },\n    column: {\n        flexDirection: 'column'\n    },\n    headerText: {\n        fontWeight: 'bold',\n        fontSize: 15\n    },\n    descriptionHeaderText: {\n        margin: '10px 0'\n    },\n    silver: {\n        color: 'silver'\n    },\n    button: {\n        paddingTop: 18,\n        paddingBottom: 5,\n        position: 'sticky',\n        bottom: 0,\n        background: 'white',\n        zIndex: 3\n    },\n    terminal: {\n        fontFamily: 'monospace',\n        fontSize: 14,\n        marginLeft: 20\n    },\n    img2: {\n        width: 25,\n        height: 25,\n        marginRight: 10,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    heading: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    headerBlock: {\n        backgroundColor: '#272727',\n        padding: 13,\n        fontSize: 16\n    },\n    headerBlockDisplay: {\n        backgroundColor: '#272727',\n        padding: 13,\n        fontSize: 16,\n        display: 'flex'\n    },\n    headerBlockDisplayItem: {\n        padding: 5,\n        fontSize: 16,\n        display: 'flex',\n        margin: 2,\n        border: '1px solid #c0c0c045',\n        borderRadius: 4,\n        alignItems: 'center',\n        transition: 'background .5s, color .5s'\n    },\n    activeBlock: {\n        background: '#c0c0c021',\n        border: '1px solid #4dabf5'\n    },\n    pointer: {\n        cursor: 'pointer'\n    },\n    hover: {\n        '&:hover': {\n            background: '#c0c0c021',\n        }\n    },\n    installSuccess: {\n        opacity: 0.7,\n        color: '#5ef05e'\n    },\n    installError: {\n        opacity: 0.7,\n        color: '#ffc14f'\n    },\n    width200: {\n        width: 200\n    },\n    table: {\n        // '& *': {\n        //     color: 'black'\n        // }\n    },\n    paperTable: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n    },\n    wrapperSwitch: {\n        display: 'flex',\n        margin: 10,\n        marginTop: 0\n    },\n    divSwitch: {\n        display: 'flex',\n        // margin: 10,\n        alignItems: 'center',\n        fontSize: 10,\n        marginLeft: 0,\n        color: 'silver'\n    },\n    marginLeft: {\n        marginLeft: 40\n    },\n    stepper: {\n        padding: 0,\n        background: 'inherit'\n    },\n    instanceIcon: {\n        width: 30,\n        height: 30,\n        margin: 3\n    },\n    instanceId: {\n        marginLeft: 10\n    },\n    instanceWrapper: {\n        display: 'flex',\n        alignItems: 'center'\n    }\n}));\n\nconst TabPanel = ({ classes, children, value, index, title, custom, boxHeight, black, ...props }) => {\n    if (custom) {\n        return <div\n            {...props}\n        >{value === index && children}</div>\n    }\n    if (value === index) {\n        return <div {...props}>\n            <AppBar position=\"static\" color=\"default\">\n                <div style={!black ? { color: 'white' } : null} className={classes.headerBlock}>\n                    {title}\n                </div>\n            </AppBar>\n            <Box style={boxHeight ? { height: 'calc(100% - 45px)' } : null} p={3}>\n                <Typography style={boxHeight ? { height: '100%' } : null} component=\"div\">\n                    {children}\n                </Typography>\n            </Box>\n        </div>;\n    }\n    return null;\n}\n\nconst headCells = [\n    { id: 'instance', numeric: false, disablePadding: true, label: 'Instance' },\n    { id: 'host', numeric: false, disablePadding: false, label: 'Host' },\n    { id: 'description', numeric: false, disablePadding: false, label: 'Description' },\n    { id: 'ignore', numeric: true, disablePadding: false, label: 'Ignore' },\n];\n\nfunction EnhancedTableHead(props) {\n    const { numSelected, rowCount, onSelectAllClick } = props;\n    const createSortHandler = property => event => {\n        //   onRequestSort(event, property);\n    };\n\n    return <TableHead>\n        <TableRow>\n            <TableCell padding=\"checkbox\">\n                <Checkbox\n                    indeterminate={numSelected > 0 && numSelected < rowCount}\n                    checked={rowCount > 0 && numSelected === rowCount}\n                    onChange={onSelectAllClick}\n                    inputProps={{ 'aria-label': 'select all desserts' }}\n                />\n            </TableCell>\n            {headCells.map((headCell) => (\n                <TableCell\n                    key={headCell.id}\n                    align={headCell.numeric ? 'right' : 'left'}\n                    padding={headCell.disablePadding ? 'none' : 'normal'}\n                >\n                    <TableSortLabel\n                        onClick={createSortHandler(headCell.id)}\n                    >\n                        {headCell.label}\n                    </TableSortLabel>\n                </TableCell>\n            ))}\n        </TableRow>\n    </TableHead>;\n}\n\nconst buildComment = (comment, t) => {\n    if (!comment) {\n        return 'new';\n    }\n    if (typeof comment === 'string') {\n        return comment;\n    }\n    let text = '';\n\n    if (comment.add) {\n        text += t('new');\n        if (Array.isArray(comment.add) && comment.add.length) {\n            text += ': ';\n            if (comment.add.length <= 5) {\n                text += comment.add.join(', ');\n            } else {\n                text += t('%s devices', comment.add.length);\n            }\n        } else if (typeof comment.add === 'string' || typeof comment.add === 'number') {\n            text += ': ';\n            text += comment.add;\n        }\n    }\n\n    if (comment.changed) {\n        text += (text ? ', ' : '') + t('changed');\n        if (Array.isArray(comment.changed === 'object') && comment.changed.length) {\n            text += ': ';\n            if (comment.changed.length <= 5) {\n                text += comment.changed.join(', ');\n            } else {\n                text += t('%s devices', comment.changed.length);\n            }\n        } else if (typeof comment.changed === 'string' || typeof comment.changed === 'number') {\n            text += ': ';\n            text += comment.changed;\n        }\n    }\n\n    if (comment.extended) {\n        text += (text ? ', ' : '') + t('extended');\n        if (Array.isArray(comment.extended) && comment.extended.length) {\n            text += ': ';\n            if (comment.extended.length <= 5) {\n                text += comment.extended.join(', ');\n            } else {\n                text += t('%s devices', comment.extended.length);\n            }\n        } else if (typeof comment.extended === 'string' || typeof comment.extended === 'number') {\n            text += ': ';\n            text += comment.extended;\n        }\n    }\n\n    if (comment.text) {\n        text += (text ? ', ' : '') + comment.text;\n    }\n    return text;\n}\n\nconst DiscoveryDialog = ({ themeType, themeName, socket, dateFormat, currentHost, defaultLogLevel, repository, hosts, onClose }) => {\n    const classes = useStyles();\n\n    const [step, setStep] = useState(0);\n    const [listMethods, setListMethods] = useState({});\n    const [checkboxChecked, setCheckboxChecked] = useState({});\n    const [disableScanner, setDisableScanner] = useState(false);\n    const [discoveryData, setDiscoveryData] = useState({});\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(async () => {\n        const resultList = await socket.sendTo('system.adapter.discovery.0', 'listMethods', null);\n        let listChecked = {};\n        let lastSelection = window.localStorage.getItem('App.discoveryLastSelection') || null;\n        if (lastSelection) {\n            try {\n                lastSelection = JSON.parse(lastSelection);\n            } catch (e) {\n                lastSelection = null;\n            }\n        }\n\n        Object.keys(resultList).forEach(key => {\n            if (lastSelection) {\n                listChecked[key] = lastSelection[key];\n            } else {\n                listChecked[key] = key !== 'serial';\n            }\n        });\n\n        setCheckboxChecked(listChecked);\n        setListMethods(resultList);\n    }, [socket]);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(async () => {\n        const dataDiscovery = await socket.getObject('system.discovery');\n        dataDiscovery !== undefined && setDiscoveryData(dataDiscovery);\n    }, [socket]);\n\n    const [aliveHosts, setAliveHosts] = useState({});\n    const [checkSelectHosts, setCheckSelectHosts] = useState(false);\n    const [hostInstances, setHostInstances] = useState({});\n\n    useEffect(() => {\n        hosts.forEach(async ({ _id }) => {\n            let aliveValue = await socket.getState(`${_id}.alive`);\n            setAliveHosts(prev => ({ ...prev, [_id]: !aliveValue || aliveValue.val === null ? false : !!aliveValue.val }));\n        });\n\n        if (Object.keys(aliveHosts).filter(key => aliveHosts[key]).length > 1) {\n            setCheckSelectHosts(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [hosts, socket]);\n\n    const [devicesFound, setDevicesFound] = useState(0);\n    const [devicesProgress, setDevicesProgress] = useState(0);\n    const [instancesFound, setInstancesFound] = useState(0);\n    const [scanRunning, setScanRunning] = useState(false);\n    const [servicesProgress, setServicesProgress] = useState(0);\n    const [selected, setSelected] = useState([]);\n\n    const handlerInstall = (name, value) => {\n        if (!value) {\n            return;\n        }\n        switch (name) {\n            case 'discovery.0.devicesFound':\n                return setDevicesFound(value.val);\n            case 'discovery.0.devicesProgress':\n                return setDevicesProgress(value.val);\n            case 'discovery.0.instancesFound':\n                return setInstancesFound(value.val);\n            case 'discovery.0.scanRunning':\n                return setScanRunning(value.val);\n            case 'discovery.0.servicesProgress':\n                return setServicesProgress(value.val);\n            case 'system.discovery':\n                return setDiscoveryData(value);\n            default:\n                return;\n        }\n    };\n\n    useEffect(() => {\n        socket.subscribeObject('system.discovery', handlerInstall);\n        socket.subscribeState('discovery.0.devicesFound', handlerInstall);\n        socket.subscribeState('discovery.0.devicesProgress', handlerInstall);\n        socket.subscribeState('discovery.0.instancesFound', handlerInstall);\n        socket.subscribeState('discovery.0.scanRunning', handlerInstall);\n        socket.subscribeState('discovery.0.servicesProgress', handlerInstall);\n\n        return () => {\n            socket.unsubscribeObject('system.discovery', handlerInstall);\n            socket.unsubscribeState('discovery.0.devicesFound', handlerInstall);\n            socket.unsubscribeState('discovery.0.devicesProgress', handlerInstall);\n            socket.unsubscribeState('discovery.0.instancesFound', handlerInstall);\n            socket.unsubscribeState('discovery.0.scanRunning', handlerInstall);\n            socket.unsubscribeState('discovery.0.servicesProgress', handlerInstall);\n        }\n    }, [socket]);\n\n    const stepUp = () => setStep(step + 1);\n\n    const stepDown = () => setStep(step - 1);\n\n    const extendObject = (id, data) =>\n        socket.extendObject(id, data)\n            .catch(error => window.alert(error));\n\n    const discoverScanner = async () => {\n        setDisableScanner(true);\n        let dataArray = Object.keys(checkboxChecked).filter(key => checkboxChecked[key]);\n        const resultList = await socket.sendTo('system.adapter.discovery.0', 'browse', dataArray);\n        setDisableScanner(false);\n        if (resultList.error) {\n            window.alert(resultList.error)\n        } else {\n            setStep(1);\n        }\n    };\n\n    const handleSelectAllClick = event => {\n        if (event.target.checked) {\n            const newSelected = discoveryData?.native?.newInstances?.map(n => n._id);\n            setSelected(newSelected);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const isSelected = (name, arr) => arr.includes(name);\n\n    const handleClick = (event, name, arr, func) => {\n        const selectedIndex = arr.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(arr, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(arr.slice(1));\n        } else if (selectedIndex === arr.length - 1) {\n            newSelected = newSelected.concat(arr.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                arr.slice(0, selectedIndex),\n                arr.slice(selectedIndex + 1),\n            );\n        }\n\n        func(newSelected);\n    };\n\n    const checkLicenseAndInputs = (objName, cb) => {\n        const obj = JSON.parse(JSON.stringify(discoveryData?.native?.newInstances.find(obj => obj._id === objName)));\n        let license = true;\n        if (obj && obj.comment && obj.comment.license && obj.comment.license !== 'MIT') {\n            license = false;\n            if (!obj.common.licenseUrl) {\n                obj.common.licenseUrl = 'https://raw.githubusercontent.com/ioBroker/ioBroker.' + obj.common.name + '/master/LICENSE'\n            }\n            if (typeof obj.common.licenseUrl === 'object') {\n                obj.common.licenseUrl = obj.common.licenseUrl[I18n.getLanguage()] || obj.common.licenseUrl.en;\n            }\n            if (obj.common.licenseUrl.indexOf('github.com') !== -1) {\n                obj.common.licenseUrl = obj.common.licenseUrl.replace('github.com', 'raw.githubusercontent.com').replace('/blob/', '/');\n            }\n        }\n\n        licenseDialogFunc(license, result => {\n            if (!result) {\n                const index = selected.indexOf(obj._id) + 1;\n                setInstallStatus(status => Object.assign({ ...status }, { [index]: 'error' }));\n\n                setLogs((logsEl) => Object.assign({ ...logsEl }, { [selected[index - 1]]: [I18n.t('Error: license not accepted')] }));\n\n                if (selected.length > index) {\n                    setTimeout(() =>\n                        checkLicenseAndInputs(selected[index], () => {\n                            setCurrentInstall(index + 1);\n                            setCmdName('install');\n                            setInstallProgress(true);\n                        })\n                        , 100);\n                } else {\n                    setFinishInstall(true);\n                }\n            } else\n                if (obj.comment?.inputs) {\n                    GenereteInputsFunc(themeType, themeName, socket, obj, () => {\n                        const index = selected.indexOf(obj._id) + 1;\n                        setInstallStatus((status) => Object.assign({ ...status }, { [index]: 'error' }));\n\n                        setLogs((logsEl) => Object.assign({ ...logsEl }, { [selected[index - 1]]: [I18n.t('Error: configuration dialog canceled')] }));\n\n                        if (selected.length > index) {\n                            setTimeout(() =>\n                                checkLicenseAndInputs(selected[index], () => {\n                                    setCurrentInstall(index + 1);\n                                    setCmdName('install');\n                                    setInstallProgress(true);\n                                })\n                                , 100);\n                        } else {\n                            setFinishInstall(true);\n                        }\n                    }, (params) => {\n                        setInstancesInputsParams(params);\n                        cb();\n                    })\n                } else {\n                    cb();\n                }\n        }, obj?.common?.licenseUrl);\n    };\n\n    const [installProgress, setInstallProgress] = useState(false);\n    const [currentInstall, setCurrentInstall] = useState(1);\n    const [installStatus, setInstallStatus] = useState({});\n    const [cmdName, setCmdName] = useState('install');\n\n    const resetStateBack = () => {\n        setSelected([]);\n        setInstallProgress(false);\n        setFinishInstall(false);\n        setCurrentInstall(1);\n        setCmdName('install');\n        setInstallStatus({});\n    };\n\n    const checkInstall = () => {\n        checkLicenseAndInputs(selected[0], () => {\n            setCurrentInstall(1);\n            setInstallProgress(true);\n        });\n    };\n\n    const [suggested, setSuggested] = useStateLocal(true, 'discovery.suggested');\n    const [showAll, setShowAll] = useStateLocal(true, 'discovery.showAll');\n\n    const black = themeType === 'dark';\n\n    const [instancesInputsParams, setInstancesInputsParams] = useState({});\n    const steps = ['Select methods', 'Create instances', 'Installation process'];\n    const [logs, setLogs] = useState({});\n    const [finishInstall, setFinishInstall] = useState(false);\n    const [selectLogsIndex, setSelectLogsIndex] = useState(1);\n\n    return <ThemeProvider theme={theme(themeName)}>\n        <Dialog\n            onClose={() => onClose()}\n            open={true}\n            disableBackdropClick\n            disableEscapeKeyDown\n            classes={{ paper: classes.paper }}\n        >\n            <h2 className={classes.heading}>\n                <VisibilityIcon style={{\n                    color: 'rgb(77 171 245)',\n                    fontSize: 36,\n                    marginLeft: 25,\n                    marginRight: 10\n                }} />\n                {I18n.t('Find devices and services')}\n            </h2>\n            <Stepper className={classes.stepper} alternativeLabel activeStep={step}>\n                {steps.map((label) => (\n                    <Step key={label}>\n                        <StepLabel>{I18n.t(label)}</StepLabel>\n                    </Step>\n                ))}\n            </Stepper>\n            <DialogContent className={clsx(classes.flex, classes.overflowHidden)} dividers>\n                <div className={classes.root}>\n                    <TabPanel\n                        className={classes.overflowAuto}\n                        style={black ? { color: 'white' } : null}\n                        value={step}\n                        index={0}\n                        black={black}\n                        classes={classes}\n                        title={I18n.t('Discover all possible devices')}\n                    >\n                        {!disableScanner ? <> <div className={classes.headerText}>\n                            {I18n.t(`press_discover`)}\n                        </div>\n                            {discoveryData?.native?.lastScan && <div className={classes.descriptionHeaderText}>\n                                {I18n.t('Last scan on %s', Utils.formatDate(new Date(discoveryData.native.lastScan), dateFormat))}\n                            </div>}\n                            <div\n                                style={!black ? { color: 'white' } : null}\n                                className={classes.headerBlock}>\n                                {I18n.t('Use following methods:')}\n\n                            </div>\n                            {Object.keys(listMethods).map(key => <div key={key}><Checkbox\n                                checked={checkboxChecked[key]}\n                                disabled={disableScanner}\n                                onChange={(_, value) => {\n                                    const newCheckboxChecked = JSON.parse(JSON.stringify(checkboxChecked));\n                                    newCheckboxChecked[key] = value;\n                                    window.localStorage.setItem('App.discoveryLastSelection', JSON.stringify(newCheckboxChecked));\n                                    setCheckboxChecked(newCheckboxChecked)\n                                }}\n                            />{key}</div>)}</>\n                            : (scanRunning && <div>\n                                {devicesProgress >= 99 ? `Lookup services - ${servicesProgress}%` : `Lookup devices - ${devicesProgress}%`}\n                                {disableScanner && <LinearProgress variant=\"determinate\" value={devicesProgress >= 99 ? servicesProgress : devicesProgress} />}\n                                {devicesProgress >= 99 ? `${instancesFound} service(s) found` : `${devicesFound} device(s) found`}\n                            </div>)\n                        }\n                    </TabPanel>\n                    <TabPanel\n                        className={classes.overflowAuto}\n                        value={step}\n                        index={1}\n                        classes={classes}\n                        title={discoveryData?.native?.lastScan ?\n                            I18n.t('Create instances automatically - Last scan on %s', Utils.formatDate(new Date(discoveryData.native.lastScan), dateFormat))\n                            : I18n.t('Create instances automatically')\n                        }\n                    >\n                        <div className={classes.wrapperSwitch}>\n                            <div className={classes.divSwitch}>\n                                <div style={!showAll ? { color: 'green' } : null}>{I18n.t('hide ignored')}</div>\n                                <Switch\n                                    checked={showAll}\n                                    onChange={e => setShowAll(e.target.checked)}\n                                    color=\"primary\"\n                                />\n                                <div style={showAll ? { color: 'green' } : null}>{I18n.t('show ignored')}</div>\n                            </div>\n                            <div className={clsx(classes.divSwitch, classes.marginLeft)}>\n                                <div style={!suggested ? { color: 'green' } : null}>{I18n.t('hide suggested')}</div>\n                                <Switch\n                                    checked={suggested}\n                                    onChange={e => setSuggested(e.target.checked)}\n                                    color=\"primary\"\n                                />\n                                <div style={suggested ? { color: 'green' } : null}>{I18n.t('show suggested')}</div>\n                            </div>\n                        </div>\n                        <Paper className={classes.paperTable}>\n                            <TableContainer>\n                                <Table\n                                    className={classes.table}\n                                    size=\"small\"\n                                >\n                                    <EnhancedTableHead\n                                        classes={classes}\n                                        numSelected={selected.length}\n                                        onSelectAllClick={handleSelectAllClick}\n                                        rowCount={discoveryData?.native?.newInstances?.length || 0}\n                                    />\n                                    <TableBody>\n                                        {discoveryData?.native?.newInstances?.filter(el => {\n                                            if (!suggested) {\n                                                return !el.comment?.advice;\n                                            }\n                                            if (!showAll) {\n                                                return !el?.comment?.ack;\n                                            }\n                                            return true;\n                                        }).map((obj, idx) => <TableRow\n                                            hover\n                                            role=\"checkbox\"\n                                            key={obj._id}\n                                            selected={obj.comment?.advice}\n                                        >\n                                            <TableCell padding=\"checkbox\">\n                                                <Checkbox\n                                                    checked={isSelected(obj._id, selected)}\n                                                    onClick={e => handleClick(e, obj._id, selected, setSelected)}\n                                                />\n                                            </TableCell>\n                                            <TableCell component=\"th\" scope=\"row\" padding=\"none\">\n                                                <div className={classes.instanceWrapper}>\n                                                    <Avatar\n                                                        variant=\"square\"\n                                                        alt={obj._id.replace('system.adapter.', '')}\n                                                        src={repository[obj.common.name]?.icon}\n                                                        className={classes.instanceIcon}\n                                                    />\n                                                    <div className={classes.instanceId}>\n                                                        {obj._id.replace('system.adapter.', '')}\n                                                    </div>\n                                                </div>\n                                            </TableCell>\n                                            <TableCell align=\"left\">{checkSelectHosts ?\n                                                <SelectWithIcon\n                                                    fullWidth\n                                                    lang={I18n.getLanguage()}\n                                                    list={hosts}\n                                                    t={I18n.t}\n                                                    value={hostInstances[obj._id] || currentHost}\n                                                    themeType={themeType}\n                                                    onChange={val =>\n                                                        setHostInstances(Object.assign({ ...hostInstances }, { [obj._id]: val }))}\n                                                />\n                                                :\n                                                '_'}</TableCell>\n                                            <TableCell align=\"left\">{buildComment(obj.comment, I18n.t)}</TableCell>\n                                            <TableCell align=\"right\" padding=\"checkbox\">\n                                                <Checkbox\n                                                    checked={!!obj?.comment?.ack}\n                                                    onClick={e => {\n                                                        const newInstances = JSON.parse(JSON.stringify(discoveryData?.native.newInstances));\n                                                        newInstances[idx].comment = { ...newInstances[idx].comment, ack: !newInstances[idx].comment.ack };\n                                                        extendObject('system.discovery', { native: { newInstances } });\n                                                    }}\n                                                />\n                                            </TableCell>\n                                        </TableRow>)}\n                                    </TableBody>\n                                </Table>\n                            </TableContainer>\n                        </Paper>\n                    </TabPanel>\n                    <TabPanel\n                        className={classes.overflowAuto}\n                        value={step}\n                        index={2}\n                        style={{ height: '100%' }}\n                        boxHeight\n                        classes={classes}\n                        title={I18n.t('Install adapters')}\n                    >\n                        <div style={{ display: 'flex', height: '100%' }}>\n                            <div>\n                                {selected.map((el, idx) => <div\n                                    key={el}\n                                    onClick={finishInstall ? () => setSelectLogsIndex(idx) : null}\n                                    className={clsx(classes.headerBlockDisplayItem,\n                                        finishInstall && classes.pointer,\n                                        finishInstall && classes.hover,\n                                        finishInstall && selectLogsIndex === idx && classes.activeBlock)}>\n                                    <div className={classes.width200}>\n                                        <div className={classes.instanceWrapper}>\n                                            <Avatar\n                                                variant=\"square\"\n                                                alt={el.replace('system.adapter.', '')}\n                                                src={repository[el.replace('system.adapter.', '').split('.')[0]].icon}\n                                                className={classes.instanceIcon}\n                                            />\n                                            <div className={classes.instanceId}>\n                                                {el.replace('system.adapter.', '')}\n                                            </div>\n                                        </div></div>\n                                    {currentInstall === idx + 1 && !installStatus[idx + 1] && <CircularProgress size={20} />}\n                                    {installStatus[idx + 1] === 'error' ? <ReportProblemIcon className={classes.installError} /> : installStatus[idx + 1] === 'success' ? <AssignmentTurnedInIcon className={classes.installSuccess} /> : null}\n                                </div>)}\n                            </div>\n                            {currentInstall && (installProgress || finishInstall) && <div style={{ overflow: 'hidden', width: 'calc(100% - 260px)' }}>\n                                <Command\n                                    noSpacing\n                                    key={`${currentInstall}-${cmdName}`}\n                                    ready\n                                    currentHost={currentHost}\n                                    logsRead={finishInstall ? logs[selected[selectLogsIndex]] || ['skipped'] : null}\n                                    showElement={!finishInstall}\n                                    socket={socket}\n                                    t={I18n.t}\n                                    cmd={finishInstall ? '' : `${cmdName} ${selected[currentInstall - 1].replace('system.adapter.', '').split('.')[0]}`}\n                                    onFinished={(_, logsSuccess) => {\n                                        const initObj = {\n                                            type: 'instance',\n                                            protectedNative: [],\n                                            encryptedNative: [],\n                                            notifications: [],\n                                            instanceObjects: [],\n                                            objects: [],\n                                        };\n\n                                        let data = JSON.parse(JSON.stringify(discoveryData?.native.newInstances.find(obj =>\n                                            obj._id === selected[currentInstall - 1])));\n                                        delete data.comment;\n                                        data = Object.assign(initObj, data);\n\n                                        // set log level\n                                        if (defaultLogLevel) {\n                                            data.common.logLevel = defaultLogLevel;\n                                        }\n                                        data.common.logLevel = data.common.logLevel || 'info';\n\n                                        extendObject(selected[currentInstall - 1], data);\n                                        if (Object.keys(instancesInputsParams).length) {\n                                            extendObject(selected[currentInstall - 1], instancesInputsParams);\n                                            setInstancesInputsParams({});\n                                        }\n                                        if (checkSelectHosts && hostInstances[selected[currentInstall - 1]]) {\n                                            extendObject(selected[currentInstall - 1], { common: { host: hostInstances[selected[currentInstall - 1]] } });\n                                        }\n                                        if (selected.length > currentInstall) {\n                                            checkLicenseAndInputs(selected[currentInstall], () => {\n                                                setCurrentInstall(currentInstall + 1);\n                                                setCmdName('install');\n                                            });\n                                            setLogs({ ...logs, [selected[currentInstall - 1]]: logsSuccess });\n                                            setInstallStatus(Object.assign({ ...installStatus }, { [currentInstall]: 'success' }));\n                                        } else {\n                                            setLogs({ ...logs, [selected[currentInstall - 1]]: logsSuccess });\n                                            setInstallStatus(Object.assign({ ...installStatus }, { [currentInstall]: 'success' }));\n                                            setSelectLogsIndex(currentInstall - 1);\n                                            let dataDiscovery = JSON.parse(JSON.stringify(discoveryData));\n                                            if (dataDiscovery) {\n                                                dataDiscovery.native.newInstances = dataDiscovery.native.newInstances.filter(({ _id }) => {\n                                                    const find = selected.find(el => el === _id);\n                                                    if (!find) {\n                                                        return true;\n                                                    }\n                                                    return installStatus[selected.indexOf(find) + 1] !== 'success';\n                                                });\n                                                socket.setObject('system.discovery', dataDiscovery);\n                                            }\n                                            setFinishInstall(true);\n                                            window.alert(I18n.t('Finished'));\n                                        }\n                                    }}\n                                    errorFunc={(el, logsError) => {\n                                        if (el === 51 && cmdName === 'install') {\n                                            return setCmdName('upload');\n                                        }\n                                        if (selected.length > currentInstall && cmdName === 'upload') {\n                                            checkLicenseAndInputs(selected[currentInstall], () => {\n                                                setCurrentInstall(currentInstall + 1);\n                                            });\n                                            setInstallStatus(Object.assign({ ...installStatus }, { [currentInstall]: 'error' }));\n                                        } else {\n                                            if (selected.length > currentInstall) {\n                                                setInstallStatus(Object.assign({ ...installStatus }, { [currentInstall]: 'error' }));\n                                                checkLicenseAndInputs(selected[currentInstall], () =>\n                                                    setCurrentInstall(currentInstall + 1));\n                                                setCmdName('install');\n                                                setLogs({ ...logs, [selected[currentInstall - 1]]: logsError });\n                                            } else {\n                                                setInstallStatus(Object.assign({ ...installStatus }, { [currentInstall]: 'error' }));\n                                                setLogs({ ...logs, [selected[currentInstall - 1]]: logsError });\n                                                setFinishInstall(true);\n                                                setSelectLogsIndex(currentInstall - 1);\n                                                let dataDiscovery = JSON.parse(JSON.stringify(discoveryData));\n                                                if (dataDiscovery) {\n                                                    dataDiscovery.native.newInstances = dataDiscovery.native.newInstances.filter(({ _id }) => {\n                                                        const find = selected.find(el => el === _id);\n                                                        if (!find) {\n                                                            return true;\n                                                        }\n                                                        return installStatus[selected.indexOf(find) + 1] !== 'success';\n                                                    });\n                                                    socket.setObject('system.discovery', dataDiscovery);\n                                                }\n                                            }\n                                            window.alert(`error ${selected[currentInstall - 1]}`);\n                                        }\n                                    }}\n                                />\n                            </div>}\n                        </div>\n                    </TabPanel>\n                </div>\n            </DialogContent >\n            <DialogActions>\n                {step > 0 && step !== 4 && <Button\n                    variant=\"contained\"\n                    disabled={step === 0}\n                    onClick={() => {\n                        if (step === 2) {\n                            resetStateBack();\n                        }\n                        stepDown();\n                    }}\n                    color=\"default\"\n                    startIcon={<NavigateBeforeIcon />}\n                >\n                    {I18n.t('Back')}\n                </Button>\n                }\n                {step === 0 && <Button\n                    variant=\"contained\"\n                    autoFocus\n                    disabled={disableScanner}\n                    onClick={discoverScanner}\n                    color=\"primary\"\n                    startIcon={<SearchIcon />}\n                >\n                    {I18n.t('Discover')}\n                </Button>}\n                {step !== 2 && step !== 4 &&\n                    <Tooltip title={step === 0 ? I18n.t('Skip discovery process and go to install with last scan results') : ''}>\n                        <Button\n                            variant=\"contained\"\n                            disabled={!discoveryData || !discoveryData?.native?.lastScan || step === 2 || disableScanner || (step === 1 && !selected.length)}\n                            onClick={() => {\n                                stepUp();\n                                if (step === 1) {\n                                    checkInstall();\n                                }\n                            }}\n                            color={step === 1 ? 'primary' : 'default'}\n                            startIcon={step === 1 ? <LibraryAddIcon /> : <NavigateNextIcon />}\n                        >\n                            {I18n.t(step === 1 ? 'Create instances' : 'Use last scan')}\n                        </Button>\n                    </Tooltip>\n                }\n                <Button\n                    variant=\"contained\"\n                    disabled={disableScanner}\n                    onClick={() => onClose()}\n                    color={step === 2 ? 'primary' : 'default'}\n                    startIcon={<CloseIcon />}\n                >\n                    {I18n.t(step === 2 ? 'Finish' : 'Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </ThemeProvider >;\n}\n\nexport default DiscoveryDialog;","import React, { Suspense } from 'react';\nimport withWidth from '@material-ui/core/withWidth';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\nimport clsx from 'clsx';\n\n// @material-ui/core\nimport AppBar from '@material-ui/core/AppBar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { Hidden, Tooltip } from '@material-ui/core';\nimport Badge from '@material-ui/core/Badge';\n\n// @material-ui/icons\nimport MenuIcon from '@material-ui/icons/Menu';\nimport BuildIcon from '@material-ui/icons/Build';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport PictureInPictureAltIcon from '@material-ui/icons/PictureInPictureAlt';\nimport UserIcon from '@material-ui/icons/Person';\n\nimport ExpertIcon from '@iobroker/adapter-react/icons/IconExpert';\n\nimport Connection from './components/Connection';\nimport { PROGRESS } from './components/Connection';\n//import {AdminConnection as Connection} from '@iobroker/socket-client/dist/AdminConnection';\n// import {PROGRESS} from '@iobroker/socket-client/dist/Connection';\nimport Loader from '@iobroker/adapter-react/Components/Loader';\nimport LoaderPT from '@iobroker/adapter-react/Components/Loaders/PT';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Router from '@iobroker/adapter-react/Components/Router';\nimport Utils from './components/Utils';//adapter-react/Components/Utils';\nimport ConfirmDialog from '@iobroker/adapter-react/Dialogs/Confirm';\nimport Icon from '@iobroker/adapter-react/Components/Icon';\nimport theme from '@iobroker/adapter-react/Theme';\n\nimport CommandDialog from './dialogs/CommandDialog';\nimport Drawer from './components/Drawer';\nimport { STATES as DrawerStates } from './components/Drawer';\nimport { DRAWER_FULL_WIDTH, DRAWER_COMPACT_WIDTH } from './components/Drawer';\nimport Connecting from './components/Connecting';\n\nimport WizardDialog from './dialogs/WizardDialog';\nimport SystemSettingsDialog from './dialogs/SystemSettingsDialog';\nimport Login from './login/Login';\nimport HostSelectors from './components/HostSelectors';\nimport { expertModeDialogFunc } from './dialogs/ExpertModeDialog';\nimport { checkMessages, newsAdminDialogFunc } from './dialogs/NewsAdminDialog';\nimport { hostWarningDialogFunc } from './dialogs/HostWarningDialog';\nimport ToggleThemeMenu from './components/ToggleThemeMenu';\nimport LogsWorker from './Workers/LogsWorker';\nimport InstancesWorker from './Workers/InstancesWorker';\nimport HostsWorker from './Workers/HostsWorker';\nimport AdaptersWorker from './Workers/AdaptersWorker';\nimport ObjectsWorker from './Workers/ObjectsWorker';\nimport DiscoveryDialog from './dialogs/DiscoveryDialog';\nimport SlowConnectionWarningDialog from './dialogs/SlowConnectionWarningDialog';\nimport IsVisible from './components/IsVisible';\n\n// Tabs\nconst Adapters  = React.lazy(() => import('./tabs/Adapters'));\nconst Instances = React.lazy(() => import('./tabs/Instances'));\nconst Intro     = React.lazy(() => import('./tabs/Intro'));\nconst Logs      = React.lazy(() => import('./tabs/Logs'));\nconst Files     = React.lazy(() => import('./tabs/Files'));\nconst Objects   = React.lazy(() => import('./tabs/Objects'));\nconst Users     = React.lazy(() => import('./tabs/Users'));\nconst Enums     = React.lazy(() => import('./tabs/Enums'));\nconst CustomTab = React.lazy(() => import('./tabs/CustomTab'));\nconst Hosts     = React.lazy(() => import('./tabs/Hosts'));\nconst EasyMode  = React.lazy(() => import('./tabs/EasyMode'));\n\nconst query = {};\n(window.location.search || '').replace(/^\\?/, '').split('&').forEach(attr => {\n    const parts = attr.split('=');\n    if (!parts[0]) {\n        return;\n    }\n    query[parts[0]] = parts[1] === undefined ? true : decodeURIComponent(parts[1]);\n});\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n        height: '100%',\n    },\n    appBar: {\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    logoWhite: {\n        background: '#FFFFFF'\n    },\n    appBarShift: {\n        width: `calc(100% - ${DRAWER_FULL_WIDTH}px)`,\n        marginLeft: DRAWER_FULL_WIDTH,\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    appBarShiftCompact: {\n        width: `calc(100% - ${DRAWER_COMPACT_WIDTH}px)`,\n        marginLeft: DRAWER_COMPACT_WIDTH,\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    hide: {\n        display: 'none'\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(1),\n        transition: theme.transitions.create('margin', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowY: 'auto',\n        marginTop: theme.mixins.toolbar.minHeight,\n        '@media (min-width:0px) and (orientation: landscape)': {\n            marginTop: theme.mixins.toolbar['@media (min-width:0px) and (orientation: landscape)'].minHeight\n        },\n        '@media (min-width:600px)': {\n            marginTop: theme.mixins.toolbar['@media (min-width:600px)'].minHeight\n        }\n    },\n    contentMargin: {\n        marginLeft: -DRAWER_FULL_WIDTH,\n    },\n    contentMarginCompact: {\n        marginLeft: -DRAWER_COMPACT_WIDTH,\n    },\n    contentShift: {\n        transition: theme.transitions.create('margin', {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginLeft: 0\n    },\n    expertIcon: {\n        width: 22,\n        height: 22,\n        //color: theme.palette.text ? theme.palette.text.disabled : 'grey'\n    },\n    expertIconActive: {\n        //color: theme.palette.action.active\n    },\n    baseSettingsButton: {\n        color: 'red',\n    },\n    alert_info: {\n\n    },\n    alert_error: {\n        backgroundColor: '#f44336'\n    },\n    alert_success: {\n        backgroundColor: '#4caf50'\n    },\n    avatarNotVisible: {\n        opacity: 0,\n        marginLeft: 5,\n        transition: 'opacity 0.3s',\n        width: 'initial'\n    },\n    avatarVisible: {\n        opacity: 1\n    },\n    cmd: {\n        animation: '1s linear infinite alternate $myEffect',\n        opacity: 0.2,\n    },\n    '@keyframes myEffect': {\n        '0%': {\n            opacity: 0.2,\n            transform: 'translateY(0)'\n        },\n        '100%': {\n            opacity: 1,\n            transform: 'translateY(-10%)'\n        }\n    },\n    errorCmd: {\n        color: '#a90000',\n        animation: '0.2s linear infinite alternate $myEffect2',\n    },\n    performed: {\n        color: theme.palette.type === 'light' ? '#3bfd44' : '#388e3c',\n        animation: '0.2s linear infinite alternate $myEffect2',\n    },\n    wrapperButtons: {\n        display: 'flex',\n        marginRight: 'auto',\n        overflowY: 'auto'\n    },\n    '@keyframes myEffect2': {\n        '0%': {\n            opacity: 1,\n            transform: 'translateX(0)'\n        },\n        '100%': {\n            opacity: 0.7,\n            transform: 'translateX(-2%)'\n        }\n    },\n\n    flexGrow: {\n        flexGrow: 2,\n    },\n    userBadge: {\n        lineHeight: '48px'\n    },\n    userIcon: {\n        borderRadius: 4,\n        width: 48,\n        height: 48,\n        verticalAlign: 'middle',\n    },\n    userText: {\n        verticalAlign: 'middle',\n        fontSize: 16,\n        maxWidth: 100,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        display: 'inline-block'\n    },\n    userBackground: {\n        borderRadius: 4,\n        backgroundColor: theme.palette.type === 'dark' ? '#EEE' : '#222',\n        padding: 3,\n    },\n    styleVersion: {\n        fontSize: 10,\n    },\n    wrapperName: {\n        display: 'flex',\n        flexDirection: 'column',\n        marginRight: 10\n    },\n    expertBadge: {\n        marginTop: 11,\n        marginRight: 11,\n    }\n});\n\nclass App extends Router {\n    constructor(props) {\n        super(props);\n\n        window.alert = message => {\n            if (message && message.toString().toLowerCase().includes('error')) {\n                console.error(message);\n                this.showAlert(message.toString(), 'error');\n            } else {\n                console.log(message);\n                this.showAlert(message.toString(), 'info');\n            }\n        };\n        // init translations\n        this.translations = {\n            'en': require('@iobroker/adapter-react/i18n/en'),\n            'de': require('@iobroker/adapter-react/i18n/de'),\n            'ru': require('@iobroker/adapter-react/i18n/ru'),\n            'pt': require('@iobroker/adapter-react/i18n/pt'),\n            'nl': require('@iobroker/adapter-react/i18n/nl'),\n            'fr': require('@iobroker/adapter-react/i18n/fr'),\n            'it': require('@iobroker/adapter-react/i18n/it'),\n            'es': require('@iobroker/adapter-react/i18n/es'),\n            'pl': require('@iobroker/adapter-react/i18n/pl'),\n            'zh-cn': require('@iobroker/adapter-react/i18n/zh-cn'),\n        };\n\n        const translations = {\n            'en': require('./i18n/en'),\n            'de': require('./i18n/de'),\n            'ru': require('./i18n/ru'),\n            'pt': require('./i18n/pt'),\n            'nl': require('./i18n/nl'),\n            'fr': require('./i18n/fr'),\n            'it': require('./i18n/it'),\n            'es': require('./i18n/es'),\n            'pl': require('./i18n/pl'),\n            'zh-cn': require('./i18n/zh-cn'),\n        };\n        // merge together\n        Object.keys(translations).forEach(lang => this.translations[lang] = Object.assign(this.translations[lang], translations[lang]));\n\n        // init translations\n        I18n.setTranslations(this.translations);\n        I18n.setLanguage((navigator.language || navigator.userLanguage || 'en').substring(0, 2).toLowerCase());\n\n        this.refConfigIframe = null;\n        this.refUser = React.createRef();\n        this.refUserDiv = React.createRef();\n        this.expireInSec = null;\n        this.expireInSecInterval = null;\n        this.expireText = I18n.t('Session expire in %s', '%s');\n        this.adminGuiConfig = {admin: {menu: {}, settings: {}, adapters: {}, login: {}}};\n\n        if (!query.login) {\n            let drawerState = window.localStorage.getItem('App.drawerState');\n            if (drawerState) {\n                drawerState = parseInt(drawerState, 10);\n            } else {\n                drawerState = this.props.width === 'xs' ? DrawerStates.closed : DrawerStates.opened;\n            }\n\n            const theme = this.createTheme();\n\n            this.state = {\n                connected: false,\n                progress: 0,\n                ready: false,\n                lang: 'en',\n\n                //Finished\n                protocol: this.getProtocol(),\n                hostname: window.location.hostname,\n                port: this.getPort(),\n                //---------\n\n                allTabs: null,\n\n                expertMode: false,\n\n                states: {},\n                hosts: [],\n                currentHost: '',\n                currentHostName: '',\n                currentTab: Router.getLocation(),\n                currentDialog: null,\n                currentUser: '',\n                subscribesStates: {},\n                subscribesObjects: {},\n                subscribesLogs: 0,\n                systemConfig: null,\n                user: null, // Logged in user\n\n                repository: {},\n                installed: {},\n\n                objects: {},\n\n                waitForRestart: false,\n                tabs: null,\n                config: {},\n\n                stateChanged: false,\n\n                theme,\n                themeName: this.getThemeName(theme),\n                themeType: this.getThemeType(theme),\n\n                alert: false,\n                alertType: 'info',\n                alertMessage: '',\n                drawerState,\n\n                tab: null,\n                allStored: true,\n                dataNotStoredDialog: false,\n                dataNotStoredTab: '',\n\n                baseSettingsOpened: false,\n                unsavedDataInDialog: false,\n                systemSettingsOpened: false,\n\n                cmd: null,\n                cmdDialog: false,\n                wizard: true,\n                commandError: false,\n                performed: false,\n                commandRunning: false,\n\n                discoveryAlive: false,\n\n                readTimeoutMs: SlowConnectionWarningDialog.getReadTimeoutMs(),\n                showSlowConnectionWarning: false,\n\n                expireInSec: null,\n\n                versionAdmin: '',\n\n                forceUpdateAdapters: 0,\n            };\n            this.logsWorker = null;\n            this.instancesWorker = null;\n            this.hostsWorker = null;\n        } else {\n            const theme = this.createTheme();\n            this.state = {\n                login: true,\n                theme,\n                themeName: this.getThemeName(theme),\n                themeType: this.getThemeType(theme)\n            }\n        }\n    }\n\n    static getDerivedStateFromError(error) {\n        // Update state so the next render will show the fallback UI.\n        return { hasGlobalError: error };\n    }\n\n    componentDidCatch(error, info) {\n        this.setState({hasGlobalError: error, hasGlobalErrorInfo: info});\n    }\n\n    setUnsavedData(hasUnsavedData) {\n        if (hasUnsavedData !== this.state.unsavedDataInDialog) {\n            this.setState({ unsavedDataInDialog: hasUnsavedData });\n        }\n    }\n\n    // If the background color must be inverted. Depends on current theme.\n    mustInvertBackground(color) {\n        if (!color) {\n            return false;\n        } else {\n            const invertedColor = Utils.invertColor(color, true);\n            if (invertedColor === '#FFFFFF' && this.state.themeType === 'dark') {\n                return true;\n            } else\n            if (invertedColor === '#000000' && this.state.themeType === 'light') {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    componentDidMount() {\n        if (!this.state.login) {\n            window.addEventListener('hashchange', this.onHashChanged, false);\n            if (!this.state.currentTab.tab) {\n                this.handleNavigation('tab-intro');\n            } else {\n                this.setTitle(this.state.currentTab.tab.replace('tab-', ''));\n            }\n\n            this.socket = new Connection({\n                name: 'admin',\n                admin5only: true,\n                port: this.getPort(),\n                autoSubscribes: ['system.adapter.*'], // do not subscribe on '*' and really we don't need a 'system.adapter.*' too. Every tab must subscribe itself on everything that it needs\n                autoSubscribeLog: true,\n                onProgress: progress => {\n                    if (progress === PROGRESS.CONNECTING) {\n                        this.setState({\n                            connected: false\n                        });\n                    } else if (progress === PROGRESS.READY) {\n                        const newState = {\n                            connected: true,\n                            progress: 100\n                        };\n                        if (this.state.cmd && this.state.cmd.match(/ admin(@[-.\\w]+)?$/)) {\n                            // close command dialog after reconnect (may be admin was restarted and update is now finished)\n                            newState.commandRunning = false;\n                            newState.forceUpdateAdapters = this.state.forceUpdateAdapters + 1;\n\n                            this.closeCmdDialog(() => {\n                                this.setState(newState);\n                                window.location.reload(false);\n                            });\n                        } else {\n                            this.setState(newState);\n                        }\n                    } else {\n                        this.setState({\n                            connected: true,\n                            progress: Math.round(PROGRESS.READY / progress * 100)\n                        });\n                    }\n                },\n                onReady: async objects => {\n                    I18n.setLanguage(this.socket.systemLang);\n\n                    // Combine adminGuiConfig with user settings\n                    this.adminGuiConfig = Object.assign({admin: {menu: {}, settings: {}, adapters: {}, login: {}}}, this.socket.systemConfig.native?.vendor);\n                    this.adminGuiConfig.admin.menu     = this.adminGuiConfig.admin.menu     || {};\n                    this.adminGuiConfig.admin.settings = this.adminGuiConfig.admin.settings || {};\n                    this.adminGuiConfig.admin.adapters = this.adminGuiConfig.admin.adapters || {};\n                    this.adminGuiConfig.admin.login    = this.adminGuiConfig.admin.login    || {};\n\n                    this.socket.getCurrentInstance()\n                        .then(adminInstance => {\n                            this.adminInstance = adminInstance;\n                            return this.socket.getIsEasyModeStrict();\n                        })\n                        .then(async isStrict => {\n                            if (isStrict) {\n                                return this.socket.getEasyMode()\n                                    .then(config => {\n                                        this.setState({\n                                            lang: this.socket.systemLang,\n                                            ready: true,\n                                            strictEasyMode: true,\n                                            easyModeConfigs: config.configs,\n                                            objects,\n                                        });\n                                    });\n                            } else {\n                                // create Workers\n                                this.logsWorker      = this.logsWorker      || new LogsWorker(this.socket, 1000);\n                                this.instancesWorker = this.instancesWorker || new InstancesWorker(this.socket);\n                                this.hostsWorker     = this.hostsWorker     || new HostsWorker(this.socket);\n                                this.adaptersWorker  = this.adaptersWorker  || new AdaptersWorker(this.socket);\n                                this.objectsWorker   = this.objectsWorker   || new ObjectsWorker(this.socket);\n\n                                const newState = {\n                                    lang: this.socket.systemLang,\n                                    ready: true,\n                                    objects,\n                                };\n\n                                try {\n                                    newState.systemConfig = await this.socket.getCompactSystemConfig();\n                                    newState.wizard = !newState.systemConfig.common.licenseConfirmed;\n                                    newState.versionAdmin = (await this.socket.getVersion()).version;\n                                    await this.findCurrentHost(newState);\n                                    await this.readRepoAndInstalledInfo(newState.currentHost, newState.hosts);\n                                } catch (error) {\n                                    console.log(error);\n                                }\n\n                                this.adaptersWorker.registerRepositoryHandler(this.repoChangeHandler);\n                                this.adaptersWorker.registerHandler(this.adaptersChangeHandler);\n\n                                this.subscribeOnHostsStatus();\n\n                                newState.expertMode = window.sessionStorage.getItem('App.expertMode') ? window.sessionStorage.getItem('App.expertMode') === 'true' : !!newState.systemConfig.common.expertMode;\n\n                                // Read user and show him\n                                if (this.socket.isSecure || this.socket.systemConfig.native?.vendor) {\n                                    this.socket.getCurrentUser()\n                                        .then(user => {\n                                            this.socket.getObject('system.user.' + user)\n                                                .then(userObj => {\n                                                    if (userObj.native?.vendor) {\n                                                        Object.assign(this.adminGuiConfig, userObj.native.vendor);\n                                                    }\n\n                                                    if (this.socket.isSecure) {\n                                                        this.setState({\n                                                            user: {\n                                                                id: userObj._id,\n                                                                name: Utils.getObjectNameFromObj(userObj, this.socket.systemLang),\n                                                                color: userObj.common.color,\n                                                                icon: userObj.common.icon,\n                                                                invertBackground: this.mustInvertBackground(userObj.common.color)\n                                                            }\n                                                        });\n\n                                                        // start ping interval\n                                                        this.makePingAuth();\n                                                    }\n                                                })\n                                        })\n                                        .catch(error => {\n                                            console.error(error);\n                                            this.showAlert(error, 'error');\n                                        });\n                                }\n\n                                this.setState(newState, () =>\n                                    this.setCurrentTabTitle());\n\n                                this.socket.subscribeState('system.adapter.discovery.0.alive', this.onDiscoveryAlive);\n\n                                // Give some time for communication\n                                setTimeout(() =>\n                                    this.logsWorkerChanged(this.state.currentHost), 1000);\n\n                                setTimeout(() =>\n                                    this.findNewsInstance()\n                                        .then(instance => this.socket.subscribeState(`admin.${instance}.info.newsFeed`, this.getNews(instance))),\n                                    5000);\n\n                                setTimeout(() =>\n                                    this.hostsWorker.getNotifications(newState.currentHost)\n                                        .then(notifications => this.showAdaptersWarning(notifications, this.socket, newState.currentHost)),\n                                    3000);\n                            }\n                        })\n                        .catch(error => {\n                            console.error(error);\n                            this.showAlert(error, 'error');\n                        });\n                },\n                //onObjectChange: (objects, scripts) => this.onObjectChange(objects, scripts),\n                onError: error => {\n                    console.error(error);\n                    this.showAlert(error, 'error');\n                }\n            });\n        }\n    }\n\n    repoChangeHandler = () => {\n        this.readRepoAndInstalledInfo(this.state.currentHost, null, true)\n            .then(() => console.log('Repo updated!'));\n    }\n\n    adaptersChangeHandler = events => {\n        // update installed\n        //\n        const installed = JSON.parse(JSON.stringify(this.state.installed));\n        let changed = false;\n        events.forEach(event => {\n            const parts = event.id.split('.');\n            const adapter = parts[2];\n            if (event.type === 'delete' || !event.obj) {\n                if (installed[adapter]) {\n                    changed = true;\n                    delete installed[adapter];\n                }\n            } else {\n                if (installed[adapter]) {\n                    Object.keys(installed[adapter])\n                        .forEach(attr => {\n                            if (installed[adapter][attr] !== event.obj.common[attr]) {\n                                installed[adapter][attr] = event.obj.common[attr];\n                                changed = true;\n                            }\n                        });\n                } else {\n                    installed[adapter] = {version: event.obj.common.version};\n                    changed = true;\n                }\n            }\n        });\n\n        changed && this.setState({installed});\n    }\n\n    async findCurrentHost(newState) {\n        newState.hosts = await this.socket.getCompactHosts();\n\n        if (!this.state.currentHost) {\n            const currentHost = window.localStorage.getItem('App.currentHost');\n\n            const itemHost = newState.hosts.find(host => host._id === currentHost);\n\n            if (currentHost && itemHost) {\n                newState.currentHost     = itemHost._id;\n                newState.currentHostName = itemHost.common?.name || itemHost._id.replace('system.host.', '');\n            } else {\n                newState.currentHost     = newState.hosts[0]._id;\n                newState.currentHostName = newState.hosts[0].common?.name || newState.hosts[0]._id.replace('system.host.', '');\n            }\n        }\n\n        // Check that host is alive\n        let alive;\n        try {\n            alive = await this.socket.getState(newState.currentHost + '.alive');\n        } catch (e) {\n            alive = null;\n            console.warn(`Cannot get state ${newState.currentHost}.alive: ${e}`);\n        }\n\n        if (!alive || !alive.val) {\n            // find first alive host\n            for (let h = 0; h < newState.hosts.length; h++) {\n                alive = await this.socket.getState(newState.hosts[h]._id + '.alive');\n                if (alive && alive.val) {\n                    newState.currentHost     = newState.hosts[h]._id;\n                    newState.currentHostName = newState.hosts[h].common.name;\n                }\n            }\n        }\n    }\n\n    updateExpireIn() {\n        const now = Date.now();\n        this.expireInSec -= (now - this.lastExecution) / 1000;\n        const time = Utils.formatTime(this.expireInSec);\n        if (this.refUser.current) {\n            this.refUser.current.title = this.expireText.replace('%s', time);\n        }\n        if (this.expireInSec < 120 && this.refUserDiv.current) {\n            this.refUserDiv.current.innerHTML = time;\n            this.refUserDiv.current.style.color = '#F44';\n        }\n\n        if (this.expireInSec <= 0) {\n            window.alert('Session expired');\n            // reconnect\n            setTimeout(() =>\n                window.location.reload(false), 1000);\n        }\n\n        this.lastExecution = now;\n    }\n\n    makePingAuth() {\n        this.pingAuth && clearTimeout(this.pingAuth);\n        this.pingAuth = null;\n\n        this.socket.getCurrentSession()\n            .then(data => {\n                if (data) {\n                    if (!this.expireInSecInterval) {\n                        this.expireInSecInterval = setInterval(() => this.updateExpireIn(), 1000);\n                    }\n                    this.expireInSec = data.expireInSec;\n                    this.lastExecution = Date.now();\n                    this.updateExpireIn();\n                }\n\n                /*this.pingAuth = setTimeout(() => {\n                    this.pingAuth = null;\n                    this.makePingAuth();\n                }, 30000);*/\n            })\n            .catch(e => {\n                window.alert('Session timeout: ' + e);\n                // reconnect\n                setTimeout(() =>\n                    window.location.reload(false), 1000);\n            })\n    }\n\n    onDiscoveryAlive = (name, value) => {\n        if (!!(value && !!value.val) !== this.state.discoveryAlive) {\n            this.setState({ discoveryAlive: !!(value && !!value.val) });\n        }\n    }\n\n    getDiscoveryModal = () => {\n        return <DiscoveryDialog\n            themeType={this.state.themeType}\n            themeName={this.state.themeName}\n            socket={this.socket}\n            dateFormat={this.state.systemConfig.common.dateFormat}\n            currentHost={this.state.currentHost}\n            defaultLogLevel={this.state.systemConfig.common.defaultLogLevel}\n            repository={this.state.repository}\n            hosts={this.state.hosts}\n            onClose={() => Router.doNavigate(null)}\n        />;\n    }\n\n    findNewsInstance = () => {\n        const maxCount = 200;\n        return new Promise(async resolve => {\n            for (let instance = 0; instance < maxCount; instance++) {\n                try {\n                    let adminAlive = await this.socket.getState(`system.adapter.admin.${instance}.alive`);\n                    if (adminAlive && adminAlive.val) {\n                        resolve(instance);\n                        break;\n                    }\n                } catch (error) {\n                    console.error(error);\n                    this.showAlert(error, 'error');\n                }\n            }\n            resolve(0);\n        });\n    }\n\n    showAdaptersWarning = (notifications, socket, host) => {\n        if (!notifications || !notifications[host] || !notifications[host].result) {\n            return Promise.resolve();\n        }\n\n        const result = notifications[host].result;\n\n        if (result && result.system && Object.keys(result.system.categories).length) {\n            return this.instancesWorker.getInstances()\n                .then(instances => {\n                    hostWarningDialogFunc(\n                        result.system.categories,\n                        this.state.systemConfig.common.dateFormat,\n                        this.state.themeType,\n                        this.state.themeName,\n                        instances,\n                        name => socket.clearNotifications(host, name)\n                    );\n                });\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    getNews = instance => async (name, newsFeed) => {\n        try {\n            const lastNewsId = await this.socket.getState(`admin.${instance}.info.newsLastId`);\n            if (newsFeed && newsFeed.val) {\n                const news = JSON.parse(newsFeed?.val);\n\n                if (news && news.length && news[0].id !== lastNewsId?.val) {\n                    this.socket.getUuid()\n                        .then(uuid => this.socket.getHostInfo(this.state.currentHost)\n                            .catch(() => null)\n                            .then(info => this.socket.getCompactInstances()\n                                .catch(() => null)\n                                .then(instances => {\n                                    const checkNews = checkMessages(news, lastNewsId?.val, {\n                                        lang: I18n.getLanguage(),\n                                        adapters: this.state.adapters,\n                                        instances: instances || [],\n                                        nodeVersion: info ? info['Node.js'] || '?' : '?',\n                                        npmVersion: info ? info.NPM || '?' : '?',\n                                        os: info ? info.os || '?' : '?',\n                                        activeRepo: this.state.systemConfig.common.activeRepo,\n                                        uuid\n                                    });\n\n                                    if (checkNews && checkNews.length) {\n                                        newsAdminDialogFunc(checkNews, lastNewsId?.val, this.state.themeName, this.state.themeType, id =>\n                                            this.socket.setState(`admin.${instance}.info.newsLastId`, { val: id, ack: true }));\n                                    }\n                                })));\n                }\n            }\n\n        } catch (error) {\n            console.error(error);\n            this.showAlert(error, 'error');\n        }\n    }\n\n    renderSlowConnectionWarning() {\n        if (!this.state.showSlowConnectionWarning) {\n            return null;\n        } else {\n            return <SlowConnectionWarningDialog\n                readTimeoutMs={this.state.readTimeoutMs}\n                t={I18n.t}\n                onClose={readTimeoutMs => {\n                    if (readTimeoutMs) {\n                        this.setState({showSlowConnectionWarning: false, readTimeoutMs}, () =>\n                            this.readRepoAndInstalledInfo(this.state.currentHost));\n                    } else {\n                        this.setState({showSlowConnectionWarning: false});\n                    }\n                }}\n            />;\n        }\n    }\n\n    readRepoAndInstalledInfo = async (currentHost, hosts, update) => {\n        hosts = hosts || this.state.hosts;\n        let repository;\n        let installed;\n\n        return this.socket.getCompactRepository(currentHost, update, this.state.readTimeoutMs)\n            .catch(e => {\n                window.alert('Cannot getRepositoryCompact: ' + e);\n                e.toString().includes('timeout') && this.setState({showSlowConnectionWarning: true});\n                return {};\n            })\n            .then(_repository => {\n                repository = _repository;\n                return this.socket.getCompactInstalled(currentHost, update, this.state.readTimeoutMs)\n                    .catch(e => {\n                        window.alert('Cannot getInstalled: ' + e);\n                        e.toString().includes('timeout') && this.setState({showSlowConnectionWarning: true});\n                        return {};\n                    });\n            })\n            .then(_installed => {\n                installed = _installed;\n                return this.socket.getCompactAdapters(update)\n                    .catch(e => window.alert('Cannot read adapters: ' + e));\n            })\n            .then(adapters => {\n                installed && adapters && Object.keys(adapters).forEach(id => {\n                    if (installed[id] && adapters[id].iv) {\n                        installed[id].ignoreVersion = adapters[id].iv;\n                    }\n                });\n\n                this.setState({ repository, installed, hosts, adapters });\n            });\n    }\n\n    logsWorkerChanged = currentHost => {\n        this.logsWorker && this.logsWorker.setCurrentHost(currentHost);\n    }\n\n    onHostStatusChanged = (id, state) => {\n        const host = this.state.hosts.find(_id => id + '.alive' === id);\n        if (host) {\n            // TODO!! => update hostSelector\n            console.log(`Current status ${id}: ${state?.val}`);\n        }\n    };\n\n    subscribeOnHostsStatus(hosts) {\n        hosts = hosts || this.state.hosts;\n        hosts.forEach(item =>\n            this.socket.subscribeState(item._id + '.alive', this.onHostStatusChanged));\n    }\n\n    unsubscribeOnHostsStatus() {\n        this.state.hosts && this.socket && this.state.hosts.forEach(item =>\n            this.socket.unsubscribeState(item._id + '.alive', this.onHostStatusChanged));\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('hashchange', this.onHashChanged, false);\n        this.socket && this.socket.unsubscribeState('system.adapter.discovery.0.alive', this.onDiscoveryAlive);\n\n        this.adaptersWorker && this.adaptersWorker.unregisterRepositoryHandler(this.repoChangeHandler);\n        this.adaptersWorker && this.adaptersWorker.unregisterHandler(this.adaptersChangeHandler);\n\n        this.pingAuth && clearTimeout(this.pingAuth);\n        this.pingAuth = null;\n        this.expireInSecInterval && clearInterval(this.expireInSecInterval);\n        this.expireInSecInterval = null;\n        this.unsubscribeOnHostsStatus();\n    }\n\n    /**\n     * Updates the current currentTab in the states\n     */\n    onHashChanged = el => {\n        this.setState({\n            currentTab: Router.getLocation()\n        }, () => this.setCurrentTabTitle());\n    }\n\n    /**\n     * Get the used port\n     */\n    getPort() {\n        let port = parseInt(window.location.port, 10);\n\n        if (isNaN(port)) {\n            switch (this.getProtocol()) {\n                case 'https:':\n                    port = 443;\n                    break;\n                case 'http:':\n                    port = 80;\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        if (!port || port === 3000) {\n            port = 8081;\n        }\n\n        return port;\n    }\n\n    /**\n     * Get the used protocol\n     */\n    getProtocol() {\n        return window.location.protocol;\n    }\n\n    /**\n     * Get a theme\n     * @param {string} name Theme name\n     * @returns {Theme}\n     */\n    createTheme(name) {\n        return theme(Utils.getThemeName(name));\n    }\n\n    /**\n     * Get the theme name\n     * @param {Theme} theme Theme\n     * @returns {string} Theme name\n     */\n    getThemeName(theme) {\n        return theme.name;\n    }\n\n    /**\n     * Get the theme type\n     * @param {Theme} theme Theme\n     * @returns {string} Theme type\n     */\n    getThemeType(theme) {\n        return theme.palette.type;\n    }\n\n    /**\n     * Changes the current theme\n     */\n    toggleTheme = currentThemeName => {\n        const themeName = this.state.themeName;\n\n        const newThemeName = currentThemeName || Utils.toggleTheme(themeName);\n\n        const theme = this.createTheme(newThemeName);\n\n        this.setState({\n            theme: theme,\n            themeName: newThemeName,\n            themeType: this.getThemeType(theme)\n        }, () => {\n            this.refConfigIframe?.contentWindow?.postMessage('updateTheme', '*');\n        });\n    }\n\n    async onObjectChange(id, obj) {\n        console.log('OBJECT: ' + id);\n        if (obj) {\n            this.setState(prevState => {\n                const objects = prevState.objects;\n                objects[id] = obj;\n\n                return { objects };\n            });\n        } else {\n            this.setState(prevState => {\n                const objects = prevState.objects;\n                delete objects[id];\n\n                return { objects };\n            });\n        }\n    }\n\n    setCurrentTabTitle() {\n        this.setTitle(this.state.currentTab.tab.replace('tab-', ''));\n    }\n\n    setTitle(title) {\n        document.title = title + ' - ' + (this.state.currentHostName || 'ioBroker');\n    }\n\n    getCurrentTab() {\n        if (this.state && this.state.currentTab && this.state.currentTab.tab) {\n            if (this.state.currentTab.tab === 'tab-adapters') {\n                const small = this.props.width === 'xs' || this.props.width === 'sm';\n                const compact = !small && (this.state.drawerState === DrawerStates.compact);\n                const opened = !small && (this.state.drawerState === DrawerStates.opened);\n                const closed = small || (this.state.drawerState === DrawerStates.closed);\n\n                return <Suspense fallback={<Connecting />}>\n                    <Adapters\n                        key={'adapters_' + this.state.currentHost + '_' + this.state.forceUpdateAdapters}\n                        theme={this.state.theme}\n                        themeName={this.state.themeName}\n                        adaptersWorker={this.adaptersWorker}\n                        instancesWorker={this.instancesWorker}\n                        themeType={this.state.themeType}\n                        systemConfig={this.state.systemConfig}\n                        socket={this.socket}\n                        hosts={this.state.hosts}\n                        currentHost={this.state.currentHost}\n                        ready={this.state.ready}\n                        t={I18n.t}\n                        lang={I18n.getLanguage()}\n                        expertMode={this.state.expertMode}\n                        executeCommand={(cmd, cb) => this.executeCommand(cmd, cb)}\n                        commandRunning={this.state.commandRunning}\n                        onSetCommandRunning={commandRunning => this.setState({ commandRunning })}\n                        menuOpened={opened}\n                        menuClosed={closed}\n                        menuCompact={compact}\n                        adminGuiConfig={this.adminGuiConfig}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-instances') {\n                return <Suspense fallback={<Connecting />}>\n                    <Instances\n                        key=\"instances\"\n                        menuPadding={this.state.drawerState === DrawerStates.closed ? 0 : (this.state.drawerState === DrawerStates.opened ? DRAWER_FULL_WIDTH : DRAWER_COMPACT_WIDTH)}\n                        socket={this.socket}\n                        instancesWorker={this.instancesWorker}\n                        lang={I18n.getLanguage()}\n\n                        protocol={this.state.protocol}\n                        hostname={this.state.hostname}\n                        port={this.state.port}\n                        adminInstance={this.adminInstance}\n                        repository={this.state.repository}\n\n                        hosts={this.state.hosts}\n                        themeName={this.state.themeName}\n                        themeType={this.state.themeType}\n                        theme={this.state.theme}\n                        expertMode={this.state.expertMode}\n                        currentHost={this.state.currentHost}\n                        currentHostName={this.state.currentHostName}\n                        t={I18n.t}\n                        dateFormat={this.state.systemConfig.common.dateFormat}\n                        isFloatComma={this.state.systemConfig.common.isFloatComma}\n                        width={this.props.width}\n                        configStored={value => this.allStored(value)}\n                        executeCommand={(cmd, cb) => this.executeCommand(cmd, cb)}\n                        inBackgroundCommand={this.state.commandError || this.state.performed}\n\n                        onRegisterIframeRef={ref => this.refConfigIframe = ref}\n                        onUnregisterIframeRef={ref => {\n                            if (this.refConfigIframe === ref) {\n                                this.refConfigIframe = null;\n                            }\n                        }}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-intro') {\n                return <Suspense fallback={<Connecting />}>\n                    <Intro\n                        key=\"intro\"\n\n                        protocol={this.state.protocol}\n                        hostname={this.state.hostname}\n                        port={this.state.port}\n                        adminInstance={this.adminInstance}\n\n                        showAlert={(message, type) => this.showAlert(message, type)}\n                        socket={this.socket}\n                        t={I18n.t}\n                        lang={I18n.getLanguage()}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-logs') {\n                return <Suspense fallback={<Connecting />}>\n                    <Logs\n                        key=\"logs\"\n                        t={I18n.t}\n                        lang={this.state.lang}\n                        socket={this.socket}\n                        themeType={this.state.themeType}\n                        ready={this.state.ready}\n                        logsWorker={this.logsWorker}\n                        expertMode={this.state.expertMode}\n                        currentHost={this.state.currentHost}\n                        hostsWorker={this.hostsWorker}\n                        clearErrors={cb => this.clearLogErrors(cb)}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-files') {\n                return <Suspense fallback={<Connecting />}>\n                    <Files\n                        key=\"files\"\n                        ready={this.state.ready}\n                        t={I18n.t}\n                        expertMode={this.state.expertMode}\n                        lang={I18n.getLanguage()}\n                        socket={this.socket}\n                        themeName={this.state.themeName}\n                        themeType={this.state.themeType}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-users') {\n                return <Suspense fallback={<Connecting />}>\n                    <Users\n                        key=\"users\"\n                        ready={this.state.ready}\n                        t={I18n.t}\n                        expertMode={this.state.expertMode}\n                        lang={I18n.getLanguage()}\n                        socket={this.socket}\n                        themeType={this.state.themeType}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-enums') {\n                return <Suspense fallback={<Connecting />}>\n                    <Enums\n                        key=\"enums\"\n                        ready={this.state.ready}\n                        t={I18n.t}\n                        expertMode={this.state.expertMode}\n                        lang={I18n.getLanguage()}\n                        socket={this.socket}\n                        themeType={this.state.themeType}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-objects') {\n                return <Suspense fallback={<Connecting />}>\n                    <Objects\n                        key=\"objects\"\n                        t={I18n.t}\n                        theme={this.state.theme}\n                        themeName={this.state.themeName}\n                        themeType={this.state.themeType}\n                        expertMode={this.state.expertMode}\n                        objectsWorker={this.objectsWorker}\n                        lang={I18n.getLanguage()}\n                        socket={this.socket}\n                        dateFormat={this.state.systemConfig.common.dateFormat}\n                        isFloatComma={this.state.systemConfig.common.isFloatComma}\n                    />\n                </Suspense>;\n            } else if (this.state.currentTab.tab === 'tab-hosts') {\n                return <Suspense fallback={<Connecting />}>\n                    <Hosts\n                        socket={this.socket}\n                        lang={I18n.getLanguage()}\n\n                        hostsWorker={this.hostsWorker}\n\n                        themeName={this.state.themeName}\n                        expertMode={this.state.expertMode}\n                        t={I18n.t}\n                        navigate={Router.doNavigate}\n                        currentHost={this.state.currentHost}\n                        executeCommand={(cmd, cb) => this.executeCommand(cmd, cb)}\n                        systemConfig={this.state.systemConfig}\n                        showAdaptersWarning={this.showAdaptersWarning}\n                    />\n                </Suspense>;\n            } else {\n                const m = this.state.currentTab.tab.match(/^tab-([-\\w\\d]+)(-\\d+)?$/);\n                if (m) {\n                    /*const adapter  = m[1];\n                    const instance = m[2] ? parseInt(m[2], 10) : null;\n\n                    let link  = tab.common.adminTab.link || '/adapter/' + tab.common.name + '/tab.html';\n                    if (tab.common.materializeTab) {\n                        link  = tab.common.adminTab.link || '/adapter/' + tab.common.name + '/tab_m.html';\n                    }*/\n\n                    // /adapter/javascript/tab.html\n                    return <Suspense fallback={<Connecting />}>\n                        <CustomTab\n                            key={this.state.currentTab.tab}\n                            t={I18n.t}\n\n                            protocol={this.state.protocol}\n                            hostname={this.state.hostname}\n                            port={this.state.port}\n                            adminInstance={this.adminInstance}\n                            hosts={this.state.hosts}\n\n                            instancesWorker={this.instancesWorker}\n                            tab={this.state.currentTab.tab}\n                            themeName={this.state.themeName}\n                            expertMode={this.state.expertMode}\n                            lang={I18n.getLanguage()}\n                            onRegisterIframeRef={ref => this.refConfigIframe = ref}\n                            onUnregisterIframeRef={ref => {\n                                if (this.refConfigIframe === ref) {\n                                    this.refConfigIframe = null;\n                                }\n                            }}\n                        />\n                    </Suspense>;\n                }\n            }\n        }\n\n        return null;\n    }\n\n    clearLogErrors = async () => {\n        this.logsWorker.resetErrors();\n        this.logsWorker.resetWarnings();\n    }\n\n    getCurrentDialog() {\n        if (this.state && this.state.currentTab && this.state.currentTab.dialog) {\n            if (this.state.currentTab.dialog === 'system') {\n                return this.getSystemSettingsDialog();\n            } else if (this.state.currentTab.dialog === 'discovery') {\n                return this.getDiscoveryModal();\n            }\n        }\n        return null;\n    }\n\n    getSystemSettingsDialog() {\n        return <SystemSettingsDialog\n            adminGuiConfig={this.adminGuiConfig}\n            width={this.props.width}\n            currentHost={this.state.currentHost}\n            themeName={this.state.themeName}\n            themeType={this.state.themeType}\n            theme={this.state.theme}\n            key=\"systemSettings\"\n            onClose={() => Router.doNavigate(null)}\n            lang={this.state.lang}\n            showAlert={(message, type) => this.showAlert(message, type)}\n            socket={this.socket}\n            currentTab={this.state.currentTab}\n            expertModeFunc={(value) => {\n                window.sessionStorage.removeItem('App.expertMode');\n                const systemConfig = JSON.parse(JSON.stringify(this.state.systemConfig));\n                systemConfig.common.expertMode = value;\n                this.setState({ expertMode: value, systemConfig });\n            }}\n            t={I18n.t}\n        />;\n    }\n\n    handleAlertClose(event, reason) {\n        if (reason === 'clickaway') {\n            return;\n        }\n\n        this.setState({ alert: false });\n    }\n\n    showAlert(message, type) {\n        if (type !== 'error' && type !== 'warning' && type !== 'info' && type !== 'success') {\n            type = 'info';\n        }\n\n        this.setState({\n            alert: true,\n            alertType: type,\n            alertMessage: message\n        });\n    }\n\n    handleDrawerState(state) {\n        window.localStorage.setItem('App.drawerState', state);\n        this.setState({\n            drawerState: state\n        });\n    }\n\n    logout() {\n        if (window.location.port === '3000') {\n            window.location = window.location.protocol + '//' + window.location.hostname + ':8081/logout?dev';\n        } else {\n            window.location = '/logout';\n        }\n    }\n\n    handleNavigation(tab) {\n        if (tab) {\n            if (this.state.allStored) {\n\n                Router.doNavigate(tab);\n\n                this.setState({ currentTab: Router.getLocation() });\n            } else {\n                this.setState({\n                    dataNotStoredDialog: true,\n                    dataNotStoredTab: tab\n                });\n            }\n        }\n\n        if (this.props.width === 'xs' || this.props.width === 'sm') {\n            this.handleDrawerState(DrawerStates.closed);\n        }\n\n        tab = tab || (this.state.currentTab && this.state.currentTab.tab) || '';\n\n        this.setTitle(tab.replace('tab-', ''));\n    }\n\n    allStored(value) {\n        this.setState({\n            allStored: value\n        });\n    };\n\n    closeDataNotStoredDialog() {\n        this.setState({ dataNotStoredDialog: false });\n    }\n\n    confirmDataNotStored() {\n        this.setState({\n            dataNotStoredDialog: false,\n            allStored: true\n        }, () => {\n            this.handleNavigation(this.state.dataNotStoredTab);\n        });\n    }\n\n    executeCommand(cmd, callback = false) {\n        if (this.state.performed || this.state.commandError) {\n            return this.setState({\n                cmd: null,\n                cmdDialog: false,\n                commandError: false,\n                performed: false,\n                callback: false\n            }, () => {\n                this.setState({\n                    cmd,\n                    cmdDialog: true,\n                    callback\n                });\n            });\n        } else {\n            console.log('Execute: ' + cmd);\n            this.setState({\n                cmd,\n                cmdDialog: true,\n                callback\n            });\n        }\n    }\n\n    closeCmdDialog(cb) {\n        this.setState({\n            cmd: null,\n            cmdDialog: false,\n            commandError: false,\n            performed: false,\n            callback: false\n        }, () => cb && cb());\n    }\n\n    renderWizardDialog() {\n        if (this.state.wizard) {\n            return <WizardDialog\n                socket={this.socket}\n                themeName={this.state.themeName}\n                toggleTheme={this.toggleTheme}\n                t={I18n.t}\n                lang={I18n.getLanguage()}\n                onClose={() =>\n                    this.setState({ wizard: false })}\n            />;\n        }\n    }\n\n    renderCommandDialog() {\n        return this.state.cmd ?\n            <CommandDialog\n                onSetCommandRunning={commandRunning => this.setState({ commandRunning })}\n                onClose={() =>\n                    this.closeCmdDialog(() =>\n                        this.setState({ commandRunning: false }))}\n                visible={this.state.cmdDialog}\n                callback={this.state.callback}\n                header={I18n.t('Command')}\n                onInBackground={() => this.setState({ cmdDialog: false })}\n                cmd={this.state.cmd}\n                errorFunc={() => this.setState({ commandError: true })}\n                performed={() => this.setState({ performed: true })}\n                inBackground={this.state.commandError || this.state.performed}\n                commandError={this.state.commandError}\n                socket={this.socket}\n                currentHost={this.state.currentHost}\n                ready={this.state.ready}\n                t={I18n.t}\n            /> : null;\n    }\n\n    renderLoggedUser() {\n        if (this.state.user && this.props.width !== 'xs' && this.props.width !== 'sm') {\n            return <div title={this.state.user.id} className={clsx(this.props.classes.userBadge, this.state.user.invertBackground && this.props.classes.userBackground)} ref={this.refUser}>\n                {this.state.user.icon ?\n                    <Icon src={this.state.user.icon} className={this.props.classes.userIcon} />\n                    :\n                    <UserIcon className={this.props.classes.userIcon} />}\n                <div ref={this.refUserDiv} style={{ color: this.state.user.color || undefined }} className={this.props.classes.userText}>{this.state.user.name}</div>\n            </div>\n        } else {\n            return null;\n        }\n    }\n\n    renderConfirmDialog() {\n        /*return <ConfirmDialog\n            onClose={() => this.closeDataNotStoredDialog()}\n            open={this.state.dataNotStoredDialog}\n            header={I18n.t('Please confirm')}\n            onConfirm={() => this.confirmDataNotStored()}\n            confirmText={I18n.t('Ok')}\n        >\n            {I18n.t('Some data are not stored. Discard?')}\n        </ConfirmDialog>;*/\n        return this.state.dataNotStoredDialog && <ConfirmDialog\n            title={I18n.t('Please confirm')}\n            text={I18n.t('Some data are not stored. Discard?')}\n            ok={I18n.t('Ok')}\n            cancel={I18n.t('Cancel')}\n            onClose={isYes =>\n                isYes ? this.confirmDataNotStored() : this.closeDataNotStoredDialog()}\n        />;\n    }\n\n    render() {\n        const { classes } = this.props;\n        const small = this.props.width === 'xs' || this.props.width === 'sm';\n\n        if (this.state.hasGlobalError) {\n            const message = this.state.hasGlobalError.message;\n            const stack = this.state.hasGlobalError.stack;\n\n            return <div style={{textAlign: 'center', fontSize: 22, marginTop: 50, height: 'calc(100% - 50px)', overflow: 'auto'}}>\n                <h1 style={{color: '#F00'}}>Error in GUI!</h1>\n                Please open the browser console (F12), copy error text from there and create the issue on <a href=\"https://github.com/ioBroker/ioBroker.admin/issues\" target=\"_blank\" rel=\"noreferrer\">github</a><br/>\n                Without this information it is not possible to analyse the error.<br/>\n                It should looks like <br/>\n                <img src=\"img/browserError.png\" alt=\"error\"/><br/>\n                If in the second line you will see <code style={{style: '#888', fontFamily: 'monospace', fontSize: 16}}>at :3000/static/js/main.chunk.js:36903</code> and not the normal file name,<br/>\n                please try to reproduce an error with opened browser console. In this case the special \"map\" files will be loaded and the developers can see the real name of functions and files.\n\n                <div style={{color: '#F88', fontSize: 14, marginTop: 20}}>{message}</div>\n                <pre style={{color: '#F88', fontSize: 12, fontFamily: 'monospace', textAlign: 'left', marginTop: 20, padding: 20}}>{(stack || '').split('\\n').join((line, i) => <div key={i}>{line}<br/></div>)}</pre>\n            </div>;\n        }\n\n        if (this.state.login) {\n            return <ThemeProvider theme={this.state.theme}>\n                <Login t={I18n.t} />\n            </ThemeProvider>;\n        } else\n        if (!this.state.ready) {\n            return <ThemeProvider theme={this.state.theme}>\n                {window.vendorPrefix === 'PT' ? <LoaderPT theme={this.state.themeType}/> :null}\n                {!window.vendorPrefix || window.vendorPrefix === '@@vendorPrefix@@' ? <Loader theme={this.state.themeType} /> : null}\n            </ThemeProvider>;\n        } else if (this.state.strictEasyMode || this.state.currentTab.tab === 'easy') {\n            return <ThemeProvider theme={this.state.theme}>\n                {!this.state.connected && <Connecting />}\n                <Suspense fallback={<Connecting />}>\n                    <EasyMode\n                        navigate={Router.doNavigate}\n                        getLocation={Router.getLocation}\n                        location={this.state.currentTab}\n                        toggleTheme={this.toggleTheme}\n                        themeName={this.state.themeName}\n                        themeType={this.state.themeType}\n                        theme={this.state.theme}\n                        width={this.props.width}\n                        configs={this.state.easyModeConfigs}\n                        socket={this.socket}\n                        configStored={value => this.allStored(value)}\n                        isFloatComma={this.state.systemConfig?.common.isFloatComma}\n                        dateFormat={this.state.systemConfig?.common.dateFormat}\n                        systemConfig={this.state.systemConfig}\n                        t={I18n.t}\n                        lang={I18n.getLanguage()}\n                        onRegisterIframeRef={ref => this.refConfigIframe = ref}\n                        onUnregisterIframeRef={ref => {\n                            if (this.refConfigIframe === ref) {\n                                this.refConfigIframe = null;\n                            }\n                        }}\n                    />\n                </Suspense>\n            </ThemeProvider>;\n        }\n\n        const expertModePermanent = !window.sessionStorage.getItem('App.expertMode') || (window.sessionStorage.getItem('App.expertMode') === 'true') === !!this.state.systemConfig.common.expertMode;\n\n        return <ThemeProvider theme={this.state.theme}>\n            <Paper elevation={0} className={classes.root}>\n                <AppBar\n                    color=\"default\"\n                    position=\"fixed\"\n                    className={clsx(\n                        classes.appBar,\n                        { [classes.appBarShift]: !small && this.state.drawerState === DrawerStates.opened },\n                        { [classes.appBarShiftCompact]: !small && this.state.drawerState === DrawerStates.compact }\n                    )}\n                >\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={clsx(classes.menuButton, !small && this.state.drawerState !== DrawerStates.closed && classes.hide)}\n                            onClick={() => this.handleDrawerState(DrawerStates.opened)}\n                        >\n                            <MenuIcon />\n                        </IconButton>\n                        <div className={classes.wrapperButtons}>\n                            <IsVisible name=\"admin.appBar.discovery\" config={this.adminGuiConfig}>\n                                {this.state.discoveryAlive && <Tooltip title={I18n.t('Discovery devices')}>\n                                    <IconButton onClick={() => Router.doNavigate(null, 'discovery')}>\n                                        <VisibilityIcon />\n                                    </IconButton>\n                                </Tooltip>}\n                            </IsVisible>\n                            <IsVisible name=\"admin.appBar.systemSettings\" config={this.adminGuiConfig}>\n                                <Tooltip title={I18n.t('System settings')}>\n                                    <IconButton onClick={() => Router.doNavigate(null, 'system')}>\n                                        <BuildIcon />\n                                    </IconButton>\n                                </Tooltip>\n                            </IsVisible>\n                            <IsVisible name=\"admin.appBar.toggleTheme\" config={this.adminGuiConfig}>\n                                <ToggleThemeMenu\n                                    toggleTheme={this.toggleTheme}\n                                    themeName={this.state.themeName}\n                                    t={I18n.t} />\n                            </IsVisible>\n                            <IsVisible name=\"admin.appBar.expertMode\" config={this.adminGuiConfig}>\n                                <Tooltip\n                                    title={`${I18n.t('Toggle expert mode')} ${expertModePermanent ? '' : ' (' + I18n.t('only in this browser session') + ')'}`}\n                                >\n                                    <Badge\n                                        color=\"secondary\"\n                                        variant=\"dot\"\n                                        classes={{badge: this.props.classes.expertBadge}}\n                                        invisible={expertModePermanent}\n                                    >\n                                        <IconButton\n                                            onClick={() => {\n                                                if (!!this.state.systemConfig.common.expertMode === !this.state.expertMode) {\n                                                    window.sessionStorage.setItem('App.expertMode', !this.state.expertMode);\n                                                    this.setState({ expertMode: !this.state.expertMode });\n                                                    this.refConfigIframe?.contentWindow?.postMessage('updateExpertMode', '*');\n                                                } else {\n                                                    if (window.sessionStorage.getItem('App.doNotShowExpertDialog') === 'true') {\n                                                        window.sessionStorage.setItem('App.expertMode', !this.state.expertMode);\n                                                        this.setState({ expertMode: !this.state.expertMode });\n                                                        this.refConfigIframe?.contentWindow?.postMessage('updateExpertMode', '*');\n                                                    } else {\n                                                        expertModeDialogFunc(this.state.expertMode, this.state.themeType, () => {\n                                                            window.sessionStorage.setItem('App.expertMode', !this.state.expertMode);\n                                                            this.setState({ expertMode: !this.state.expertMode });\n                                                            this.refConfigIframe?.contentWindow?.postMessage('updateExpertMode', '*');\n                                                        }, () => Router.doNavigate(null, 'system'));\n                                                    }\n                                                }\n                                            }}\n                                            style={{ color: this.state.expertMode ? this.state.theme.palette.expert : undefined }}\n                                            color=\"default\"\n                                        >\n                                            <ExpertIcon\n                                                title={I18n.t('Toggle expert mode')}\n                                                glowColor={this.state.theme.palette.secondary.main}\n                                                active={this.state.expertMode}\n                                                className={clsx(classes.expertIcon, this.state.expertMode && classes.expertIconActive)}\n                                            />\n                                        </IconButton>\n                                    </Badge>\n                                </Tooltip>\n                            </IsVisible>\n                            <IsVisible name=\"admin.appBar.hostSelector\" config={this.adminGuiConfig}>\n                                <HostSelectors\n                                    expertMode={this.state.expertMode}\n                                    socket={this.socket}\n                                    hostsWorker={this.hostsWorker}\n                                    currentHost={this.state.currentHost}\n                                    setCurrentHost={(hostName, host) => {\n                                        this.setState({\n                                            currentHostName: hostName,\n                                            currentHost: host\n                                        }, () => {\n                                            this.logsWorkerChanged(host);\n                                            window.localStorage.setItem('App.currentHost', host);\n\n                                            this.readRepoAndInstalledInfo(host, this.state.hosts)\n                                                .then(() =>\n                                                    // read notifications from host\n                                                    this.hostsWorker.getNotifications(host)\n                                                        .then(notifications => this.showAdaptersWarning(notifications, this.socket, host)));\n                                        });\n                                    }}\n                                    disabled={\n                                        this.state.currentTab.tab !== 'tab-instances' &&\n                                        this.state.currentTab.tab !== 'tab-adapters' &&\n                                        this.state.currentTab.tab !== 'tab-logs'\n                                    }\n                                />\n                            </IsVisible>\n                            <div className={classes.flexGrow} />\n                            {this.state.cmd && !this.state.cmdDialog && <IconButton onClick={() => this.setState({ cmdDialog: true })}>\n                                <PictureInPictureAltIcon className={this.state.commandError ? classes.errorCmd : this.state.performed ? classes.performed : classes.cmd} />\n                            </IconButton>}\n                        </div>\n\n                        {this.renderLoggedUser()}\n\n                        {this.state.drawerState !== 0 &&\n                            <Grid container className={clsx(this.state.drawerState !== 0 && classes.avatarVisible, classes.avatarNotVisible)} spacing={1} alignItems=\"center\">\n                                {(!this.state.user || this.props.width === 'xs' || this.props.width === 'sm') &&\n                                    <Hidden xsDown>\n                                        <div className={classes.wrapperName}>\n                                            <Typography>admin</Typography>\n                                            {!this.adminGuiConfig.icon && this.state.versionAdmin && <Typography className={classes.styleVersion} style={{color: this.state.themeType === 'dark' ? '#ffffff80' : '#00000080'}}>v{this.state.versionAdmin}</Typography>}\n                                        </div>\n                                    </Hidden>}\n                                <Grid item>\n                                    <a href=\"/#easy\" onClick={event => event.preventDefault()} style={{ color: 'inherit', textDecoration: 'none' }}>\n                                        {this.adminGuiConfig.icon ?\n                                            <div style={{\n                                                height: 50,\n                                                withWidth: 102,\n                                                lineHeight: '50px',\n                                                background: 'white',\n                                                borderRadius: 5,\n                                                padding: 5}}\n                                            ><img src={this.adminGuiConfig.icon} alt=\"logo\"\n                                                      style={{maxWidth: '100%', maxHeight: '100%'}}/></div>\n                                            :\n                                            <Avatar\n                                                onClick={() => this.handleNavigation('easy')}\n                                                className={clsx((this.state.themeName === 'colored' || this.state.themeName === 'blue') && classes.logoWhite)}\n                                                alt=\"ioBroker\"\n                                                src=\"img/no-image.png\"\n                                            />\n                                        }\n                                    </a>\n                                </Grid>\n                            </Grid>\n                        }\n                    </Toolbar>\n                </AppBar>\n                <DndProvider backend={!small ? HTML5Backend : TouchBackend}>\n                    <Drawer\n                        adminGuiConfig={this.adminGuiConfig}\n                        state={this.state.drawerState}\n                        systemConfig={this.state.systemConfig}\n                        handleNavigation={name => this.handleNavigation(name)}\n                        onStateChange={state => this.handleDrawerState(state)}\n                        onLogout={() => this.logout()}\n                        currentTab={this.state.currentTab && this.state.currentTab.tab}\n                        instancesWorker={this.instancesWorker}\n                        hostsWorker={this.hostsWorker}\n                        logsWorker={this.logsWorker}\n                        logoutTitle={I18n.t('Logout')}\n                        isSecure={this.socket.isSecure}\n                        versionAdmin={this.state.versionAdmin}\n                        t={I18n.t}\n                        lang={I18n.getLanguage()}\n                        socket={this.socket}\n                        expertMode={this.state.expertMode}\n                        ready={this.state.ready}\n                        themeName={this.state.themeName}\n\n                        protocol={this.state.protocol}\n                        hostname={this.state.hostname}\n                        port={this.state.port}\n                        adminInstance={this.adminInstance}\n\n                        hosts={this.state.hosts}\n                        repository={this.state.repository}\n                        installed={this.state.installed}\n                    />\n                </DndProvider>\n                <Paper\n                    elevation={0}\n                    square\n                    className={\n                        clsx(classes.content, {\n                            [classes.contentMargin]: !small && this.state.drawerState !== DrawerStates.compact,\n                            [classes.contentMarginCompact]: !small && this.state.drawerState !== DrawerStates.opened,\n                            [classes.contentShift]: !small && this.state.drawerState !== DrawerStates.closed\n                        })\n                    }\n                >\n                    {this.getCurrentTab()}\n                </Paper>\n                <Snackbar\n                    className={this.props.classes['alert_' + this.state.alertType]}\n                    open={this.state.alert}\n                    autoHideDuration={6000}\n                    onClose={() => this.handleAlertClose()}\n                    message={this.state.alertMessage}\n                />\n            </Paper>\n            {this.getCurrentDialog()}\n            {this.renderConfirmDialog()}\n            {this.renderCommandDialog()}\n            {this.renderWizardDialog()}\n            {this.renderSlowConnectionWarning()}\n            {!this.state.connected && <Connecting />}\n        </ThemeProvider>;\n    }\n}\n\nexport default withWidth()(withStyles(styles)(App));","import ReactDOM from 'react-dom';\nimport { version } from '../package.json';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport * as Sentry from '@sentry/browser';\nimport * as SentryIntegrations from '@sentry/integrations';\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport App from './App';\n\nimport './index.css';\nimport { ContextWrapperProvider } from './components/ContextWrapper';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nwindow.adapterName = 'admin';\n\nconsole.log('iobroker.' + window.adapterName + '@' + version);\nlet themeName = Utils.getThemeName();\n\nfunction build() {\n    return ReactDOM.render(\n        <MuiThemeProvider theme={theme(themeName)}>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <ContextWrapperProvider>\n                <App onThemeChange={_themeName => {\n                    themeName = _themeName;\n                    build();\n                }} />\n            </ContextWrapperProvider>\n            </MuiPickersUtilsProvider>\n        </MuiThemeProvider>,\n        document.getElementById('root')\n    );\n}\n\nif (window.location.host !== 'localhost:3000') {\n    const ignoreErrors = [\n        'removeChild',                         // ignore errors that happen by changing the version\n        'getWidth',                            // echarts error\n        'safari-extension',                    // ignore safari extension errors\n        'this.animation',                      // echarts error\n        'No connection',                       // Ignore no connection errors\n        'notConnectedError',                   // Ignore no connection errors\n        'has no target',                       // Alias has no target\n        'ResizeObserver',                      // echarts error\n        'WorkerGlobalScope',                   // worker error\n        'generateKey',                         // ignore safari extension errors\n        'The operation is insecure.',          // http => https access\n        'SyntaxError: An invalid or illegal string was specified',   // No stack and no possibility to detect\n        'Can\\'t find variable: servConn',      // Error from info adapter\n        'LPContentScriptFeatures',             // ignore safari extension errors\n        'window.webkit.messageHandlers',       // ignore safari extension errors\n    ];\n\n    if (!window.disableDataReporting && window.location.port !== '3000') {\n        Sentry.init({\n            dsn: 'https://43643152dab3481db69950ba866ee9d6@sentry.iobroker.net/58',\n            release: 'iobroker.' + window.adapterName + '@' + version,\n            integrations: [\n                new SentryIntegrations.Dedupe()\n            ],\n            beforeSend(event) {\n                // Modify the event here\n                if (event && event.culprit &&\n                    ignoreErrors.find(error => event.culprit.includes(error))) {\n                    return null;\n                }\n                return event;\n            }\n        });\n    }\n}\n\nbuild();","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport IconInfo from '@material-ui/icons/Info';\nimport IconWarning from '@material-ui/icons/Warning';\nimport IconError from '@material-ui/icons/Error';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport ConfirmDialog from '@iobroker/adapter-react/Dialogs/Confirm';\n\nclass ConfigGeneric extends Component {\n    static DIFFERENT_VALUE = '__different__';\n    static DIFFERENT_LABEL  = I18n.t('__different__');\n    static NONE_VALUE = '';\n    static NONE_LABEL  = I18n.t('none');\n    static AsyncFunction = Object.getPrototypeOf(async function(){}).constructor;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            confirmDialog: false,\n            confirmNewValue: null,\n            confirmAttr: null,\n            confirmData: null,\n        };\n\n        this.isError = {};\n\n        if (this.props.schema) {\n            if (this.props.custom) {\n                this.defaultValue = this.props.schema.defaultFunc ? this.executeCustom(this.props.schema.defaultFunc, this.props.schema.default, this.props.data, this.props.instanceObj) : this.props.schema.default;\n            } else {\n                this.defaultValue = this.props.schema.defaultFunc ? this.execute(this.props.schema.defaultFunc, this.props.schema.default, this.props.data) : this.props.schema.default;\n            }\n        }\n\n        this.lang = I18n.getLanguage();\n    }\n\n    componentDidMount() {\n        this.props.registerOnForceUpdate && this.props.registerOnForceUpdate(this.props.attr, this.onUpdate);\n\n        // init default value\n        if (this.defaultValue !== undefined) {\n            const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n            if (value === undefined) {\n                setTimeout(() => {\n                    if (this.props.custom) {\n                        this.props.onChange(this.props.attr, this.defaultValue);\n                        //this.onChange(this.props.attr, this.defaultValue);\n                    } else {\n                        ConfigGeneric.setValue(this.props.data, this.props.attr, this.defaultValue);\n                        this.props.onChange(this.props.data, undefined, () =>\n                            this.props.forceUpdate([this.props.attr], this.props.data));\n                    }\n                }, 100);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        this.props.registerOnForceUpdate && this.props.registerOnForceUpdate(this.props.attr);\n    }\n\n    onUpdate = data => {\n        const value = ConfigGeneric.getValue(data || this.props.data, this.props.attr) || '';\n        if (this.state.value !== value) {\n            this.setState({ value });\n        } else {\n            this.forceUpdate();\n        }\n    }\n\n    static getValue(data, attr) {\n        if (typeof attr === 'string') {\n            return ConfigGeneric.getValue(data, attr.split('.'));\n        } else {\n            if (attr.length === 1) {\n                return data[attr[0]];\n            } else {\n                const part = attr.shift();\n                if (typeof data[part] === 'object') {\n                    return ConfigGeneric.getValue(data[part], attr);\n                } else {\n                    return null;\n                }\n            }\n        }\n    }\n\n    static setValue(data, attr, value) {\n        if (typeof attr === 'string') {\n            return ConfigGeneric.setValue(data, attr.split('.'), value);\n        } else {\n            if (attr.length === 1) {\n                if (value === null) {\n                    delete data[attr[0]];\n                } else {\n                    data[attr[0]] = value;\n                }\n            } else {\n                const part = attr.shift();\n                if (!data[part] || typeof data[part] === 'object') {\n                    data[part] = data[part] || {};\n                }\n                return ConfigGeneric.setValue(data[part], attr, value);\n            }\n        }\n    }\n\n    getText(text, noTranslation) {\n        if (!text) {\n            return '';\n        }\n\n        if (typeof text === 'string') {\n            text = noTranslation ? text : I18n.t(text);\n            if (text.includes('${')) {\n                return this.getPattern(text);\n            } else {\n                return text;\n            }\n        } else if (text && typeof text === 'object') {\n            if (text.func) {\n                // calculate pattern\n                if (typeof text.func === 'object') {\n                    return this.getPattern(text.func[this.lang] || text.func.en || '');\n                } else {\n                    this.getPattern(text.func);\n                }\n            } else {\n                return text[this.lang] || text.en || '';\n            }\n        }\n    }\n\n    renderConfirmDialog() {\n        if (!this.state.confirmDialog) {\n            return null;\n        }\n        const confirm = this.state.confirmData || this.props.schema.confirm;\n        let icon = null;\n        if (confirm.type === 'warning') {\n            icon = <IconWarning />;\n        } else if (confirm.type === 'error') {\n            icon = <IconError />;\n        } else if (confirm.type === 'info') {\n            icon = <IconInfo />;\n        }\n\n        return <ConfirmDialog\n            title={ this.getText(confirm.title) || I18n.t('Please confirm') }\n            text={ this.getText(confirm.text) }\n            ok={ this.getText(confirm.ok) || I18n.t('Ok') }\n            cancel={ this.getText(confirm.cancel) || I18n.t('Cancel') }\n            icon={icon}\n            onClose={isOk =>\n                this.setState({ confirmDialog: false}, () => {\n                    if (isOk) {\n                        const data = JSON.parse(JSON.stringify(this.props.data));\n                        if (this.state.confirmDepAttr) {\n                            ConfigGeneric.setValue(data, this.state.confirmDepAttr, this.state.confirmDepNewValue);\n                        }\n\n                        ConfigGeneric.setValue(data, this.state.confirmAttr, this.state.confirmNewValue);\n                        this.setState({confirmDialog: false, confirmDepAttr: null, confirmDepNewValue: null, confirmNewValue: null, confirmAttr: null, confirmOldValue: null, confirmData: null}, () =>\n                            this.props.onChange(data));\n                    } else {\n                        this.setState({confirmDialog: false, confirmDepAttr: null, confirmDepNewValue: null, confirmNewValue: null, confirmAttr: null, confirmOldValue: null, confirmData: null});\n                    }\n                })\n            }\n        />;\n    }\n\n    onChange(attr, newValue) {\n        const data = JSON.parse(JSON.stringify(this.props.data));\n        ConfigGeneric.setValue(data, attr, newValue);\n\n        if (this.props.schema.confirm && this.execute(this.props.schema.confirm.condition, false, data)) {\n            return this.setState({\n                confirmDialog: true,\n                confirmNewValue: newValue,\n                confirmAttr: attr,\n                confirmData: null,\n            });\n        } else {\n            // find any inputs with confirmation\n            if (this.props.schema.confirmDependsOn) {\n                for (let z = 0; z < this.props.schema.confirmDependsOn.length; z++) {\n                    const dep = this.props.schema.confirmDependsOn[z];\n                    if (dep.confirm) {\n                        const val = ConfigGeneric.getValue(data, dep.attr);\n\n                        if (this.execute(dep.confirm.condition, false, data)) {\n                            return this.setState({\n                                confirmDialog: true,\n                                confirmNewValue: newValue,\n                                confirmAttr: attr,\n                                confirmDepNewValue: val,\n                                confirmDepAttr: dep.attr,\n                                confirmData: dep.confirm,\n                            });\n                        }\n                    }\n                }\n            }\n\n            const changed = [];\n            if (this.props.schema.onChangeDependsOn) {\n                for (let z = 0; z < this.props.schema.onChangeDependsOn.length; z++) {\n                    const dep = this.props.schema.onChangeDependsOn[z];\n                    if (dep.onChange) {\n                        const val = ConfigGeneric.getValue(data, dep.attr);\n\n                        const newValue = this.props.custom ?\n                            this.executeCustom(dep.onChange.calculateFunc, data, this.props.customObj, this.props.instanceObj)\n                            :\n                            this.execute(dep.onChange.calculateFunc, val, data);\n\n                        if (newValue !== val) {\n                            ConfigGeneric.setValue(data, dep.attr, newValue);\n                            changed.push(dep.attr);\n                        }\n                    }\n                }\n            }\n\n            if (this.props.schema.hiddenDependsOn) {\n                for (let z = 0; z < this.props.schema.hiddenDependsOn.length; z++) {\n                    const dep = this.props.schema.hiddenDependsOn[z];\n                    dep.hidden && changed.push(dep.attr);\n                }\n            }\n\n            if (this.props.schema.labelDependsOn) {\n                for (let z = 0; z < this.props.schema.labelDependsOn.length; z++) {\n                    const dep = this.props.schema.labelDependsOn[z];\n                    dep.hidden && changed.push(dep.attr);\n                }\n            }\n\n            if (this.props.schema.helpDependsOn) {\n                for (let z = 0; z < this.props.schema.helpDependsOn.length; z++) {\n                    const dep = this.props.schema.helpDependsOn[z];\n                    dep.hidden && changed.push(dep.attr);\n                }\n            }\n\n            if (this.props.schema.onChange && !this.props.schema.onChange.ignoreOwnChanges) {\n                const val = ConfigGeneric.getValue(data, this.props.attr);\n\n                const newValue = this.props.custom ?\n                    this.executeCustom(this.props.schema.onChange.calculateFunc, data, this.props.customObj, this.props.instanceObj)\n                    :\n                    this.execute(this.props.schema.onChange.calculateFunc, val, data);\n                if (newValue !== val) {\n                    ConfigGeneric.setValue(data, this.props.attr, newValue);\n                }\n            }\n\n            if (this.props.custom) {\n                this.props.onChange(attr, newValue);\n\n                changed && changed.length && changed.forEach((_attr,  i) => {\n                    setTimeout(() => this.props.onChange(_attr, data[_attr]), i * 50);\n                });\n            } else {\n                this.props.onChange(data, undefined, () =>\n                    changed.length && this.props.forceUpdate(changed, data));\n            }\n        }\n    }\n\n    execute(func, defaultValue, data) {\n        if (func && typeof func === 'object') {\n            func = func.func;\n        }\n\n        if (!func) {\n            return defaultValue;\n        } else {\n            try {\n                // eslint-disable-next-line no-new-func\n                const f = new Function('data', 'originalData', '_system', '_alive', '_common', '_socket', func.includes('return') ? func : 'return ' + func);\n                const result = f(data || this.props.data, this.props.originalData, this.props.systemConfig, this.props.alive, this.props.common, this.props.socket);\n                // console.log(result);\n                return result;\n            } catch (e) {\n                console.error(`Cannot execute ${func}: ${e}`);\n                return defaultValue;\n            }\n        }\n    }\n\n    executeCustom(func, data, customObj, instanceObj) {\n        if (func && typeof func === 'object') {\n            func = func.func;\n        }\n\n        if (!func) {\n            return null;\n        } else {\n            try {\n                // eslint-disable-next-line no-new-func\n                const f = new Function('data', 'originalData', '_system', 'instanceObj', 'customObj', '_socket', func.includes('return') ? func : 'return ' + func);\n                const result = f(data || this.props.data, this.props.originalData, this.props.systemConfig, instanceObj, customObj, this.props.socket);\n                console.log(result);\n                return result;\n            } catch (e) {\n                console.error(`Cannot execute ${func}: ${e}`);\n                return null;\n            }\n        }\n    }\n\n    calculate(schema) {\n        let error;\n        let disabled;\n        let hidden;\n        let defaultValue;\n\n        if (this.props.custom) {\n            error        = schema.validator   ? !this.executeCustom(schema.validator,  this.props.data, this.props.customObj, this.props.instanceObj) : false;\n            disabled     = schema.disabled    ? this.executeCustom(schema.disabled,    this.props.data, this.props.customObj, this.props.instanceObj) : false;\n            hidden       = schema.hidden      ? this.executeCustom(schema.hidden,      this.props.data, this.props.customObj, this.props.instanceObj) : false;\n            defaultValue = schema.defaultFunc ? this.executeCustom(schema.defaultFunc, this.props.data, this.props.customObj, this.props.instanceObj) : schema.default;\n        } else {\n            error        = schema.validator   ? !this.execute(schema.validator,  false)   : false;\n            disabled     = schema.disabled    ? this.execute(schema.disabled,    false)   : false;\n            hidden       = schema.hidden      ? this.execute(schema.hidden,      false)   : false;\n            defaultValue = schema.defaultFunc ? this.execute(schema.defaultFunc, schema.default, this.props.data) : schema.default;\n        }\n\n        return {error, disabled, hidden, defaultValue};\n    }\n\n    onError(attr, error) {\n        if (!error) {\n            delete this.isError[attr];\n        } else {\n            this.isError[attr] = error;\n        }\n\n        this.props.onError && this.props.onError(attr, error);\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        return this.getText(this.props.schema.label) || this.getText(this.props.schema.text)\n    }\n\n    renderHelp(text, link, noTranslation) {\n        if (!link) {\n            text = this.getText(text, noTranslation) || '';\n            if (text && text.includes('<a ')) {\n                return Utils.renderTextWithA(text);\n            } else {\n                return text;\n            }\n        } else {\n            return <a\n                href={link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                style={{color: this.props.themeType === 'dark' ? '#eee' : '#111'}}\n            >{this.getText(text, noTranslation)}</a>;\n        }\n    }\n\n    getPattern(pattern) {\n        if (!pattern) {\n            return '';\n        } else {\n            if (typeof pattern === 'object') {\n                pattern = pattern.func;\n            }\n\n            try {\n                if (this.props.custom) {\n                    // eslint-disable-next-line no-new-func\n                    const f = new Function('data', 'originalData', '_system', 'instanceObj', 'customObj', '_socket', 'return `' + pattern.replace(/`/g, '\\\\`') + '`');\n                    const result = f(this.props.data, this.props.originalData, this.props.systemConfig, this.props.instanceObj,  this.props.customObj, this.props.socket);\n                    return result;\n                } else {\n                    // eslint-disable-next-line no-new-func\n                    const f = new Function('data', 'originalData', '_system', '_alive', '_common', '_socket', 'return `' + pattern.replace(/`/g, '\\\\`') + '`');\n                    return f(this.props.data, this.props.originalData, this.props.systemConfig, this.props.alive, this.props.common, this.props.socket);\n                }\n            } catch (e) {\n                console.error(`Cannot execute ${pattern}: ${e}`);\n                return pattern;\n            }\n        }\n    }\n\n    render() {\n        const schema = this.props.schema;\n\n        if (!schema) {\n            return null;\n        }\n\n        const {error, disabled, hidden, defaultValue} = this.calculate(schema);\n\n        if (hidden) {\n            // Remove all errors if element is hidden\n            if (Object.keys(this.isError).length) {\n                setTimeout(isError =>\n                    Object.keys(isError).forEach(attr => this.props.onError(attr)),\n                    100, JSON.parse(JSON.stringify(this.isError)));\n                this.isError = {};\n            }\n\n            if (schema.hideOnlyControl) {\n                const item = <Grid\n                    item\n                    xs={schema.xs || undefined}\n                    lg={schema.lg || undefined}\n                    md={schema.md || undefined}\n                    sm={schema.sm || undefined}\n                    style={Object.assign(\n                        {},\n                        {marginBottom: 0, /*marginRight: 8, */textAlign: 'left'},\n                        schema.style,\n                        this.props.themeType === 'dark' ? schema.darkStyle : {}\n                    )}\n                />;\n\n                if (schema.newLine) {\n                    return <>\n                        <div style={{flexBasis: '100%', height: 0}} />\n                        {item}\n                    </>;\n                } else {\n                    return item;\n                }\n            } else {\n                return null;\n            }\n        } else {\n            // Add error\n            if (schema.validatorNoSaveOnError) {\n                if (error && !Object.keys(this.isError).length) {\n                    this.isError = {[this.props.attr]: schema.validatorErrorText ? I18n.t(schema.validatorErrorText) : true};\n                    setTimeout(isError =>\n                            Object.keys(isError).forEach(attr => this.props.onError(attr, isError[attr])),\n                        100, JSON.parse(JSON.stringify(this.isError)));\n                } else if (!error && Object.keys(this.isError).length) {\n                    setTimeout(isError =>\n                            Object.keys(isError).forEach(attr => this.props.onError(attr)),\n                        100, JSON.parse(JSON.stringify(this.isError)));\n                    this.isError = {};\n                }\n            }\n\n            const item = <Grid\n                item\n                title={this.getText(schema.tooltip)}\n                xs={schema.xs || undefined}\n                lg={schema.lg || undefined}\n                md={schema.md || undefined}\n                sm={schema.sm || undefined}\n                style={Object.assign({}, {\n                    marginBottom: 0,\n                    //marginRight: 8,\n                    textAlign: 'left',\n                    width: schema.type === 'divider' || schema.type === 'header' ? schema.width || '100%' : undefined\n                }, schema.style, this.props.themeType === 'dark' ? schema.darkStyle : {})}>\n                {this.renderItem(error, disabled || this.props.commandRunning || this.props.disabled, defaultValue)}\n            </Grid>;\n\n            if (schema.newLine) {\n                return <>\n                    <div style={{flexBasis: '100%', height: 0}} />\n                    {this.renderConfirmDialog()}\n                    {item}\n                </>;\n            } else {\n                if (this.state.confirmDialog) {\n                    return <>\n                        {this.renderConfirmDialog()}\n                        {item}\n                    </>;\n                } else {\n                    return item;\n                }\n            }\n        }\n    }\n}\n\nConfigGeneric.propTypes = {\n    socket: PropTypes.object.isRequired,\n    data: PropTypes.object,\n    originalData: PropTypes.object,\n    schema: PropTypes.object,\n    attr: PropTypes.string,\n    value: PropTypes.any,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    customs: PropTypes.object,\n    forceUpdate: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n\n    systemConfig: PropTypes.object,\n    alive: PropTypes.bool,\n    common: PropTypes.object,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    dateFormat: PropTypes.string,\n    isFloatComma: PropTypes.bool,\n\n    customObj: PropTypes.object,\n    instanceObj: PropTypes.object,\n    custom: PropTypes.bool,\n};\n\nexport default ConfigGeneric;","/**\n * Copyright 2018-2021 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\nimport React from 'react';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst NAMESPACE    = 'material';\nconst days         = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\nconst months       = ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nconst QUALITY_BITS = {\n    0x00: '0x00 - good',\n\n    0x01: '0x01 - general problem',\n    0x02: '0x02 - no connection problem',\n\n    0x10: '0x10 - substitute value from controller',\n    0x20: '0x20 - substitute initial value',\n    0x40: '0x40 - substitute value from device or instance',\n    0x80: '0x80 - substitute value from sensor',\n\n    0x11: '0x11 - general problem by instance',\n    0x41: '0x41 - general problem by device',\n    0x81: '0x81 - general problem by sensor',\n\n    0x12: '0x12 - instance not connected',\n    0x42: '0x42 - device not connected',\n    0x82: '0x82 - sensor not connected',\n\n    0x44: '0x44 - device reports error',\n    0x84: '0x84 - sensor reports error',\n};\n\nclass Utils {\n    static namespace = NAMESPACE;\n    static INSTANCES = 'instances';\n    static dateFormat = ['DD', 'MM'];\n    static FORBIDDEN_CHARS = /[^._\\-/ :!#$%&()+=@^{}|~\\p{Ll}\\p{Lu}\\p{Nd}]+/gu;\n\n    /**\n     * Capitalize words.\n     * @param {string | undefined} name\n     * @returns {string}\n     */\n    static CapitalWords(name) {\n        return (name || '').split(/[\\s_]/)\n            .filter(item => item)\n            .map(word => word ? word[0].toUpperCase() + word.substring(1).toLowerCase() : '')\n            .join(' ');\n    }\n\n    static formatSeconds(seconds) {\n        const days = Math.floor(seconds / (3600 * 24));\n        seconds %= 3600 * 24;\n        let hours = Math.floor(seconds / 3600);\n        if (hours < 10) {\n            hours = '0' + hours;\n        }\n        seconds %= 3600;\n        let minutes = Math.floor(seconds / 60);\n        if (minutes < 10) {\n            minutes = '0' + minutes;\n        }\n        seconds %= 60;\n        seconds = Math.floor(seconds);\n        if (seconds < 10) {\n            seconds = '0' + seconds;\n        }\n        let text = '';\n        if (days) {\n            text += days + ' ' + I18n.t('daysShortText') + ' ';\n        }\n        text += hours + ':' + minutes + ':' + seconds;\n\n        return text;\n    }\n\n    /**\n     * Get the name of the object by id from the name or description.\n     * @param {Record<string, ioBroker.Object>} objects\n     * @param {string} id\n     * @param {{ name: any; } | ioBroker.Languages | null} settings\n     * @param {{ language?: ioBroker.Languages; }} options\n     * @param {boolean} [isDesc] Set to true to get the description.\n     * @returns {string}\n     */\n    static getObjectName(objects, id, settings, options, isDesc) {\n        let item = objects[id];\n        let text = id;\n        const attr = isDesc ? 'desc' : 'name';\n\n        if (typeof settings === 'string' && !options) {\n            options = {language: settings};\n            settings = null;\n        }\n\n        options = options || {};\n        if (!options.language) {\n            options.language = (objects['system.config'] && objects['system.config'].common && objects['system.config'].common.language) || window.sysLang || 'en';\n        }\n        if (settings && settings.name) {\n            text = settings.name;\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n        } else\n        if (item && item.common && item.common[attr]) {\n            text = item.common[attr];\n            if (attr !== 'desc' && !text && item.common.desc) {\n                text = item.common.desc;\n            }\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en || text.de || text.ru || '';\n            }\n            text = (text || '').toString().replace(/[_.]/g, ' ');\n\n            if (text === text.toUpperCase()) {\n                text = text[0] + text.substring(1).toLowerCase();\n            }\n        } else {\n            let pos = id.lastIndexOf('.');\n            text = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            text = Utils.CapitalWords(text);\n        }\n        return text.trim();\n    }\n\n    /**\n     * Get the name of the object from the name or description.\n     * @param {ioBroker.PartialObject} obj\n     * @param {{ name: any; } | ioBroker.Languages | null } settings or language\n     * @param {{ language?: ioBroker.Languages; } } options\n     * @param {boolean} [isDesc] Set to true to get the description.\n     * @returns {string}\n     */\n    static getObjectNameFromObj(obj, settings, options, isDesc) {\n        let item = obj;\n        let text = (obj && obj._id) || '';\n        const attr = isDesc ? 'desc' : 'name';\n\n        if (typeof settings === 'string' && !options) {\n            options = {language: settings};\n            settings = null;\n        }\n\n        options = options || {};\n\n        if (settings && settings.name) {\n            text = settings.name;\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n        } else\n        if (item && item.common && item.common[attr]) {\n            text = item.common[attr];\n            if (attr !== 'desc' && !text && item.common.desc) {\n                text = item.common.desc;\n            }\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n            text = (text || '').toString().replace(/[_.]/g, ' ');\n\n            if (text === text.toUpperCase()) {\n                text = text[0] + text.substring(1).toLowerCase();\n            }\n        }\n        return text.trim();\n    }\n\n    /**\n     * @param {ioBroker.PartialObject | ioBroker.ObjectCommon} obj\n     * @param {string} forEnumId\n     * @param {{ user: string; }} options\n     * @returns {string | null}\n     */\n    static getSettingsOrder(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subOrder && settings[user].subOrder[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subOrder[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].order) {\n                        return JSON.parse(JSON.stringify(settings[user].order));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * @param {ioBroker.PartialObject | ioBroker.ObjectCommon} obj\n     * @param {string} forEnumId\n     * @param {{ user: string; }} options\n     */\n    static getSettingsCustomURLs(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subURLs && settings[user].subURLs[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subURLs[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].URLs) {\n                        return JSON.parse(JSON.stringify(settings[user].URLs));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Reorder the array items in list between source and dest.\n     * @param {Iterable<any> | ArrayLike<any>} list\n     * @param {number} source\n     * @param {number} dest\n     */\n    static reorder(list, source, dest) {\n        const result = Array.from(list);\n        const [removed] = result.splice(source, 1);\n        result.splice(dest, 0, removed);\n        return result;\n    };\n\n    /**\n     * @param {any} obj\n     * @param {{ id: any; user: any; name: any; icon: any; color: any; language: ioBroker.Languages; }} options\n     * @param {boolean} [defaultEnabling]\n     */\n    static getSettings(obj, options, defaultEnabling) {\n        let settings;\n        const id = (obj && obj._id) || (options && options.id);\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        if (obj && obj.custom) {\n            settings = obj.custom || {};\n            settings = settings[NAMESPACE] && settings[NAMESPACE][options.user || 'admin'] ? JSON.parse(JSON.stringify(settings[NAMESPACE][options.user || 'admin'])) : {enabled: true};\n        } else {\n            settings = {enabled: defaultEnabling === undefined ? true : defaultEnabling, useCustom: false};\n        }\n\n        if (!settings.hasOwnProperty('enabled')) {\n            settings.enabled = defaultEnabling === undefined ? true : defaultEnabling;\n        }\n\n        if (false && settings.useCommon) {\n            if (obj.color) settings.color = obj.color;\n            if (obj.icon)  settings.icon  = obj.icon;\n            if (obj.name)  settings.name  = obj.name;\n        } else {\n            if (options) {\n                if (!settings.name  && options.name)  settings.name  = options.name;\n                if (!settings.icon  && options.icon)  settings.icon  = options.icon;\n                if (!settings.color && options.color) settings.color = options.color;\n            }\n\n            if (obj) {\n                if (!settings.color && obj.color) settings.color = obj.color;\n                if (!settings.icon  && obj.icon)  settings.icon  = obj.icon;\n                if (!settings.name  && obj.name)  settings.name  = obj.name;\n            }\n        }\n\n        if (typeof settings.name === 'object') {\n            settings.name = settings.name[options.language] || settings.name.en;\n\n            settings.name = (settings.name || '').toString().replace(/_/g, ' ');\n\n            if (settings.name === settings.name.toUpperCase()) {\n                settings.name = settings.name[0] + settings.name.substring(1).toLowerCase();\n            }\n        }\n        if (!settings.name && id) {\n            let pos = id.lastIndexOf('.');\n            settings.name = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            settings.name = (settings.name || '').toString().replace(/_/g, ' ');\n            settings.name = Utils.CapitalWords(settings.name);\n        }\n\n        return settings;\n    }\n\n    /**\n     * @param {any} obj\n     * @param {any} settings\n     * @param {{ user: any; language: ioBroker.Languages; }} options\n     */\n    static setSettings(obj, settings, options) {\n        if (obj) {\n            obj.common = obj.common || {};\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[NAMESPACE] = obj.common.custom[NAMESPACE] || {};\n            obj.common.custom[NAMESPACE][options.user || 'admin'] = settings;\n            const s = obj.common.custom[NAMESPACE][options.user || 'admin'];\n            if (s.useCommon) {\n                if (s.color !== undefined) {\n                    obj.common.color = s.color;\n                    delete s.color;\n                }\n                if (s.icon !== undefined) {\n                    obj.common.icon = s.icon;\n                    delete s.icon;\n                }\n                if (s.name !== undefined) {\n                    if (typeof obj.common.name !== 'object') {\n                        obj.common.name = {};\n                        obj.common.name[options.language] = s.name;\n                    } else{\n                        obj.common.name[options.language] = s.name;\n                    }\n                    delete s.name;\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Get the icon for the given settings.\n     * @param {{ icon: string | undefined; name: string | undefined; prefix: string | undefined}} settings\n     * @param {any} style\n     * @returns {JSX.Element | null}\n     */\n    static getIcon(settings, style) {\n        if (settings && settings.icon) {\n            // If UTF-8 icon\n            if (settings.icon.length <= 2) {\n                return <span style={style || {}}>{settings.icon}</span>;\n            } else\n            if (settings.icon.startsWith('data:image')) {\n                return <img alt={settings.name} src={settings.icon} style={style || {}}/>;\n            } else { // may be later some changes for second type\n                return <img alt={settings.name} src={(settings.prefix || '') + settings.icon} style={style || {}}/>;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get the icon for the given object.\n     * @param {string} id\n     * @param {{ common: { icon: any; }; }} obj\n     * @returns {string | null}\n     */\n    static getObjectIcon(id, obj) {\n        // If id is Object\n        if (typeof id === 'object') {\n            obj = id;\n            id = obj._id;\n        }\n\n        if (obj && obj.common && obj.common.icon) {\n            let icon = obj.common.icon;\n            // If UTF-8 icon\n            if (typeof icon === 'string' && icon.length <= 2) {\n                return icon;\n            } else\n            if (icon.startsWith('data:image')) {\n                return icon;\n            } else {\n                const parts = id.split('.');\n                if (parts[0] === 'system') {\n                    icon = 'adapter/' + parts[2] + (icon.startsWith('/') ? '' : '/') + icon;\n                } else {\n                    icon = 'adapter/' + parts[0] + (icon.startsWith('/') ? '' : '/') + icon;\n                }\n\n                if (window.location.pathname.match(/adapter\\/[^/]+\\/[^/]+\\.html/)) {\n                    icon = '../../' + icon;\n                } else if (window.location.pathname.match(/material\\/[.\\d]+/)) {\n                    icon = '../../' + icon;\n                } else\n                if (window.location.pathname.match(/material\\//)) {\n                    icon = '../' + icon;\n                }\n                return icon;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Splits CamelCase into words.\n     * @param {string | undefined} text\n     * @returns {string}\n     */\n    static splitCamelCase(text) {\n        if (false && text !== text.toUpperCase()) {\n            const words = text.split(/\\s+/);\n            for (let i = 0; i < words.length; i++) {\n                let word = words[i];\n                if (word.toLowerCase() !== word && word.toUpperCase() !== word) {\n                    let z = 0;\n                    const ww = [];\n                    let start = 0;\n                    while (z < word.length) {\n                        if (word[z].match(/[A-ZÜÄÖА-Я]/)) {\n                            ww.push(word.substring(start, z));\n                            start = z;\n                        }\n                        z++;\n                    }\n                    if (start !== z) {\n                        ww.push(word.substring(start, z));\n                    }\n                    for (let k = 0; k < ww.length; k++) {\n                        words.splice(i + k, 0, ww[k]);\n                    }\n                    i += ww.length;\n                }\n            }\n\n            return words.map(w => {\n                w = w.trim();\n                if (w) {\n                    return w[0].toUpperCase() + w.substring(1).toLowerCase();\n                }\n                return '';\n            }).join(' ');\n        } else {\n            return Utils.CapitalWords(text);\n        }\n    }\n\n    /**\n     * Check if the given color is bright.\n     * https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n     * @param {string | null | undefined} color\n     * @param {boolean} [defaultValue]\n     * @returns {boolean}\n     */\n    static isUseBright(color, defaultValue) {\n        if (color === null || color === undefined || color === '') {\n            return defaultValue === undefined ? true : defaultValue;\n        }\n        color = color.toString();\n        if (color.indexOf('#') === 0) {\n            color = color.slice(1);\n        }\n        let r;\n        let g;\n        let b;\n\n        const rgb = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n        if (rgb && rgb.length === 4) {\n            r = parseInt(rgb[1], 10);\n            g = parseInt(rgb[2], 10);\n            b = parseInt(rgb[3], 10);\n        } else {\n            // convert 3-digit hex to 6-digits.\n            if (color.length === 3) {\n                color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n            }\n            if (color.length !== 6) {\n                return false;\n            }\n\n            r = parseInt(color.slice(0, 2), 16);\n            g = parseInt(color.slice(2, 4), 16);\n            b = parseInt(color.slice(4, 6), 16);\n        }\n\n        // http://stackoverflow.com/a/3943023/112731\n        return (r * 0.299 + g * 0.587 + b * 0.114) <= 186;\n    };\n\n    /**\n     * Get the time string in the format 00:00.\n     * @param {string | number} seconds\n     */\n    static getTimeString(seconds) {\n        seconds = parseFloat(seconds);\n        if (isNaN(seconds)) {\n            return '--:--';\n        }\n        const hours = Math.floor(seconds / 3600);\n        let minutes = Math.floor((seconds % 3600) / 60);\n        let secs = seconds % 60;\n        if (hours) {\n            if (minutes < 10) minutes = '0' + minutes;\n            if (secs < 10) secs = '0' + secs;\n            return hours + ':' + minutes + ':' + secs;\n        } else {\n            if (secs < 10) secs = '0' + secs;\n            return minutes + ':' + secs;\n        }\n    }\n\n    /**\n     * Gets the wind direction with the given angle (degrees).\n     * @param {number} angle in degrees.\n     * @returns {string | undefined}\n     */\n    static getWindDirection(angle) {\n        if (angle >= 0 && angle < 11.25) {\n            return 'N'\n        } else if (angle >= 11.25 && angle < 33.75) {\n            return 'NNE'\n        } else if (angle >= 33.75 && angle < 56.25) {\n            return 'NE'\n        } else if (angle >= 56.25 && angle < 78.75) {\n            return 'ENE'\n        } else if (angle >= 78.75 && angle < 101.25) {\n            return 'E'\n        } else if (angle >= 101.25 && angle < 123.75) {\n            return 'ESE'\n        } else if (angle >= 123.75 && angle < 146.25) {\n            return 'SE'\n        } else if (angle >= 146.25 && angle < 168.75) {\n            return 'SSE'\n        } else if (angle >= 168.75 && angle < 191.25) {\n            return 'S'\n        } else if (angle >= 191.25 && angle < 213.75) {\n            return 'SSW'\n        } else if (angle >= 213.75 && angle < 236.25) {\n            return 'SW'\n        } else if (angle >= 236.25 && angle < 258.75) {\n            return 'WSW'\n        } else if (angle >= 258.75 && angle < 281.25) {\n            return 'W'\n        } else if (angle >= 281.25 && angle < 303.75) {\n            return 'WNW'\n        } else if (angle >= 303.75 && angle < 326.25) {\n            return 'NW'\n        } else if (angle >= 326.25 && angle < 348.75) {\n            return 'NNW'\n        } else if (angle >= 348.75) {\n            return 'N'\n        }\n    }\n\n    /**\n     * Pad the given number with a zero if its not 2 digits long.\n     * @param {string | number} num\n     */\n    static padding(num) {\n        if (typeof num === 'string') {\n            if (num.length < 2) {\n                return '0' + num;\n            } else {\n                return num;\n            }\n        } else if (num < 10) {\n            return '0' + num;\n        } else {\n            return num;\n        }\n    }\n\n    /**\n     * Sets the date format.\n     * @param {string} format\n     */\n    static setDataFormat(format) {\n        if (format) {\n            Utils.dateFormat = format.toUpperCase().split(/[.-/]/);\n            Utils.dateFormat.splice(Utils.dateFormat.indexOf('YYYY'), 1);\n        }\n    }\n\n    /**\n     * Converts the date to a string.\n     * @param {string | number | Date} now\n     * @returns {string}\n     */\n    static date2string(now) {\n        if (typeof now === 'string') {\n            now = now.trim();\n            if (!now) return '';\n            // only letters\n            if (now.match(/^[\\w\\s]+$/)) {\n                // Day of week\n                return now;\n            }\n            let m = now.match(/(\\d{1,4})[-./](\\d{1,2})[-./](\\d{1,4})/);\n            if (m) {\n                let a = [parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10)];\n                let year = a.find(y => y > 31);\n                a.splice(a.indexOf(year), 1);\n                let day = a.find(m => m > 12);\n                if (day) {\n                    a.splice(a.indexOf(day), 1);\n                    now = new Date(year, a[0] - 1, day);\n                } else {\n                    // MM DD\n                    if (Utils.dateFormat[0][0] === 'M' && Utils.dateFormat[1][0] === 'D') {\n                        now = new Date(year, a[0] - 1, a[1]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[1] - 1, a[0]);\n                        }\n                    } else\n                    // DD MM\n                    if (Utils.dateFormat[0][0] === 'D' && Utils.dateFormat[1][0] === 'M') {\n                        now = new Date(year, a[1] - 1, a[0]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[0] - 1, a[1]);\n                        }\n                    } else {\n                        now = new Date(now);\n                    }\n                }\n            } else {\n                now = new Date(now);\n            }\n        } else {\n            now = new Date(now);\n        }\n\n        let date = I18n.t('ra_dow_' + days[now.getDay()]).replace('ra_dow_', '');\n        date += '. ' + now.getDate() + ' ' + I18n.t('ra_month_' + months[now.getMonth()]).replace('ra_month_', '');\n        return date;\n    }\n\n    /**\n     * Render a text as a link.\n     * @param {string} text\n     * @returns {string | JSX.Element[]}\n     */\n    static renderTextWithA(text) {\n        let m = text.match(/<a [^<]+<\\/a>|<br\\/?>/);\n        if (m) {\n            const result = [];\n            let key = 1;\n            do {\n                const p = text.split(m[0]);\n                p[0] && result.push(<span key={'a' + (key++)}>{p[0]}</span>);\n\n                if (m[0].startsWith('<br')) {\n                    result.push(<br key={'a' + (key++)} />);\n                } else {\n                    let href = m[0].match(/href=\"([^\"]+)\"/) || m[0].match(/href='([^']+)'/);\n                    let target = m[0].match(/target=\"([^\"]+)\"/) || m[0].match(/target='([^']+)'/);\n                    let rel = m[0].match(/rel=\"([^\"]+)\"/) || m[0].match(/rel='([^']+)'/);\n                    const title = m[0].match(/>([^<]*)</);\n\n                    // eslint-disable-next-line\n                    result.push(<a key={'a' + (key++)} href={href ? href[1] : ''} target={target ? target[1] : '_blank'} rel={rel ? rel[1] : ''}>{title ? title[1] : ''}</a>);\n                }\n\n                text = p[1];\n\n                m = text && text.match(/<a [^<]+<\\/a>|<br\\/?>/);\n                if (!m) {\n                    p[1] && result.push(<span key={'a' + (key++)}>{p[1]}</span>);\n                }\n            } while (m);\n\n            return result;\n        } else {\n            return text;\n        }\n    }\n\n    /**\n     * Get the smart name of the given state.\n     * @param {Record<string, ioBroker.StateObject> | ioBroker.StateObject} states\n     * @param {string} id\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static getSmartName(states, id, instanceId, noCommon) {\n        if (!id) {\n            if (!noCommon) {\n                if (!states.common) {\n                    return states.smartName;\n                } else {\n                    if (states && !states.common) {\n                        return states.smartName;\n                    } else {\n                        return states.common.smartName;\n                    }\n                }\n            } else {\n                if (states && !states.common) {\n                    return states.smartName;\n                } else {\n                    return (states &&\n                        states.common &&\n                        states.common.custom &&\n                        states.common.custom[instanceId]) ?\n                        states.common.custom[instanceId].smartName : undefined;\n                }\n            }\n        } else\n        if (!noCommon) {\n            return states[id].common.smartName;\n        } else {\n            return (states[id] &&\n                states[id].common &&\n                states[id].common.custom &&\n                states[id].common.custom[instanceId]) ?\n                states[id].common.custom[instanceId].smartName || null : null;\n        }\n    }\n\n    /**\n     * Get the smart name from a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static getSmartNameFromObj(obj, instanceId, noCommon) {\n        if (!noCommon) {\n            if (!obj.common) {\n                return obj.smartName;\n            } else {\n                if (obj && !obj.common) {\n                    return obj.smartName;\n                } else {\n                    return obj.common.smartName;\n                }\n            }\n        } else {\n            if (obj && !obj.common) {\n                return obj.smartName;\n            } else {\n                return (obj &&\n                    obj.common &&\n                    obj.common.custom &&\n                    obj.common.custom[instanceId]) ?\n                    obj.common.custom[instanceId].smartName : undefined;\n            }\n        }\n    }\n\n    /**\n     * Enable smart name for a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static enableSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n            obj.common.custom[instanceId].smartName = {};\n        } else {\n            obj.common.smartName = {};\n        }\n    }\n\n    /**\n     * Completely remove smart name from a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string | number} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static removeSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            if (obj.common && obj.common.custom && obj.common.custom[instanceId]) {\n                obj.common.custom[instanceId] = null;\n            }\n        } else {\n            obj.common.smartName = null;\n        }\n    }\n\n    /**\n     * Update the smartname of a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} newSmartName\n     * @param {string | undefined} byON\n     * @param {string | undefined} smartType\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static updateSmartName(obj, newSmartName, byON, smartType, instanceId, noCommon) {\n        const language = I18n.getLanguage();\n\n        // convert Old format\n        if (typeof obj.common.smartName === 'string') {\n            const nnn = obj.common.smartName;\n            obj.common.smartName = {};\n            obj.common.smartName[language] = nnn;\n        }\n\n        // convert old settings\n        if (obj.native && obj.native.byON) {\n            delete obj.native.byON;\n            let _smartName = obj.common.smartName;\n\n            if (!_smartName || typeof _smartName !== 'object') {\n                _smartName = {en: _smartName};\n                _smartName[language] = _smartName.en;\n            }\n            obj.common.smartName = _smartName;\n        }\n        if (smartType !== undefined) {\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                if (!smartType) {\n                    delete obj.common.custom[instanceId].smartName.smartType;\n                } else {\n                    obj.common.custom[instanceId].smartName.smartType = smartType;\n                }\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                if (!smartType) {\n                    delete obj.common.smartName.smartType;\n                } else {\n                    obj.common.smartName.smartType = smartType;\n                }\n\n            }\n        }\n        if (byON !== undefined) {\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                obj.common.custom[instanceId].smartName.byON = byON;\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                obj.common.smartName.byON = byON;\n            }\n        }\n        if (newSmartName !== undefined) {\n            let smartName;\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                smartName = obj.common.custom[instanceId].smartName;\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                smartName = obj.common.smartName;\n            }\n            smartName[language] = newSmartName;\n\n            // If smart name deleted\n            if (smartName && (!smartName[language] ||\n                (smartName[language] === obj.common.name &&\n                    (!obj.common.role || obj.common.role.indexOf('button') >= 0)))) {\n                delete smartName[language];\n                let empty = true;\n                // Check if structure has any definitions\n                for (const key in smartName) {\n                    if (smartName.hasOwnProperty(key)) {\n                        empty = false;\n                        break;\n                    }\n                }\n                // If empty => delete smartName completely\n                if (empty) {\n                    if (noCommon) {\n                        if (obj.common.custom[instanceId].smartName.byON === undefined) {\n                            delete obj.common.custom[instanceId];\n                        } else {\n                            delete obj.common.custom[instanceId].en;\n                            delete obj.common.custom[instanceId].de;\n                            delete obj.common.custom[instanceId].ru;\n                            delete obj.common.custom[instanceId].nl;\n                            delete obj.common.custom[instanceId].pl;\n                            delete obj.common.custom[instanceId].it;\n                            delete obj.common.custom[instanceId].fr;\n                            delete obj.common.custom[instanceId].pt;\n                            delete obj.common.custom[instanceId].es;\n                            delete obj.common.custom[instanceId]['zh-cn'];\n                        }\n                    } else {\n                        if (obj.common.smartName.byON !== undefined) {\n                            delete obj.common.smartName.en;\n                            delete obj.common.smartName.de;\n                            delete obj.common.smartName.ru;\n                            delete obj.common.smartName.nl;\n                            delete obj.common.smartName.pl;\n                            delete obj.common.smartName.it;\n                            delete obj.common.smartName.fr;\n                            delete obj.common.smartName.pt;\n                            delete obj.common.smartName.es;\n                            delete obj.common.smartName['zh-cn'];\n                        } else {\n                            obj.common.smartName = null;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Disable the smart name of a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static disableSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n            obj.common.custom[instanceId].smartName = false;\n        } else {\n            obj.common.smartName = false;\n        }\n    }\n\n    /**\n     * Copy text to the clipboard.\n     * @param {string} text\n     * @param {Event} [e]\n     */\n    static copyToClipboard(text, e) {\n        const el = window.document.createElement('textarea');\n        el.value = text;\n        window.document.body.appendChild(el);\n        el.select();\n        window.document.execCommand('copy');\n        window.document.body.removeChild(el);\n        console.log(text);\n        e && e.stopPropagation();\n        e && e.preventDefault();\n    }\n\n    /**\n     * Gets the extension of a file name.\n     * @param {string | null} [fileName] the file name.\n     * @returns {string | null} The extension in lower case.\n     */\n    static getFileExtension(fileName) {\n        const pos = (fileName || '').lastIndexOf('.');\n        if (pos !== -1) {\n            return fileName.substring(pos + 1).toLowerCase();\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Format number of bytes as a string with B, KB, MB or GB.\n     * The base for all calculations is 1024.\n     * @param {number} bytes The number of bytes.\n     * @returns {string} The formatted string (e.g. '723.5 KB')\n     */\n    static formatBytes(bytes) {\n        if (Math.abs(bytes) < 1024) {\n            return bytes + ' B';\n        }\n\n        const units = ['KB','MB','GB'];\n        //const units = ['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];\n        let u = -1;\n\n        do {\n            bytes /= 1024;\n            ++u;\n        } while (Math.abs(bytes) >= 1024 && u < units.length - 1);\n\n        return bytes.toFixed(1) + ' ' + units[u];\n    }\n\n    /**\n     * Invert the given color according to theme type to get the inverted text color for background\n     * @param {string} color Color in the format '#rrggbb' or '#rgb' (or without hash)\n     * @param {string} themeType theme type\n     * @param {string} invert dark theme has light color in control or light theme has light color in control\n     * @returns {string}\n     */\n    static getInvertedColor(color, themeType, invert) {\n        if (!color) {\n            return undefined;\n        } else {\n            const invertedColor = Utils.invertColor(color, true);\n            if (invertedColor === '#FFFFFF' && (themeType === 'dark' || (invert && themeType === 'light'))) {\n                return '#DDD';\n            } else\n            if (invertedColor === '#000000' && (themeType === 'light' || (invert && themeType === 'dark'))) {\n                return '#222';\n            } else {\n                return undefined;\n            }\n        }\n    }\n\n    // Big thanks to: https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n    /**\n     * Invert the given color\n     * @param {string} hex Color in the format '#rrggbb' or '#rgb' (or without hash)\n     * @param {boolean} bw Set to black or white.\n     * @returns {string}\n     */\n    static invertColor(hex, bw) {\n        if (hex === undefined || hex === null || hex === '' || typeof hex !== 'string') {\n            return '';\n        }\n        if (hex.startsWith('#')) {\n            hex = hex.slice(1);\n        }\n        // convert 3-digit hex to 6-digits.\n        if (hex.length === 3) {\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n        }\n        if (hex.length !== 6) {\n            console.warn('Cannot invert color: ' + hex);\n            return hex;\n        }\n        let r = parseInt(hex.slice(0, 2), 16);\n        let g = parseInt(hex.slice(2, 4), 16);\n        let b = parseInt(hex.slice(4, 6), 16);\n\n        if (bw) {\n            // http://stackoverflow.com/a/3943023/112731\n            return (r * 0.299 + g * 0.587 + b * 0.114) > 186\n                ? '#000000'\n                : '#FFFFFF';\n        }\n        // invert color components\n        r = (255 - r).toString(16);\n        g = (255 - g).toString(16);\n        b = (255 - b).toString(16);\n        // pad each with zeros and return\n        return '#' + r.padStart(2, '0') + g.padStart(2, '0') + b.padStart(2, '0');\n    }\n\n    // https://github.com/lukeed/clsx/blob/master/src/index.js\n    // License\n    // MIT © Luke Edwards\n    /**\n     * @private\n     * @param {any} mix\n     * @returns {string}\n     */\n    static _toVal(mix) {\n        let k, y, str='';\n\n        if (typeof mix === 'string' || typeof mix === 'number') {\n            str += mix;\n        } else if (typeof mix === 'object') {\n            if (Array.isArray(mix)) {\n                for (k=0; k < mix.length; k++) {\n                    if (mix[k]) {\n                        if ((y = Utils._toVal(mix[k]))) {\n                            str && (str += ' ');\n                            str += y;\n                        }\n                    }\n                }\n            } else {\n                for (k in mix) {\n                    if (mix[k]) {\n                        str && (str += ' ');\n                        str += k;\n                    }\n                }\n            }\n        }\n\n        return str;\n    }\n\n    // https://github.com/lukeed/clsx/blob/master/src/index.js\n    // License\n    // MIT © Luke Edwards\n    /**\n     * Convert any object to a string with its values.\n     * @returns {string}\n     */\n    static clsx () {\n        let i = 0;\n        let tmp;\n        let x;\n        let str = '';\n        while (i < arguments.length) {\n            if ((tmp = arguments[i++])) {\n                if ((x = Utils._toVal(tmp))) {\n                    str && (str += ' ');\n                    str += x\n                }\n            }\n        }\n        return str;\n    }\n\n    /**\n     * Get the current theme name (either from local storage or the browser settings).\n     * @param {string} [themeName]\n     * @returns {string}\n     */\n    static getThemeName(themeName = '') {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return window.vendorPrefix;\n        }\n\n        return themeName ? themeName : window.localStorage && window.localStorage.getItem('App.themeName') ?\n            window.localStorage.getItem('App.themeName') : window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'colored';\n    }\n\n    /**\n     * Get the type of theme.\n     * @param {string} [themeName]\n     * @returns {'dark' | 'light'}\n     */\n    static getThemeType(themeName = '') {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return 'light';\n        }\n\n        themeName = themeName || (window.localStorage && window.localStorage.getItem('App.themeName'));\n        return themeName === 'dark' || themeName === 'blue' ? 'dark' : 'light';\n    }\n\n    /**\n     * Set the theme name and theme type.\n     * @param {string} themeName\n     */\n    static setThemeName(themeName) {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return; // ignore\n        }\n        window.localStorage.setItem('App.themeName', themeName);\n        window.localStorage.setItem('App.theme', themeName === 'dark' || themeName === 'blue' ? 'dark' : 'light');\n    }\n\n    /**\n     * Toggle the theme name between 'dark' and 'colored'.\n     * @param {string | null} themeName\n     * @returns {string} the new theme name.\n     */\n    static toggleTheme(themeName) {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return window.vendorPrefix;\n        }\n        themeName = themeName || (window.localStorage && window.localStorage.getItem('App.themeName'));\n\n        // dark => blue => colored => light => dark\n        const themes = Utils.getThemeNames();\n        const pos = themes.indexOf(themeName);\n        let newTheme;\n        if (pos !== -1) {\n            newTheme = themes[(pos + 1) % themes.length];\n        } else {\n            newTheme = themes[0];\n        }\n        Utils.setThemeName(newTheme);\n\n        return newTheme;\n    }\n\n    /**\n     * Get the list of themes\n     * @returns {array<string>} list of possible themes\n     */\n    static getThemeNames() {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return [window.vendorPrefix];\n        }\n\n        return ['light', 'dark', 'blue', 'colored'];\n    }\n\n    /**\n     * Parse a query string into its parts.\n     * @param {string} query\n     * @returns {Record<string, string | boolean | number>}\n     */\n    static parseQuery(query) {\n        query = (query || '').toString().replace(/^\\?/, '');\n        /** @type {Record<string, string | boolean | number>} */\n        const result = {};\n        query.split('&').forEach(part => {\n            part = part.trim();\n            if (part) {\n                const parts = part.split('=');\n                const attr = decodeURIComponent(parts[0]).trim();\n                if (parts.length > 1) {\n                    result[attr] = decodeURIComponent(parts[1]);\n                    if (result[attr] === 'true') {\n                        result[attr] = true;\n                    } else if (result[attr] === 'false') {\n                        result[attr] = false;\n                    } else {\n                        const f = parseFloat(result[attr]);\n                        if (f.toString() === result[attr]) {\n                            result[attr] = f;\n                        }\n                    }\n                } else {\n                    result[attr] = true;\n                }\n            }\n        });\n        return result;\n    }\n\n    /**\n     * Returns parent ID.\n     * @param {string} id\n     * @returns {string | null} parent ID or null if no parent\n     */\n    static getParentId(id) {\n        const p = (id || '').toString().split('.');\n        if (p.length > 1) {\n            p.pop();\n            return p.join('.');\n        } else {\n            return null;\n        }\n    }\n\n    static formatDate(dateObj, dateFormat) {\n        // format could be DD.MM.YYYY, YYYY.MM.DD or MM/DD/YYYY\n\n        if (!dateObj) {\n            return '';\n        }\n\n        let text;\n        let mm = dateObj.getMonth() + 1;\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n\n        let dd = dateObj.getDate();\n        if (dd < 10) {\n            dd = '0' + dd;\n        }\n\n        if (dateFormat === 'MM/DD/YYYY') {\n            text = mm + '/' + dd + '/' + dateObj.getFullYear();\n        } else {\n            text = dateObj.getFullYear() + '-' + mm + '-' + dd;\n        }\n\n        // time\n        let v = dateObj.getHours();\n        if (v < 10) {\n            text += ' 0' + v;\n        } else {\n            text += ' ' + v;\n        }\n        v = dateObj.getMinutes();\n        if (v < 10) {\n            text += ':0' + v;\n        } else {\n            text += ':' + v;\n        }\n\n        v = dateObj.getSeconds();\n        if (v < 10) {\n            text += ':0' + v;\n        } else {\n            text += ':' + v;\n        }\n\n        v = dateObj.getMilliseconds();\n        if (v < 10) {\n            text += '.00' + v;\n        } else if (v < 100) {\n            text += '.0' + v;\n        } else {\n            text += '.' + v;\n        }\n\n        return text;\n    }\n\n    static formatTime(seconds) {\n        if (seconds) {\n            seconds = Math.round(seconds);\n            const d = Math.floor(seconds / (3600 * 24));\n            const h = Math.floor((seconds % (3600 * 24)) / 3600);\n            const m = Math.floor((seconds % 3600) / 60);\n            const s = seconds % 60;\n            if (d) {\n                return `${d}.${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n            } else if (h) {\n                return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n            } else {\n                return `0:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n            }\n        } else {\n            return '0:00:00';\n        }\n    }\n\n    static MDtext2link(text) {\n        const m = text.match(/\\d+\\.\\)\\s/);\n        if (m) {\n            text = text.replace(m[0], m[0].replace(/\\s/, '&nbsp;'));\n        }\n\n        return text.replace(/[^a-zA-Zа-яА-Я0-9]/g, '').trim().replace(/\\s/g, '').toLowerCase();\n    }\n\n    static openLink(url, target) {\n        if (target === 'this') {\n            window.location = url;\n        } else {\n            window.open(url, target || '_blank');\n        }\n    }\n\n    static MDgetTitle(text) {\n        let {body, header} = Utils.extractHeader(text);\n        if (!header.title) {\n            // remove {docsify-bla}\n            body = body.replace(/{[^}]*}/g, '');\n            body = body.trim();\n            const lines = body.replace(/\\r/g, '').split('\\n');\n            for (let i = 0; i < lines.length; i++) {\n                if (lines[i].startsWith('# ')) {\n                    return lines[i].substring(2).trim();\n                }\n            }\n            return '';\n        } else {\n            return header.title;\n        }\n    }\n\n    static MDextractHeader(text) {\n        const attrs = {};\n        if (text.substring(0, 3) === '---') {\n            const pos = text.substring(3).indexOf('\\n---');\n            if (pos !== -1) {\n                const _header = text.substring(3, pos + 3);\n                const lines = _header.replace(/\\r/g, '').split('\\n');\n                lines.forEach(line => {\n                    if (!line.trim()) {\n                        return;\n                    }\n                    const pos = line.indexOf(':');\n                    if (pos !== -1) {\n                        const attr = line.substring(0, pos).trim();\n                        attrs[attr] = line.substring(pos + 1).trim();\n                        attrs[attr] = attrs[attr].replace(/^['\"]|['\"]$/g, '');\n                        if (attrs[attr] === 'true') {\n                            attrs[attr] = true;\n                        } else if (attrs[attr] === 'false') {\n                            attrs[attr] = false;\n                        } else if (parseFloat(attrs[attr]).toString() === attrs[attr]) {\n                            attrs[attr] = parseFloat(attrs[attr]);\n                        }\n                    } else {\n                        attrs[line.trim()] = true;\n                    }\n                });\n                text = text.substring(pos + 7);\n            }\n        }\n        return {header: attrs, body: text};\n    }\n\n    static MDremoveDocsify(text) {\n        const m = text.match(/{docsify-[^}]*}/g);\n        if (m) {\n            m.forEach(doc => text = text.replace(doc, ''));\n        }\n        return text;\n    }\n\n    /**\n     * Generate the json file on the file for download.\n     * @param {string} filename file name\n     * @returns {object} json structure (not stringified)\n     */\n    static generateFile(filename, json) {\n        let el = document.createElement('a');\n        el.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(json, null, 2)));\n        el.setAttribute('download', filename);\n\n        el.style.display = 'none';\n        document.body.appendChild(el);\n\n        el.click();\n\n        document.body.removeChild(el);\n    }\n\n    /**\n     * Convert quality code into text\n     * @param {number} quality code\n     * @returns {array<string>} lines that decode qulity\n     */\n    static quality2text(quality) {\n        const custom = quality & 0xFFFF0000;\n        const text = QUALITY_BITS[quality];\n        let result;\n        if (text) {\n            result = [text];\n        } else if (quality & 0x01) {\n            result = [QUALITY_BITS[0x01], '0x' + (quality & (0xFFFF & ~1)).toString(16)];\n        } else if (quality & 0x02) {\n            result = [QUALITY_BITS[0x02], '0x' + (quality & (0xFFFF & ~2)).toString(16)];\n        } else {\n            result = ['0x' + quality.toString(16)];\n        }\n        if (custom) {\n            result.push('0x' + (custom >> 16).toString(16).toUpperCase());\n        }\n        return result;\n    }\n\n    /**\n     * Deep copy object\n     * @param {object} object\n     * @returns {object}\n     */\n    static clone(object) {\n        return JSON.parse(JSON.stringify(object));\n    }\n\n    /**\n     * Get states of object\n     * @param {object} obj\n     * @returns {object} states as an object in form {\"value1\": \"label1\", \"value2\": \"label2\"} or null\n     */\n    static getStates(obj) {\n        let states = obj?.common?.states;\n        if (states) {\n            if (typeof states === 'string' && states[0] === '{') {\n                try {\n                    states = JSON.parse(states);\n                } catch (ex) {\n                    console.error(`Cannot parse states: ${states}`);\n                    states = null;\n                }\n            } else\n            // if old format val1:text1;val2:text2\n            if (typeof states === 'string') {\n                const parts = states.split(';');\n                states = {};\n                for (let p = 0; p < parts.length; p++) {\n                    const s = parts[p].split(':');\n                    states[s[0]] = s[1];\n                }\n            } else if (Array.isArray(states)) {\n                const result = {};\n                states.forEach((value, key) => result[key] = value);\n                return result;\n            }\n        }\n        return states;\n    }\n\n    /**\n     * Get svg file as text\n     * @param {string} url URL of SVG file\n     * @returns {object} Promise with \"data:image...\"\n     */\n    static getSvg(url) {\n        return fetch(url)\n            .then(response => response.blob())\n            .then(blob => {\n                return new Promise(resolve => {\n                    const reader = new FileReader();\n                    reader.onload = function() { // do not optimize this function. \"this\" is important.\n                        resolve(this.result);\n                    };\n                    reader.readAsDataURL(blob);\n                });\n            });\n    }\n}\n\nexport default Utils;","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport {DialogTitle, makeStyles, ThemeProvider} from '@material-ui/core';\n\nimport IconClose from '@material-ui/icons/Close';\nimport IconCheck from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport theme from '@iobroker/adapter-react/Theme';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nlet node = null;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        height: 'auto',\n        display: 'flex'\n    },\n    paper: {\n        maxWidth: 1000\n    },\n    overflowHidden: {\n        display: 'flex',\n        overflow: 'hidden'\n    },\n    pre: {\n        overflow: 'auto',\n        whiteSpace: 'pre-wrap',\n        margin: 0,\n        padding: 10,\n    }\n}));\nconst LicenseDialog = ({ url, cb }) => {\n    const classes = useStyles();\n    const [open, setOpen] = useState(true);\n    const [text, setText] = useState('');\n    const [loaded, setLoaded] = useState(true);\n\n    useEffect(() => {\n        setLoaded(true);\n        fetch(url).then(el => el.text()).then(el => {\n            setLoaded(false);\n            setText(el);\n        }).catch(() => setLoaded(false))\n    }, [url]);\n\n    const onClose = () => {\n        setOpen(false);\n        try {\n            node && window.document.body.removeChild(node);\n        } catch (e) {\n            // ignore\n        }\n        node = null;\n    };\n\n    return <ThemeProvider theme={theme(Utils.getThemeName())}>\n        <Dialog\n            onClose={onClose}\n            open={open}\n            classes={{ paper: classes.paper }}\n        >\n            <DialogTitle>{I18n.t('License agreement')}</DialogTitle>\n            <DialogContent className={classes.overflowHidden} dividers>\n                <div className={classes.root}>\n                    <pre className={classes.pre} style={\n                        Utils.getThemeName() === 'dark' ||\n                            Utils.getThemeName() === 'blue' ?\n                            { color: 'black' } :\n                            null}>\n                        {text}\n                    </pre>\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    disabled={loaded}\n                    autoFocus\n                    onClick={() => {\n                        onClose();\n                        cb(true);\n                    }}\n                    startIcon={<IconCheck/>}\n                    color=\"primary\">\n                    {I18n.t('Accept')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => {\n                        onClose();\n                        cb(false);\n                    }}\n                    startIcon={<IconClose/>}\n                    color=\"default\">\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </ThemeProvider>;\n}\n\nexport const licenseDialogFunc = (license, cb, url) => {\n    if (license) {\n        return cb(true);\n    }\n    if (!node) {\n        node = document.createElement('div');\n        node.id = 'renderModal';\n        document.body.appendChild(node);\n    }\n    return ReactDOM.render(<LicenseDialog url={url} cb={cb} />, node);\n}","/* eslint-disable jsx-a11y/anchor-has-content */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport MarkdownView from 'react-showdown';\nimport semver from 'semver';\n\nimport Paper from '@material-ui/core/Paper';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionActions from '@material-ui/core/AccordionDetails';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\nimport {MdMenu as IconMenu} from 'react-icons/md';\nimport {MdExpandMore as IconExpandMore} from 'react-icons/md';\nimport {FaGithub as IconGithub} from 'react-icons/fa';\nimport IconGlobe from '../assets/globe.svg';\nimport IconLink from '../assets/link.svg';\n\nimport Loader from '@iobroker/adapter-react/Components/Loader';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Utils from './MDUtils';\n//import Page404 from '@iobroker/adapter-react/Components/404';\n\nconst styles = theme => ({\n    root: {\n        width: 'calc(100% - 10px)',\n        maxWidth: 1400,\n        margin: 5,\n        '& .md-link': {\n            display: 'inline-block'\n        },\n        '& h2': {\n            width: '100%',\n            textAlign: 'left',\n            paddingBottom: 10,\n            borderBottom: '1px solid lightgray'\n        },\n        '& hr': {\n            borderWidth: '0 0 1px 0'\n        },\n        '& a': {\n            color: 'inherit'\n        },\n        '& pre': {\n            background: '#e3e3e3',\n        },\n        '& code': {\n            margin: '0 0.15em',\n            padding: '0.125em 0.4em',\n            borderRadius: 2,\n            background: '#e3e3e3',\n            color: '#000000',\n            whiteSpace: 'pre',\n        },\n        '& img': {\n            maxWidth: '100%'\n        }\n    },\n    logoImage: {\n        width: 64,\n        verticalAlign: 'middle',\n    },\n    infoEdit: {\n        float: 'right',\n        textDecoration: 'none',\n        color: 'gray'\n    },\n    infoEditLocal: {\n        float: 'right',\n        textDecoration: 'none',\n        marginRight: 15,\n        cursor: 'pointer',\n        display: 'inline-block'\n    },\n    adapterCard: {\n        marginBottom: 0,\n        marginTop: 0,\n    },\n    badgesDetails: {\n        display: 'block',\n        '& img': {\n            marginRight: 5,\n        }\n    },\n    titleText: {\n        display: 'inline-block',\n        marginLeft: 10,\n    },\n    adapterCardAttr:{\n        fontWeight: 'bold',\n        width: 150,\n        display: 'inline-block'\n    },\n    adapterCardListItem: {\n        paddingTop: 3,\n        paddingBottom: 3,\n    },\n    description: {\n        fontStyle: 'italic'\n    },\n    contentDiv: {\n        position: 'fixed',\n        width: '20%',\n        minWidth: 200,\n        overflowX: 'hidden',\n        opacity: 0.8,\n        top: 60,\n        right: 20,\n        background: theme.palette.type === 'dark' ? '#111111': '#EEEEEE',\n        maxHeight: 'calc(100% - 70px)',\n    },\n    contentDivClosed: {\n        position: 'fixed',\n        opacity: 0.8,\n        top: 60,\n        right: 20,\n        width: 25,\n        height: 25,\n        cursor: 'pointer'\n    },\n    contentClose: {\n        position: 'fixed',\n        top: 60 + 5,\n        right: 20 + 5,\n        cursor: 'pointer',\n\n        '&:hover': {\n            color: '#111111'\n        }\n    },\n    contentLinks: {\n        cursor: 'pointer',\n        '&:hover': {\n            color: theme.palette.type === 'dark' ? '#AAA' : '#666',\n        }\n    },\n    headerTranslated: {\n        borderColor: '#009c4f',\n        borderWidth: '0 0 0 3px',\n        padding: 10,\n        marginTop: 5,\n        marginBottom: 5,\n        borderStyle: 'solid',\n        background: '#bdded5',\n        cursor: 'pointer',\n        '&:before': {\n            content: `url(${IconGlobe})`,\n            marginRight: 10,\n            color: '#000000',\n            height: 20,\n            width: 20,\n        }\n    },\n    license: {\n        paddingLeft: 10,\n        fontWeight: 'bold',\n        marginTop: 0,\n        paddingTop: 1,\n    },\n    mdLink: {\n        cursor: 'pointer',\n        textDecoration: 'underline',\n        '&:after': {\n            //content: '\"🔗\"',\n            content: 'url(' + IconLink + ')',\n            width: 16,\n            height: 16,\n            opacity: 0.7,\n            fontSize: 14,\n            //marginLeft: 5\n        }\n    },\n    mdHeaderLink: {\n        textDecoration: 'none',\n        '&:after': {\n            content: '\"🔗\"',\n            width: 16,\n            height: 16,\n            opacity: 0,\n            fontSize: 14,\n            //marginLeft: 5\n        },\n        '&:hover:after': {\n            opacity: 0.7,\n        }\n    },\n    info: {\n        paddingTop: 10,\n        paddingBottom: 10,\n    },\n    email: {\n        fontStyle: 'italic',\n        cursor: 'pointer',\n        textDecoration: 'underline'\n    },\n    name: {\n        fontStyle: 'italic'\n    },\n\n    table: {\n        width: 'auto',\n    },\n    tableHead: {\n        background: '#555555',\n    },\n    tableRowHead: {\n        height: 24,\n    },\n    tableCellHead: {\n        color: '#FFFFFF',\n        padding: '3px 10px',\n        border: '1px solid rgba(224, 224, 224, 1)',\n        margin: 0,\n        '&>p': {\n            margin: 0,\n        }\n    },\n    tableBody: {\n\n    },\n    tableRow: {\n        height: 24,\n    },\n    tableCell: {\n        padding: '3px 10px',\n        margin: 0,\n        border: '1px solid rgba(224, 224, 224, 1)',\n        '&>p': {\n            margin: 0,\n        }\n    },\n\n    summary: {\n        transition: 'background 0.5s, color: 0.5s',\n        fontSize: 20,\n        backgroundColor: theme.palette.type === 'dark' ? '#444' : '#DDD'\n    },\n    summaryExpanded: {\n        //fontWeight: 'bold',\n    },\n\n    warn: {\n        borderColor: '#0b87da',\n        borderWidth: '0 0 0 3px',\n        padding: 10,\n        marginTop: 5,\n        marginBottom: 5,\n        borderStyle: 'solid',\n        background: '#eff6fb',\n        '&:before': {\n            content: '\"⚠\"',\n            //borderRadius: '50%',\n            //background: '#008aff',\n        }\n    },\n    alarm: {\n        borderColor: '#da0b50',\n        borderWidth: '0 0 0 3px',\n        padding: 10,\n        marginTop: 5,\n        marginBottom: 5,\n        borderStyle: 'solid',\n        background: '#fbeff3',\n        '&:before': {\n            content: '\"⚠\"',\n            //borderRadius: '50%',\n            //background: '#008aff',\n        }\n    },\n    notice: {\n        borderColor: '#9c989b',\n        borderWidth: '0 0 0 3px',\n        padding: 10,\n        marginTop: 5,\n        marginBottom: 5,\n        borderStyle: 'solid',\n        background: '#dedede',\n        '&:before': {\n            content: '\"✋\"',\n            //borderRadius: '50%',\n            //background: '#dedede',\n        }\n    },\n    todo: {\n        borderColor: '#00769c',\n        borderWidth: '0 0 0 3px',\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingTop: 0,\n        paddingBottom: 0,\n        marginTop: 5,\n        marginBottom: 5,\n        borderStyle: 'solid',\n        background: '#c4d2de',\n        /*&:before': {\n            content: '\"✋\"',\n            //borderRadius: '50%',\n            //background: '#dedede',\n        }*/\n    },\n    paragraph: {\n\n    },\n\n    changeLog: {\n        display: 'block',\n        width: '100%'\n    },\n    changeLogDiv: {\n        display: 'block',\n        paddingBottom: theme.spacing(2),\n        '&:hover': {\n            backgroundColor: theme.palette.type === 'dark' ? '#333' : '#DDD',\n        },\n        width: '100%'\n    },\n    changeLogVersion: {\n        fontWeight: 'bold',\n        fontSize: 18,\n    },\n    changeLogDate: {\n        fontSize: 16,\n        fontStyle: 'italic',\n        marginLeft: theme.spacing(1),\n        opacity: 0.7\n    },\n    changeLogLine: {\n        display: 'block',\n        fontSize: 14,\n        marginLeft: theme.spacing(1),\n        '&:before': {\n            content: '\"• \"',\n        }\n    },\n    changeLogUL: {\n        paddingLeft: theme.spacing(1),\n        marginTop: 4,\n    },\n    changeLogAuthor: {\n        fontStyle: 'italic',\n        fontWeight: 'bold',\n        marginRight: theme.spacing(1),\n    },\n    changeLogLineText: {\n\n    },\n\n    changeLogAccordion: {\n        justifyContent: 'flex-start',\n    }\n});\n\nconst CONVERTER_OPTIONS = {\n    emoji: true,\n    underline: true,\n    strikethrough: true,\n    simplifiedAutoLink: true,\n    parseImgDimensions: true,\n    splitAdjacentBlockquotes: true\n};\n\nlet title;\n\nconst ADAPTER_CARD = ['version', 'authors', 'keywords', 'mode', 'materialize', 'compact'];\n\nconst EXPAND_LANGUAGE = {\n    en: 'english',\n    de: 'german',\n    ru: 'russian',\n    'zh-cn': 'chinese (simplified)'\n};\n\nclass Markdown extends Component {\n    constructor(props) {\n        super(props);\n        // load page\n        this.state = {\n            parts: [],\n            title: '',\n            loadTimeout: false,\n            header: {},\n            content: {},\n            license: '',\n            changeLog: '',\n            tooltip: '',\n            text: this.props.text || '',\n            notFound: false,\n            affiliate: null,\n            adapterNews: null,\n            hideContent: window.localStorage ? window.localStorage.getItem('Docs.hideContent') === 'true' : false,\n        };\n\n        if (!title) {\n            title = window.title;\n        }\n\n        this.mounted = false;\n\n        if (!this.state.text) {\n            this.load();\n\n            // Give 300ms to load the page. After that show the loading indicator.\n            setTimeout(() => !this.state.parts.length && this.setState({loadTimeout: true}), 300);\n        } else {\n            this.parseText();\n        }\n\n        this.contentRef = React.createRef();\n\n        this.customLink = ({ text, link }) =>\n            <a className={this.props.classes.mdLink + ' md-link'} onClick={() => {\n                if (link) {\n                    if (link.startsWith('#')) {\n                        this.onNavigate(Utils.text2link(link.substring(1)))\n                    } else {\n                        let href = link;\n                        if (!href.match(/^https?:\\/\\//)) {\n                            const parts = (this.props.path || '').split('/');\n                            // const fileName = parts.pop();\n                            const prefix = parts.join('/') + '/';\n\n                            href = prefix + link;\n                        }\n\n                        this.onNavigate(null, href);\n                    }\n                }\n            }} title={link}>{text}</a>;\n\n        /*\n        if (reactObj && (reactObj.type === 'h1' || reactObj.type === 'h2' || reactObj.type === 'h3' || reactObj.type === 'h3')) {\n            reactObj.props.children[0] = (<span>{reactObj.props.children[0]}<a\n                href={prefix + '?' + reactObj.props.id}\n                className={this.props.classes.mdHeaderLink + ' md-h-link'}>\n            </a></span>);\n        }\n         */\n        this.customH = ({text, id, level, prefix}) => {\n            const _level = parseInt(level, 10);\n\n            if (_level === 1) {\n                return <h1 id={id}><span>{text}</span><a href={prefix + '?' + id} className={this.props.classes.mdHeaderLink + ' md-h-link'}/></h1>;\n            } else if (_level === 2) {\n                return <h2 id={id}><span>{text}</span><a href={prefix + '?' + id} className={this.props.classes.mdHeaderLink + ' md-h-link'}/></h2>;\n            } else if (_level === 3) {\n                return <h3 id={id}><span>{text}</span><a href={prefix + '?' + id} className={this.props.classes.mdHeaderLink + ' md-h-link'}/></h3>;\n            } else if (_level === 4) {\n                return <h4 id={id}><span>{text}</span><a href={prefix + '?' + id} className={this.props.classes.mdHeaderLink + ' md-h-link'}/></h4>;\n            } else if (_level === 5) {\n                return <h5 id={id}><span>{text}</span><a href={prefix + '?' + id} className={this.props.classes.mdHeaderLink + ' md-h-link'}/></h5>;\n            } else  {\n                return <h6 id={id}><span>{text}</span><a href={prefix + '?' + id} className={this.props.classes.mdHeaderLink + ' md-h-link'}/></h6>;\n            }\n        };\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        this.state.text && this.parseText(this.state.text);\n        this.props.socket && this.props.socket.getRepository()\n            .then(repo => this.setState({adapterNews: repo[this.props.adapter]?.news}))\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n        if (this.props.path !== nextProps.path) {\n            this.mounted && this.setState({notFound: false, parts :[]});\n            this.load(nextProps.path);\n        } else if (this.props.text !== nextProps.text) {\n            this.setState({text: nextProps.text});\n            if (!nextProps.text) {\n                if (this.props.path !== nextProps.path) {\n                    this.mounted && this.setState({notFound: false, parts :[]});\n                    this.load(nextProps.path);\n                }\n            } else {\n                this.mounted && this.setState({text: nextProps.text}, () =>\n                    this.parseText());\n            }\n        } else\n        if (this.props.language !== nextProps.language) {\n            this.mounted && this.setState({notFound: false, parts :[]});\n            this.load(null, nextProps.language);\n        }\n    }\n\n    /*onHashChange(location) {\n        location = location || Router.getLocation();\n        if (location.chapter) {\n            const el = window.document.getElementById(location.chapter);\n            el && el.scrollIntoView(true);\n        }\n    }*/\n\n    onNavigate(id, link) {\n        if (link && link.match(/^https?:\\/\\//)) {\n            Utils.openLink(link);\n        } else if (id) {\n            const el = window.document.getElementById(id) || window.document.getElementById(id.replace('nbsp', ''));\n            if (el) {\n                el.scrollIntoView(true);\n            }\n        } else if (link) {\n            // if relative path\n            if (!link.startsWith('#')) {\n                // ../../download\n                /*const ppp = link.replace(this.props.path + '/', '').split('#');\n                let _link = ppp[1];\n                let _path = ppp[0].replace(/\\.MD$/, '.md');\n                if (!_path.endsWith('.md')) {\n                    _path += '.md';\n                }\n                const location = Router.getLocation();\n\n                if (_path.startsWith('.')) {\n                    const parts = _path.split('/');\n                    const locParts = location.page.split('/');\n                    locParts.pop();\n                    parts.forEach(part => {\n                        if (part === '.') return;\n                        if (part === '..') {\n                            locParts.pop();\n                            return;\n                        }\n                        locParts.push(part);\n                    });\n                    _path = locParts.join('/')\n                }\n\n                this.props.onNavigate(null, this.props.rootPath || location.tab, _path, _link);*/\n            } else if (link) {\n                //this.props.onNavigate(null, null, link);\n                link = link.replace(/^#/, '');\n                const el = window.document.getElementById(link) || window.document.getElementById(link.replace('nbsp', ''));\n                if (el) {\n                    el.scrollIntoView(true);\n                }\n            }\n        }\n    }\n\n    parseChangeLog(changeLog) {\n        const lines = changeLog.split('\\n');\n        const entries = {};\n        let oneEntry;\n        for (let i = 0; i < lines.length; i++) {\n            let line = lines[i];\n            if (line.startsWith('##')) {\n                if (oneEntry) {\n                    entries[oneEntry.version] = oneEntry;\n                    oneEntry = null;\n                }\n                // ### 3.0.5 (2020-10-30) or ### 3.0.5 [2020-10-30] or ### 3.0.5\n                const [version, date] = line.replace(/^#+\\s?/, '').split(/[\\s([]+/);\n                if (version) {\n                    oneEntry = {lines: []};\n                    oneEntry.version = version.trim();\n                    oneEntry.date = (date || '').trim().replace(/\\)/, '');\n                }\n            } else if (line.trim() && oneEntry) {\n                // extract author\n                // *(bluefox) if group\n                line = line.replace(/^[+*]+\\s?/, '').trim();\n                if (line.startsWith('(') && line.includes(')')) {\n                    const p = line.split(')');\n                    const author = p[0].replace('(', '');\n                    line = line.replace('(' + author + ')', '').trim();\n                    oneEntry.lines.push({author, line});\n                } else {\n                    oneEntry.lines.push(line);\n                }\n            }\n        }\n\n         if (oneEntry) {\n             entries[oneEntry.version] = oneEntry;\n         }\n\n        return entries;\n    }\n\n    parseText(text) {\n        text = text || this.state.text || '';\n        if (this.props.editEnabled) {\n            this.editText = text;\n        }\n        if (!text || text.startsWith('<!DOCTYPE html>')) {\n            // page not found\n            return this.setState({notFound: true});\n        }\n\n        const {header, parts, content, license, changeLog, title} = this.format(text);\n        let _title = header.title || title || Utils.getTitle(text);\n        /*if (_title) {\n            window.document.title = _title;\n        } else if (title) {\n            _title = title;\n            window.document.title = title;\n        }*/\n        let affiliate = null;\n        if (header.affiliate) {\n            try {\n                affiliate = JSON.parse(header.affiliate);\n            } catch (e) {\n                console.error('Cannot parse affiliate: ' + header.affiliate);\n            }\n        }\n\n        let _changeLog;\n        // try to add missing news\n        if (changeLog) {\n            // split news\n            _changeLog = this.parseChangeLog(changeLog);\n            if (_changeLog && typeof _changeLog === 'object' && this.state.adapterNews) {\n                const lang = I18n.getLanguage();\n                Object.keys(this.state.adapterNews).forEach(version => {\n                    if (!_changeLog[version]) {\n                        let news = this.state.adapterNews[version];\n                        if (typeof news === 'object') {\n                            news = news[lang] || news.en || '';\n                        }\n\n                        _changeLog[version] = {version, lines: news.split('\\\\n')};\n                    }\n                });\n            }\n        }\n\n        this.mounted && this.setState({\n            affiliate,\n            notFound: false,\n            parts,\n            header,\n            loadTimeout: false,\n            content,\n            license,\n            changeLog: _changeLog || changeLog,\n            title: _title\n        });\n\n        this.onHashChange && setTimeout(() => this.onHashChange(), 200);\n    }\n\n    load(path, language) {\n        path = path || this.props.path;\n        language = language || this.props.language;\n        if (path && language) {\n            fetch(`${language}${path[0] === '/' ? path : '/' + path}`)\n                .then(res => res.text())\n                .then(text => this.parseText(text));\n        }\n    }\n\n    format(text) {\n        text = (text || '').trim();\n        let {header, body} = Utils.extractHeader(text);\n\n        if (body.startsWith('# ')) {\n            // there is no header and readme starts with\n            // ![Logo](admin/iot.png)\n            // # ioBroker IoT Adapter\n        }\n\n        // remove comments like <!-- -->\n        body = body.replace(/\\r\\n|\\n/g, '§$§$');\n        body = body.replace(/<!--[^>]*-->/gm, '\\n');\n        body = body.replace(/<! -[^>]* ->/gm, '\\n'); // translator make it wrong\n        body = body.replace(/§\\$§\\$/g, '\\n');\n        body = body.replace(/\\[\\*\\*\\*\\s(.+)\\s\\*\\*\\*]/g, '[***$1***]');\n        body = body.replace(/\\[\\*\\*\\s(.+)\\s\\*\\*]/g, '[**$1**]');\n        body = body.replace(/\\[\\*\\s(.+)\\s\\*]/g, '[*$1*]');\n        body = body.replace(/\\*\\*\\*\\s(.+)\\s\\*\\*\\*/g, '***$1***');\n        body = body.replace(/\\*\\*\\s(.+)\\s\\*\\*/g, '**$1**');\n        body = body.replace(/\\*\\s(.+)\\s\\*/g, '*$1*');\n        body = body.replace(/`` `(.+)```/g, '```$1```');\n\n        body = Utils.removeDocsify(body);\n        let {parts, content, license, changeLog, title} = Utils.decorateText(body, header, `${this.props.path && (this.props.path[0] === '/' ? this.props.path : '/' + this.props.path)}`);\n\n        return {header, parts, content, license, changeLog, title};\n    }\n\n    formatAuthors(text) {\n        const parts = text.split(',').map(t => t.trim()).filter(t => t);\n\n        const authors = [];\n        for (let i = 0; i < parts.length; i++) {\n            const m = parts[i].trim().match(/<([-.\\w\\d_@]+)>$/);\n            if (m) {\n                const email = m[1];\n                authors.push(<span key={parts[i]} className={this.props.classes.email} title={I18n.t('Click to copy %s', email)} onClick={e => {\n                    Utils.onCopy(e, email);\n                    this.setState({tooltip: I18n.t('Copied')});\n                }}>{parts[i].replace(m[0], '').trim() + (parts.length - 1 === i ? '' : ', ')}</span>);\n            } else {\n                authors.push(<span key={parts[i]} className={this.props.classes.name}>{parts[i] + (parts.length - 1 === i ? '' : ', ')}</span>);\n            }\n        }\n\n        return authors;\n    }\n\n    renderHeader() {\n        const data = [];\n\n        if (this.state.header.translatedFrom) {\n            let translatedFrom = EXPAND_LANGUAGE[this.state.header.translatedFrom] || this.state.header.translatedFrom;\n            // Translate language from english to actual language\n            translatedFrom = I18n.t(translatedFrom);\n\n            data.push(<div\n                key=\"translatedFrom\"\n                className={this.props.classes.headerTranslated}\n                onClick={() => {\n                    if (this.props.onNavigate) {\n                        this.props.onNavigate && this.props.onNavigate(this.state.header.translatedFrom);\n                    } else {\n                        // read this.props.link\n                        fetch(this.props.link)\n                            .then(res => res.text())\n                            .then(text => this.setState({text}, () =>\n                                this.parseText()))\n                            .catch(e => window.alert(`Cannot fetch \"${this.props.link}\": ${e}`));\n                    }\n                }}\n                title={I18n.t('Go to original')}\n            >{I18n.t('Translated from %s', translatedFrom)}\n            </div>);\n        }\n\n        if (this.state.header.adapter) {\n            data.push(<h1 key=\"h1\">{[\n                this.state.header.logo ? <img key=\"logo\" src={'https://www.iobroker.net/' + this.state.header.logo} alt=\"logo\" className={this.props.classes.logoImage}/> : null,\n                <div key=\"title\" className={this.props.classes.titleText}>{this.state.header.title}</div>\n            ]}</h1>);\n            if (this.state.header.readme) {\n                const link = this.state.header.readme.replace(/blob\\/master\\/README.md$/, '');\n                data.push(<IconButton key=\"github\" title={I18n.t('Open repository')} onClick={() => Utils.openLink(link)}><IconGithub/></IconButton>);\n            }\n        }\n\n        if (this.state.header.description) {\n            data.push(<span key=\"description\" className={this.props.classes.description}>{this.state.header.description}</span>);\n        }\n\n        if (Object.keys(this.state.header).find(attr => ADAPTER_CARD.indexOf(attr) !== -1)) {\n            data.push(<Accordion key=\"header\" className={this.props.classes.adapterCard}>\n                <AccordionSummary className={this.props.classes.summary} classes={{expanded: this.props.classes.summaryExpanded}} expandIcon={<IconExpandMore />}>{I18n.t('Information')}</AccordionSummary>\n                <AccordionActions><List>{\n                    ADAPTER_CARD\n                        .filter(attr => this.state.header.hasOwnProperty(attr))\n                        .map(attr =>\n                            <ListItem key={attr} className={this.props.classes.adapterCardListItem}>\n                                <div className={this.props.classes.adapterCardAttr}>{I18n.t(attr)}: </div>\n                                <span>{attr === 'authors' ? this.formatAuthors(this.state.header[attr]) : this.state.header[attr].toString()}</span>\n                            </ListItem>)}\n                </List></AccordionActions>\n            </Accordion>);\n        }\n\n        if (Object.keys(this.state.header).find(attr => attr.startsWith('BADGE-'))) {\n            data.push(<Accordion key=\"header_badges\" className={this.props.classes.adapterCard}>\n                <AccordionSummary className={this.props.classes.summary} classes={{expanded: this.props.classes.summaryExpanded}} expandIcon={<IconExpandMore />}>{I18n.t('Badges')}</AccordionSummary>\n                <AccordionActions classes={{root: this.props.classes.badgesDetails}}>{\n                    Object.keys(this.state.header).filter(attr => attr.startsWith('BADGE-'))\n                        .map((attr, i) => [\n                            this.state.header[attr].indexOf('nodei.co') !== -1 ? (<br key={'br' + i}/>) : null,\n                            <img key={'img' + i} src={this.state.header[attr]} alt={attr.substring(6)}/>\n                        ])}\n                </AccordionActions>\n            </Accordion>);\n        }\n\n        return data;\n    }\n\n    renderInfo() {\n        return <div className={this.props.classes.info}>\n            {this.state.header.lastChanged ? [\n                <span key=\"lastChangedTitle\" className={this.props.classes.infoTitle}>{I18n.t('Last changed:')} </span>,\n                <span key=\"lastChangedValue\" className={this.props.classes.infoValue}>{this.state.header.lastChanged}</span>,\n            ] : null}\n            {this.state.header.editLink ?\n                <a className={this.props.classes.infoEdit}\n                   href={this.state.header.editLink.replace(/\\/edit\\//, '/blob/')}\n                   rel=\"noopener noreferrer\"\n                   target=\"_blank\"><IconGithub style={{marginRight: 4}}/>{I18n.t('See on github')}\n                </a> : null}\n            {this.props.editEnabled && this.editText ?\n                <div className={this.props.classes.infoEditLocal} onClick={() => {\n                    this.props.onEditMode && this.props.onEditMode(true);\n                }}><IconEdit />{I18n.t('Edit local')}</div> : null}\n\n        </div>;\n    }\n\n    _renderSubContent(menu) {\n        return <ul>{\n            menu.children.map(item => {\n                const ch   = this.state.content[item].children;\n                const link = this.state.content[item].external && this.state.content[item].link;\n                return <li><span onClick={() => this.onNavigate(item, link)} className={this.props.classes.contentLinks}>{this.state.content[item].title}</span>\n                    {ch ? this._renderSubContent(this.state.content[item]) : null}\n                </li>;\n            }).filter(e => e)\n        }</ul>;\n    }\n\n    renderAffiliates() {\n        if (!this.state.affiliate || !this.props.affiliates) {\n            return null;\n        }\n\n        const Affiliates = this.props.affiliates;\n\n        return <Affiliates\n            key=\"affiliates\"\n            language={this.props.language}\n            mobile={this.props.mobile}\n            theme={this.props.theme}\n            data={this.state.affiliate}\n        />;\n    }\n\n    onToggleContentButton() {\n        this.setState({hideContent: !this.state.hideContent});\n        window.localStorage && window.localStorage.setItem('Docs.hideContent', this.state.hideContent ? 'false' : 'true');\n    }\n\n    renderContentCloseButton() {\n        if (this.state.hideContent) {\n            return <IconMenu className={this.props.classes.contentClose}/>;\n        } else {\n            return <IconClose className={this.props.classes.contentClose} onClick={() => this.onToggleContentButton()}/>;\n        }\n    }\n\n    renderContent() {\n        const links = Object.keys(this.state.content);\n        if (!links.length) {\n            return null;\n        }\n        if (this.state.hideContent) {\n            return <Paper className={this.props.classes.contentDivClosed} onClick={() => this.onToggleContentButton()}>\n                {this.renderContentCloseButton()}\n            </Paper>;\n        } else {\n            return <Paper className={this.props.classes.contentDiv}>\n                {this.renderContentCloseButton()}\n                <ul>{\n                    links.map(item => {\n                        const link  = this.state.content[item].external && this.state.content[item].link;\n                        const level = this.state.content[item].level;\n                        let   title = this.state.content[item].title.replace('&gt;', '>').replace('&lt;', '<').replace('&amp;', '&');\n\n                        return <li key={title} style={{ fontSize: 16 - level * 2, paddingLeft: level * 8, fontWeight: !level ? 'bold' : 'normal' }}>\n                            <span onClick={() => this.onNavigate(item, link)} className={this.props.classes.contentLinks}>{title}</span>\n                            {this.state.content[item].children ? this._renderSubContent(this.state.content[item]) : null}\n                        </li>;\n                    }).filter(e => e)\n                }</ul>\n            </Paper>;\n        }\n    }\n\n    renderLicense() {\n        if (!this.state.license) {\n            return null;\n        } else {\n            const CustomLink = this.customLink;\n            const CustomH = this.customH;\n            return <Accordion>\n                <AccordionSummary\n                    className={this.props.classes.summary}\n                    classes={{expanded: this.props.classes.summaryExpanded}}\n                    expandIcon={<IconExpandMore />}>{I18n.t('License')} <span className={this.props.classes.license}> {this.state.header.license}</span></AccordionSummary>\n                <AccordionActions>\n                    <MarkdownView markdown={this.state.license} options={CONVERTER_OPTIONS} components={{CustomLink, CustomH}}/>\n                </AccordionActions>\n            </Accordion>;\n        }\n    }\n\n    renderChangeLogLines() {\n        const classes = this.props.classes;\n\n        const versions = Object.keys(this.state.changeLog);\n        try {\n            versions.sort(semver.gt);\n        } catch (e) {\n            console.warn('Cannot semver: ' + e);\n        }\n\n        return <div className={classes.changeLog} key=\"change-log\">{versions.map(version => {\n            const item = this.state.changeLog[version];\n            return <div key={version} className={classes.changeLogDiv}>\n                <div className={classes.changeLogVersion}>{version}{item.date ? <span className={classes.changeLogDate}>{item.date }</span> : ''}</div>\n                <ul className={classes.changeLogUL}>{item.lines.map((line, i) => typeof line === 'object' ?\n                    <li key={i} className={classes.changeLogLine}><span className={classes.changeLogAuthor}>{line.author}</span><span className={classes.changeLogLineText}>{line.line}</span></li>\n                    :\n                    <li key={i} className={classes.changeLogLine}><span className={classes.changeLogLineText}>{line}</span></li>\n                )}</ul>\n            </div>\n        })}</div>;\n    }\n\n    renderChangeLog() {\n        if (!this.state.changeLog) {\n            return null;\n        } else {\n            const CustomLink = this.customLink;\n            const CustomH    = this.customH;\n            return <Accordion>\n                <AccordionSummary className={this.props.classes.summary} classes={{expanded: this.props.classes.summaryExpanded}} expandIcon={<IconExpandMore />}>{I18n.t('Changelog')}</AccordionSummary>\n                <AccordionActions classes={{root: this.props.classes.changeLogAccordion}}>\n                    {typeof this.state.changeLog === 'string' ?\n                        <MarkdownView markdown={this.state.changeLog} options={CONVERTER_OPTIONS} components={{CustomLink, CustomH}}/>\n                        :\n                        this.renderChangeLogLines()\n                    }\n                </AccordionActions>\n            </Accordion>;\n        }\n    }\n\n    renderSnackbar() {\n        return (<Snackbar\n            anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n            open={!!this.state.tooltip}\n            autoHideDuration={6000}\n            onClose={() => this.setState({tooltip: ''})}\n            message={<span id=\"message-id\">{this.state.tooltip}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.close}\n                    onClick={() => this.setState({tooltip: ''})}\n                >\n                    <IconClose/>\n                </IconButton>,\n            ]}\n        />)\n    }\n\n    replaceHref(line) {\n        if (!line) {\n            return '';\n        }\n        const m = line.match(/\\[.*]\\(#[^)]+\\)/g);\n        if (m) {\n            m.forEach(link => {\n                const pos = link.lastIndexOf('](');\n                let text = link.substring(0, pos).replace(/^\\[/, '');\n                let href = link.substring(pos + 2).replace(/\\)$/, '');\n                line = line.replace(link, `<CustomLink text=\"${text}\" link=\"${href}\" />`);\n            });\n        }\n        const mm = line.match(/!?\\[.*]\\([^)]+\\)/g);\n        if (mm) {\n            // https://raw.githubusercontent.com/ioBroker/ioBroker.iot/master/README.md\n            //                https://github.com/ioBroker/ioBroker.iot/blob/master/README.md\n            const prefixHttp = this.props.link\n                .substring(0, this.props.link.lastIndexOf('/'))\n                .replace('https://raw.githubusercontent.com/', 'https://github.com/')\n                .replace(/\\/master$/, '/blob/master');\n\n            const prefixImage = this.props.link.substring(0, this.props.link.lastIndexOf('/'));\n            mm.forEach(link => {\n                const isImage = link.startsWith('!');\n                link = link.replace(/^!/, '');\n                const pos = link.lastIndexOf('](');\n                let text  = link.substring(0, pos).replace(/^\\[/, '');\n                let href  = link.substring(pos + 2).replace(/\\)$/, '');\n                if (!href.startsWith('http')) {\n                    if (isImage) {\n                        line = line.replace(link, `[${text}](${prefixImage}/${href})`);\n                    } else {\n                        // <a href=\"http://www.google.com\" target=\"blank\">google</a>\n                        line = line.replace(link, `<a href=\"${prefixHttp}/${href}\" target=\"blank\">${text}</a>`);\n                    }\n                } else if (!isImage) {\n                    line = line.replace(link, `<a href=\"${href}\" target=\"blank\">${text}</a>`);\n                }\n            });\n        }\n        return line;\n\n        /*const parts = (this.props.path || '').split('/');\n        // const fileName = parts.pop();\n        const prefix = parts.join('/') + '/';\n\n        if (reactObj && reactObj.props && reactObj.props.children) {\n            reactObj.props.children.forEach((item, i) => {\n                if (item && item.type === 'a') {\n                    let link = item.props.href;\n                    if (link) {\n                        if (link.startsWith('#')) {\n                            link = Utils.text2link(link.substring(1));\n                            reactObj.props.children[i] = (<div\n                                key={'link' + i}\n                                className={this.props.classes.mdLink + ' md-link'}\n                                title={link}\n                                onClick={() => this.onNavigate(link)}>\n                                {item.props.children ? item.props.children[0] : ''}\n                            </div>);\n                        } else {\n                            const oldLink = link;\n                            if (!link.match(/^https?:\\/\\//)) {\n                                link = prefix + link;\n                            }\n\n                            reactObj.props.children[i] = (<div\n                                key={'link' + i}\n                                className={this.props.classes.mdLink + ' md-link'}\n                                title={oldLink}\n                                onClick={() => this.onNavigate(null, link)}>\n                                {item.props.children ? item.props.children[0] : ''}\n                            </div>);\n                        }\n                    }\n                }\n\n                if (typeof item === 'object') {\n                    this.replaceHref(item);\n                }\n            });\n        }*/\n    }\n\n    makeHeadersAsLink(line, prefix) {\n        if (!line) {\n            return '';\n        }\n        const mm = line.match(/^#+\\s.+/g);\n        if (mm) {\n            mm.forEach(header => {\n                const level = header.match(/^(#+)\\s/)[1].length;\n                let text = header.substring(level + 1);\n                line = line.replace(header, `<CustomH text=\"${text}\" id=\"${Utils.text2link(text)}\" level=\"${level}\" prefix=\"${prefix}\"/>`);\n            });\n        }\n        return line;\n        /*if (reactObj && (reactObj.type === 'h1' || reactObj.type === 'h2' || reactObj.type === 'h3' || reactObj.type === 'h3')) {\n            reactObj.props.children[0] = (<span>{reactObj.props.children[0]}<a\n                href={prefix + '?' + reactObj.props.id}\n                className={this.props.classes.mdHeaderLink + ' md-h-link'}>\n            </a></span>);\n        }*/\n    }\n\n    renderTable(lines, key) {\n        const header = lines[0].replace(/^\\||\\|$/g, '').split('|').map(h => h.trim());\n        const CustomLink = this.customLink;\n        const CustomH = this.customH;\n\n        const rows = [];\n        for (let i = 2; i < lines.length; i++) {\n            const parts = lines[i].replace(/^\\||\\|$/g, '').split('|').map(a => a.trim());\n\n            const cells = [];\n            for (let j = 0; j < header.length; j++) {\n                parts[j] = this.replaceHref(parts[j]);\n                const crt = <MarkdownView markdown={parts[j] || ''}  options={CONVERTER_OPTIONS} components={{CustomLink, CustomH}}/>;\n                cells.push(<TableCell className={this.props.classes.tableCell} key={'cell' + i + '_' + j}>{crt}</TableCell>);\n            }\n\n            rows.push(<TableRow className={this.props.classes.tableRow} key={'row' + i}>{cells}</TableRow>);\n        }\n        return <Table key={'table_' + key} size=\"small\" className={this.props.classes.table}>\n            <TableHead className={this.props.classes.tableHead}>\n                <TableRow className={this.props.classes.tableRowHead}>\n                    {\n                        header.map((h, i) =>\n                            <TableCell className={this.props.classes.tableCellHead} key={'header' + i}>\n                                <MarkdownView markdown={h} options={CONVERTER_OPTIONS} components={{CustomLink, CustomH}}/>\n                            </TableCell>)\n                    }\n                </TableRow>\n            </TableHead>\n            <TableBody className={this.props.classes.tableBody}>{rows}</TableBody>\n        </Table>;\n    }\n\n    render() {\n        if (this.state.notFound) {\n            return null; //<Page404 className={this.props.classes.root} language={this.props.language}/>;\n        }\n        if (this.props.editMode && this.props.editor) {\n            const Editor = this.props.editor;\n            return <Editor\n                language={this.props.language}\n                mobile={this.props.mobile}\n                theme={this.props.theme}\n                path={this.state.header.editLink}\n                onClose={() => this.props.onEditMode && this.props.onEditMode(false)}\n            />;\n        }\n        if (this.state.loadTimeout && !this.state.parts.length) {\n            return <Loader theme={this.props.theme}/>;\n        }\n\n        const prefix = window.location.hash.split('?')[0];\n\n        const CustomLink = this.customLink;\n        const CustomH = this.customH;\n\n        const reactElements = this.state.parts.map((part, i) => {\n            if (part.type === 'table') {\n                return this.renderTable(part.lines, i);\n            } else {\n                let line = part.lines.join('\\n');\n                if (part.type === 'code') {\n                    line = line.trim().replace(/^```javascript/, '```');\n                }\n\n                const trimmed = line.trim();\n                if (trimmed.match(/^\\*[^\\s]/) && trimmed.match(/[^\\s]\\*$/)) {\n                    line = trimmed;\n                }\n\n                // find all \"[text](#link)\" and replace it with <link text=\"text\" link=\"link\"/>\n                // Detect \"[iobroker repo \\[repoName\\]](#iobroker-repo)\"\n\n                line = this.replaceHref(line);\n                line = this.makeHeadersAsLink(line, prefix);\n\n                // replace <- with &lt;\n                line = line.replace(/<-/g, '&lt;-');\n                line = line.replace(/<\\/ br>/g, '<br/>');\n\n                const rct = <MarkdownView markdown={line} options={CONVERTER_OPTIONS} components={{CustomLink, CustomH}}/>;\n\n                if (part.type === 'warn') {\n                    return <div key={'parts' + i} className={this.props.classes.warn}>{rct}</div>;\n                } else if (part.type === 'alarm') {\n                    return <div key={'parts' + i} className={this.props.classes.alarm}>{rct}</div>;\n                } else if (part.type === 'notice') {\n                    return <div key={'parts' + i} className={this.props.classes.notice}>{rct}</div>;\n                }  else if (part.type === '@@@') {\n                    return <div key={'parts' + i} className={this.props.classes.todo}>{rct}</div>;\n                } else {\n                    return <div key={'parts' + i} className={this.props.classes.paragraph}>{rct}</div>;\n                }\n            }\n        });\n\n        return <div className={Utils.clsx(this.props.classes.root, this.props.className)} ref={this.contentRef}>\n            {this.renderHeader()}\n            {this.state.title && !this.state.header.adapter ? <h1>{this.state.title}</h1> : null}\n            {this.renderAffiliates()}\n            {reactElements}\n            <hr/>\n            {this.renderLicense()}\n            {this.renderChangeLog()}\n            {this.renderInfo()}\n            {this.renderContent()}\n            {this.renderSnackbar()}\n        </div>;\n    }\n}\n\nMarkdown.propTypes = {\n    language: PropTypes.string,\n    onNavigate: PropTypes.func,\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    mobile: PropTypes.bool,\n    rootPath:  PropTypes.string,\n    path:  PropTypes.string,\n    text:  PropTypes.string,\n    editMode: PropTypes.bool,\n    onEditMode: PropTypes.func,\n    editEnabled:  PropTypes.bool,\n    affiliates: PropTypes.object,\n    editor: PropTypes.object,\n    className: PropTypes.string,\n    socket: PropTypes.object,\n    adapter: PropTypes.string,\n};\n\nexport default withStyles(styles)(Markdown);\n","import React, { Component } from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from \"@material-ui/icons/Check\";\n\nconst styles = theme => ({\n    formControl: {\n        marginTop: theme.spacing(3)\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n    typography: {\n        paddingRight: 30\n    }\n});\n\nclass AdapterDeletionDialog extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.t = props.t;\n    }\n\n    render() {\n\n        const { classes } = this.props;\n\n        return (\n            <Dialog\n                onClose={this.props.onClose}\n                open={this.props.open}\n            >\n                <DialogTitle disableTypography={true}>\n                    <Typography component=\"h2\" variant=\"h6\" classes={{ root: classes.typography }}>\n                        {this.t('Please confirm')}\n                        <IconButton className={classes.closeButton} onClick={this.props.onClose}>\n                            <CloseIcon />\n                        </IconButton>\n                    </Typography>\n                </DialogTitle>\n                <DialogContent dividers>\n                    <Typography gutterBottom>\n                        {this.t('Are you sure you want to delete adapter %s?', this.props.adapter)}\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        autoFocus\n                        onClick={() => {\n                            this.props.onClick();\n                            this.props.onClose();\n                        }}\n                        color=\"primary\"\n                        startIcon={<CheckIcon/>}\n                    >\n                        {this.t('Ok')}\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        autoFocus\n                        onClick={() => {\n                            this.props.onClose();\n                        }}\n                        color=\"default\"\n                        startIcon={<CloseIcon />}\n                    >\n                        {this.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nAdapterDeletionDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    adapter: PropTypes.string.isRequired,\n    t: PropTypes.func.isRequired,\n    onClick: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired\n}\n\nexport default withStyles(styles)(AdapterDeletionDialog);","/**\n * Copyright 2018-2021 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\n//import React from 'react';\nimport copy from '@iobroker/adapter-react/Components/copy-to-clipboard';\n\nclass MDUtils {\n    static text2link(text) {\n        const m = text.match(/\\d+\\.\\)\\s/);\n        if (m) {\n            text = text.replace(m[0], m[0].replace(/\\s/, '&nbsp;'));\n        }\n\n        return text.replace(/[^a-zA-Zа-яА-Я0-9]/g, '').trim().replace(/\\s/g, '').toLowerCase();\n    }\n\n    static openLink(url, target) {\n        if (target === 'this') {\n            window.location = url;\n        } else {\n            window.open(url, target || '_blank');\n        }\n    }\n\n    static getTitle(text) {\n        let {body, header} = MDUtils.extractHeader(text);\n        if (!header.title) {\n            // remove {docsify-bla}\n            body = body.replace(/{[^}]*}/g, '');\n            body = body.trim();\n            const lines = body.replace(/\\r/g, '').split('\\n');\n            for (let i = 0; i < lines.length; i++) {\n                if (lines[i].startsWith('# ')) {\n                    return lines[i].substring(2).trim();\n                }\n            }\n            return '';\n        } else {\n            return header.title;\n        }\n    }\n\n    static extractHeader(text) {\n        const attrs = {};\n        if (text.substring(0, 3) === '---') {\n            const pos = text.substring(3).indexOf('\\n---');\n            if (pos !== -1) {\n                const _header = text.substring(3, pos + 3);\n                const lines = _header.replace(/\\r/g, '').split('\\n');\n                lines.forEach(line => {\n                    if (!line.trim()) {\n                        return;\n                    }\n                    const pos = line.indexOf(':');\n                    if (pos !== -1) {\n                        const attr = line.substring(0, pos).trim();\n                        attrs[attr] = line.substring(pos + 1).trim();\n                        attrs[attr] = attrs[attr].replace(/^['\"]|['\"]$/g, '');\n                        if (attrs[attr] === 'true') {\n                            attrs[attr] = true;\n                        } else if (attrs[attr] === 'false') {\n                            attrs[attr] = false;\n                        } else if (parseFloat(attrs[attr]).toString() === attrs[attr]) {\n                            attrs[attr] = parseFloat(attrs[attr]);\n                        }\n                    } else {\n                        attrs[line.trim()] = true;\n                    }\n                });\n                text = text.substring(pos + 7);\n            }\n        }\n        return {header: attrs, body: text};\n    }\n\n    static removeDocsify(text) {\n        const m = text.match(/{docsify-[^}]*}/g);\n        if (m) {\n            m.forEach(doc => text = text.replace(doc, ''));\n        }\n        return text;\n    }\n\n    static onCopy(e, text) {\n        copy(text);\n        e && e.stopPropagation();\n        e && e.preventDefault();\n    }\n\n    static decorateText(text, header, path) {\n        path = path || '';\n\n        let {body, license, changelog} = MDUtils.extractLicenseAndChangelog(text, true);\n\n        const lines = body.split('\\n');\n        const content = {};\n        let current = [null, null, null, null];\n\n        const parts = [];\n        while (lines.length && !lines[0].trim()) lines.shift();\n        while (lines.length && !lines[lines.length - 1].trim()) lines.pop();\n\n        let title;\n\n        for (let i = 0; i < lines.length; i++) {\n            let line = lines[i].trimRight();\n            let last = parts.length - 1;\n\n            if (line.startsWith('=========')) {\n                // ignore it\n            } else\n            //<h1><img src=\"ru/adapterref/iobroker.linkeddevices/admin/linkeddevices.png\" width=\"32\"/> ioBroker.linkeddevices</h1>\n            if (line.match(/^<h1>.+<\\/h1>/)) {\n                // skip\n            } else\n            if (line.match(/^# /)) {\n                const cont = MDUtils.findTitle(line, -1, path);\n                title = cont.title;\n            } else\n            if (line.trim().startsWith('|')) {\n                if (!parts[last] || parts[last].type !== 'table') {\n                    parts.push({type: 'table', lines: [line]});\n                } else {\n                    parts[last].lines.push(line);\n                }\n            } else\n            if (line.match(/^##+ /)) {\n                parts.push({lines: [line], type: 'chapter'});\n                last++;\n                let level = line.split('#').length - 3;\n                const cont = MDUtils.findTitle(line, level, path);\n                content[cont.href] = cont;\n                current[level] = cont;\n                level++;\n                while(current[level] !== undefined) level = null;\n            } else\n            if (line.startsWith('@@@')) {\n                line = line.substring(3).trim();\n                parts.push({lines: [line], type: '@@@'});\n                last++;\n                if (line.trim().endsWith('@@@')) {\n                    parts[last].lines[0] = line.substring(0, line.length - 3);\n                } else {\n                    while(i + 1 < lines.length && !lines[i + 1].trim().endsWith('@@@')) {\n                        parts[last].lines.push(lines[i + 1].trim());\n                        i++;\n                    }\n                }\n            } else if (line.trim().startsWith('```')) {\n                parts.push({lines: [line], type: 'code'});\n                last++;\n                if (!line.substring(3).trim().endsWith('```')) {\n                    while(i + 1 < lines.length && !lines[i + 1].trim().endsWith('```')) {\n                        parts[last].lines.push(lines[i + 1]);\n                        i++;\n                    }\n                    parts[last].lines.push(lines[i + 1]);\n                    i++;\n                }\n            } else if (line.startsWith('?> ') || line.startsWith('!> ')) {\n                parts.push({lines: [line.substring(3)], type: line.startsWith('?>') ? 'warn' : 'alarm'});\n                last++;\n                while(i + 1 < lines.length && lines[i + 1].trim()) {\n                    parts[last].lines.push(lines[i + 1]);\n                    i++;\n                }\n            } else if (line.startsWith('> ')) {\n                parts.push({lines: [line.substring(2)], type: 'notice'});\n                last++;\n                while(i + 1 < lines.length && lines[i + 1].trim()) {\n                    parts[last].lines.push(lines[i + 1]);\n                    i++;\n                }\n            } else if (line.trim()) {\n                parts.push({lines: [line], type: 'p'});\n                last++;\n                while(i + 1 < lines.length && //lines[i + 1].trim() &&\n                //!lines[i + 1].trim().match(/^>\\s|^\\?>\\s|^!>\\s|^@@@|^#+|^====|^\\|/)) {\n                !lines[i + 1].trim().match(/^```|^>\\s|^\\?>\\s|^!>\\s|^@@@|^#+|^====|^\\|/)) {\n                    parts[last].lines.push(lines[i + 1].trimRight());\n                    i++;\n                }\n            }\n        }\n\n        return {\n            parts,\n            content,\n            title,\n            changeLog: changelog,\n            license\n        };\n    }\n\n    static extractLicenseAndChangelog(text, ignoreHeaders) {\n        const lines = (text || '').trim().split('\\n');\n        const changelog = [];\n        let changelogA = false;\n        const license = [];\n        let licenseA = false;\n        let newLines = [];\n        lines.forEach(line => {\n            if (line.match(/#+\\sChangelog/i)) {\n                !ignoreHeaders && changelog.push('## Changelog');\n                changelogA = true;\n                licenseA = false;\n            } else if (line.match(/#+\\sLicense/i)) {\n                !ignoreHeaders && license.push('## License');\n                changelogA = false;\n                licenseA = true;\n            } else if (line.match(/^# |^## /)) {\n                // if some other chapter detected\n                newLines.push(line);\n                changelogA = false;\n                licenseA = false;\n            } else if (licenseA) {\n                license.push(line);\n            } else if (changelogA) {\n                changelog.push(line);\n            } else {\n                newLines.push(line);\n            }\n        });\n        while (newLines.length && !newLines[0].trim()) newLines.shift();\n        while (newLines.length && !newLines[newLines.length - 1].trim()) newLines.pop();\n\n        while (changelog.length && !changelog[0].trim()) changelog.shift();\n        while (changelog.length && !changelog[changelog.length - 1].trim()) changelog.pop();\n\n        while (license.length && !license[0].trim()) license.shift();\n        while (license.length && !license[license.length - 1].trim()) license.pop();\n\n        return {body: newLines.join('\\n'), license: license.join('\\n'), changelog: changelog.join('\\n')};\n    }\n\n    static findTitleFromH1(line, level, path) {\n\n    }\n\n    static findTitle(line, level, path) {\n        let name = line.substring(level + 3).trim()\n            // remove bold and italic modifier\n            .replace(/^\\*|\\*$/g, '')\n            .replace(/^\\*|\\*$/g, '')\n            .replace(/^\\*|\\*$/g, '');\n\n        const t = MDUtils.text2link(name);\n\n        // detect <a id=\"Systemeinstellungen\"></a>9.) Systemeinstellungen\n        const m = name.match(/<a [^>]*>(.*)<\\/a>/);\n        if (m) {\n            name = name.replace(m[0], m[1]).trim();\n        }\n\n        const link = MDUtils.text2docLink(name, path);\n\n        return {\n            level,\n            title: link ? link.name : name,\n            link: link ? link.link : t,\n            href: t,\n            external: !!link\n        };\n    }\n\n    static text2docLink(text, path) {\n        const m = text.match(/\\[([^\\]]*)]\\(([^)]*)\\)/);\n        if (m) {\n            const parts = path.split('/');\n            parts.pop();\n            return {link: parts.join('/') + '/' + m[2], name: m[1]};\n        } else {\n            return null;\n        }\n    }\n\n    // https://github.com/lukeed/clsx/blob/master/src/index.js\n    // License\n    // MIT © Luke Edwards\n    /**\n     * @private\n     * @param {any} mix\n     * @returns {string}\n     */\n    static _toVal(mix) {\n        let k, y, str='';\n\n        if (typeof mix === 'string' || typeof mix === 'number') {\n            str += mix;\n        } else if (typeof mix === 'object') {\n            if (Array.isArray(mix)) {\n                for (k=0; k < mix.length; k++) {\n                    if (mix[k]) {\n                        if ((y = MDUtils._toVal(mix[k]))) {\n                            str && (str += ' ');\n                            str += y;\n                        }\n                    }\n                }\n            } else {\n                for (k in mix) {\n                    if (mix[k]) {\n                        str && (str += ' ');\n                        str += k;\n                    }\n                }\n            }\n        }\n\n        return str;\n    }\n\n    // https://github.com/lukeed/clsx/blob/master/src/index.js\n    // License\n    // MIT © Luke Edwards\n    /**\n     * Convert any object to a string with its values.\n     * @returns {string}\n     */\n    static clsx () {\n        let i = 0;\n        let tmp;\n        let x;\n        let str = '';\n        while (i < arguments.length) {\n            if ((tmp = arguments[i++])) {\n                if ((x = MDUtils._toVal(tmp))) {\n                    str && (str += ' ');\n                    str += x\n                }\n            }\n        }\n        return str;\n    }\n}\n\nexport default MDUtils;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { AppBar } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport { Grid } from '@material-ui/core';\nimport { Toolbar } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport LinkIcon from '@material-ui/icons/Link';\n\nimport Router from '@iobroker/adapter-react/Components/Router';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Loader from '@iobroker/adapter-react/Components/Loader';\n\nimport Markdown from '../components/Markdown';\n\nconst styles = {\n    root: {\n        height: '100%'\n    },\n    scroll: {\n        height: '100%',\n        overflowY: 'auto',\n        '& img': {\n            maxWidth: '100%'\n        },\n        fontSize: 14,\n    }\n};\n\nclass AdapterInfoDialog extends Component {\n\n    constructor(props) {\n\n        super(props);\n\n        const uri = `https://www.iobroker.net/${I18n.getLanguage()}/adapterref/iobroker.${props.adapter}/README.md`;\n        //this.props.link.replace('https://github.com', 'https://raw.githubusercontent.com').replace('blob/', '');\n        const uriGithub = this.props.link.replace('https://github.com', 'https://raw.githubusercontent.com').replace('blob/', '');\n        const rawUri = uriGithub.replace('blob/', '').substring(0, uriGithub.lastIndexOf('/') + 1);\n\n        this.state = {\n            tab: 0,\n            readme: '',\n            uri,\n            rawUri\n        };\n\n        this.t = props.t;\n    }\n\n    async componentDidMount() {\n        try {\n            const data = await fetch(this.state.uri);\n            let readme = await data.text();\n            /*const lines = readme.split('\\n');\n            if (lines[0].trim() === '---') {\n                let i = 1;\n                while(lines[i] !== '---') i++;\n                lines.splice(0, i + 1);\n                readme = lines.join('\\n');\n                lines.unshift(`![Logo](admin/${this.props.adapter}.png)`);\n                lines.unshift('# ioBroker.' + this.props.adapter);\n                lines.unshift('');\n            }\n            const split = this.splitReadMe(readme);*/\n            readme = readme.replace(/\\(([-\\w]+)\\/adapterref\\//g, '(https://www.iobroker.net/$1/adapterref/');\n            /*readme = readme.replace(/\\(en\\/adapterref\\//g, '(https://www.iobroker.net/en/adapterref/');\n            readme = readme.replace(/\\(de\\/adapterref\\//g, '(https://www.iobroker.net/de/adapterref/');\n            readme = readme.replace(/\\(zh-cn\\/adapterref\\//g, '(https://www.iobroker.net/zh-cn/adapterref/');\n            readme = readme.replace(/\\(zh-cn\\/adapterref\\//g, '(https://www.iobroker.net/zh-cn/adapterref/');*/\n            readme = readme.replace(/src=\"([-\\w]+)\\/adapterref\\//g, 'src=\"https://www.iobroker.net/zh-cn/adapterref/');\n\n            this.setState({text: readme});\n        } catch(error) {\n            window.alert(error);\n        }\n    }\n\n    trimArr(lines) {\n\n        let j = lines.length - 1;\n\n        while (j >= 0 && !lines[j]) {\n            j--;\n        }\n\n        if (j !== lines.length - 1) {\n            lines.splice(j + 1);\n        }\n\n        return lines;\n    }\n\n    splitReadMe(html, link) {\n\n        const result = {logo: '', readme: [], changelog: [], license: []};\n        let lines = html.trim().split(/\\r\\n|\\n/);\n\n        // second line is main title\n        if (lines[2].match(/^#\\sio/)) {\n            lines.splice(2, 1);\n        }\n\n        if (lines[1].match(/^#\\sio/)) {\n            lines.splice(1, 1);\n        }\n        // first line is logo\n        if (lines[0].match(/!\\[[-_\\w\\d]*]\\([-._\\w\\d/]+\\.png\\)/)) {\n            result.logo = link + lines[0].match(/\\((.+)\\)/)[1];\n            lines.splice(0, 1);\n        }\n\n        let part = 'readme';\n\n        for (let i = 0; i < lines.length; i++) {\n\n            if (lines[i].match(/^====/)) {\n                continue;\n            }\n\n            if (lines[i].match(/^###?\\s+Changelog/)) {\n                part = 'changelog';\n                continue;\n\n            } else if (lines[i].match(/^###?\\s+License/)) {\n                part = 'license';\n                continue;\n            } else if (lines[i].match(/^##?\\s+.+/)) {\n                part = 'readme';\n            }\n\n            if (!result[part].length && !lines[i]) {\n                continue;\n            }\n\n            result[part].push(lines[i]);\n        }\n\n\n\n        if (result.logo) {\n           // that.$divLogo.html('<img src=\"' + result.logo + '\" />').show();\n        } else {\n           // that.$divLogo.html('').hide();\n        }\n\n        this.trimArr(result.readme);\n        this.trimArr(result.changelog);\n        this.trimArr(result.license);\n\n        if (result.readme.length) {\n            result.readme = result.readme.join('\\n');\n        } else {\n            result.readme = '';\n        }\n        if (result.changelog.length) {\n            result.changelog = result.changelog.join('\\n');\n        } else {\n            delete result.changelog;\n        }\n        if (result.license.length) {\n            result.license[0] = '## ' + result.license[0];\n            result.license = result.license.join('\\n');\n        } else {\n            delete result.license;\n        }\n\n        return result;\n    }\n\n    changeTab(event, newValue) {\n        this.setState({\n            tab: newValue\n        });\n    }\n\n    openTab(path) {\n        const tab = window.open(path, '_blank');\n        tab.focus();\n    }\n\n    closeDialog() {\n        Router.doNavigate('tab-adapters');\n    }\n\n    transformUri(uri) {\n        return (uri && uri.startsWith('http') ? '' : this.state.rawUri) + uri;\n    }\n\n    render() {\n        if (!this.state.text) {\n            return <Loader theme={this.props.theme}/>;\n        }\n        const { classes } = this.props;\n        //const { tab } = this.state;\n\n        return <Grid\n            item\n            container\n            direction=\"column\"\n            wrap=\"nowrap\"\n            className={ classes.root }\n        >\n            {/*<AppBar color=\"default\" position=\"static\">\n                <Tabs value={ this.state.tab } onChange={ (event, newValue) => this.changeTab(event, newValue) }>\n                    <Tab label=\"README\" disabled={ !this.state.readme }/>\n                    <Tab label=\"Changelog\" disabled={ !this.state.changelog }/>\n                    <Tab label=\"License\" disabled={ !this.state.license }/>\n                </Tabs>\n            </AppBar>\n            <Box p={ 3 } className={ classes.scroll }>\n                <ReactMarkdown\n                    source={ this.state[tab === 1 ? 'changelog' : tab === 2 ? 'license' : 'readme'] }\n                    linkTarget=\"_blank\"\n                    transformLinkUri={ (uri) => this.transformUri(uri) }\n                    transformImageUri={ (uri) => this.transformUri(uri) }\n                    escapeHtml={ false }\n                />\n            </Box>*/}\n            <Markdown className={ classes.scroll }\n                text={this.state.text}\n                language={I18n.getLanguage()}\n                theme={this.props.theme}\n                themeName={this.props.themeName}\n                themeType={this.props.themeType}\n                mobile={this.props.mobile}\n                editMode={false}\n                socket={this.props.socket}\n                adapter={this.props.adapter}\n                //                https://github.com/ioBroker/ioBroker.admin/blob/master/README.md =>\n                // https://raw.githubusercontent.com/ioBroker/ioBroker.admin/master/README.md\n                link={this.props.link.replace('https://github.com/', 'https://raw.githubusercontent.com/').replace('/blob/', '/')}\n                //onNavigate={(language, tab, page, chapter) => this.onNavigate(language, tab, page, chapter)}\n            />\n            <AppBar  color=\"default\" position=\"static\">\n                <Toolbar>\n                    <Grid container spacing={ 1 }>\n                        <Grid item>\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={ () => this.openTab(this.props.link) }\n                                startIcon={<LinkIcon />}\n                            >\n                                { this.t('Open original') }\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Button\n                                variant=\"contained\"\n                                color=\"default\"\n                                onClick={ () => this.closeDialog() }\n                                startIcon={<CloseIcon />}\n                            >\n                                { this.t('Close') }\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </Toolbar>\n            </AppBar>\n        </Grid>;\n    }\n}\n\nAdapterInfoDialog.propTypes = {\n    adapter: PropTypes.string,\n    link: PropTypes.string,\n    t: PropTypes.func,\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default withStyles(styles)(AdapterInfoDialog);","import React, { Component } from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst styles = theme => ({\n    formControl: {\n        marginTop: theme.spacing(3)\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n    paper: {\n        //minWidth: 600\n    },\n    typography: {\n        paddingRight: 30\n    }\n});\n\nclass AddInstanceDialog extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            instanceNumbers: []\n        }\n        this.t = props.t;\n    }\n\n    componentDidMount() {\n        this.props.instancesWorker.getInstances()\n            .then(instances => {\n                const instanceNumbers = Object.keys(instances)\n                    .filter(id => instances[id]?.common?.name === this.props.adapter)\n                    .map(id => id.substring(id.lastIndexOf('.') + 1));\n\n                this.setState({instanceNumbers});\n            });\n    }\n\n    getHosts() {\n        return this.props.hosts.map(host => {\n            return <MenuItem value={host.common.name} key={host._id}>{host.common.name}</MenuItem>\n        });\n    }\n\n    getAvailableInstances() {\n        const result = [];\n        result.push(<MenuItem value=\"auto\" key=\"auto\">{this.t('auto')}</MenuItem>);\n\n        for (let i = 0; i <= 10; i++) {\n            if (!this.state.instanceNumbers.includes(i)) {\n                result.push(<MenuItem value={`${i}`} key={i}>{i}</MenuItem>);\n            }\n        }\n\n        return result;\n    }\n\n    checkDependencies = (dependencies = this.props.dependencies) => {\n        if (!dependencies) {\n            return '';\n        }\n        let array = []\n        for (let adapter of dependencies) {\n            if (!adapter.installedVersion) {\n                array.push(this.props.t('No version of %s', adapter.name));\n            } else if (!adapter.rightVersion) {\n                array.push(`${this.props.t('Invalid version of %s. Required %s. Current ', adapter.name, adapter.version)}${adapter.installedVersion}`);\n            }\n        }\n        return array.length ? array.map(el => <div key={el}>{el}</div>) : '';\n    }\n\n    render() {\n\n        const { classes } = this.props;\n\n        const checkDeps = this.checkDependencies();\n\n        return (\n            <Dialog\n                onClose={this.props.onClose}\n                open={this.props.open}\n                classes={{ paper: classes.paper }}\n            >\n                <DialogTitle disableTypography={true}>\n                    <Typography component=\"h2\" variant=\"h6\" classes={{ root: classes.typography }}>\n                        {this.t('You are going to add new instance: ')} {this.props.adapter}\n                        <IconButton className={classes.closeButton} onClick={this.props.onClose}>\n                            <CloseIcon />\n                        </IconButton>\n                    </Typography>\n                </DialogTitle>\n                <DialogContent dividers>\n                    {!checkDeps ? <Grid\n                        container\n                        direction=\"column\"\n                    >\n                        <FormControl\n                            disabled={(this.props.hosts && this.props.hosts.length <= 1)}\n                        >\n                            <InputLabel id=\"host-label\">{this.t('Host')}</InputLabel>\n                            <Select\n                                labelId=\"host-label\"\n                                value={this.props.currentHost}\n                                onChange={this.props.onHostChange}\n                            >\n                                {this.getHosts()}\n                            </Select>\n                        </FormControl>\n                        <FormControl\n                            className={classes.formControl}\n                        >\n                            <InputLabel id=\"instance-label\">{this.t('Instance')}</InputLabel>\n                            <Select\n                                labelId=\"instance-label\"\n                                value={this.props.currentInstance}\n                                onChange={this.props.onInstanceChange}\n                            >\n                                {this.getAvailableInstances()}\n                            </Select>\n                        </FormControl>\n                    </Grid> : null}\n                    <div style={{\n                        margin: 10,\n                        fontSize: 16,\n                        color: '#840101'\n                    }}>{checkDeps}</div>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        autoFocus\n                        disabled={!!checkDeps}\n                        onClick={() => {\n                            this.props.onClick();\n                            this.props.onClose();\n                        }}\n                        color=\"primary\"\n                        startIcon={<AddIcon/>}\n                    >\n                        {this.t('Add')}\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => this.props.onClose()}\n                        color=\"default\"\n                        startIcon={<CloseIcon />}\n                    >\n                        {this.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nAddInstanceDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    adapter: PropTypes.string.isRequired,\n    hosts: PropTypes.array.isRequired,\n    instancesWorker: PropTypes.object.isRequired,\n    currentHost: PropTypes.string.isRequired,\n    currentInstance: PropTypes.string.isRequired,\n    t: PropTypes.func.isRequired,\n    onClick: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onHostChange: PropTypes.func.isRequired,\n    onInstanceChange: PropTypes.func.isRequired\n}\n\nexport default withStyles(styles)(AddInstanceDialog);","import React, { Component } from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport {\n    Avatar,\n    CardMedia,\n    Grid,\n    IconButton,\n    TableCell,\n    TableRow,\n    Tooltip,\n    Typography\n} from '@material-ui/core';\nimport { Rating } from '@material-ui/lab';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport AddToPhotosIcon from '@material-ui/icons/AddToPhotos';\nimport BuildIcon from '@material-ui/icons/RotateRight';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport HelpIcon from '@material-ui/icons/Help';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport sentryIcon from '../../assets/sentry.svg';\n\nimport {\n    amber,\n    blue,\n    green,\n    red\n} from '@material-ui/core/colors';\n\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport IsVisible from \"../IsVisible\";\n\n\nconst styles = theme => ({\n    smallAvatar: {\n        width: theme.spacing(4),\n        height: theme.spacing(4)\n    },\n    paddingNone: {\n        padding: '0 !important'\n    },\n    hidden: {\n        visibility: 'hidden'\n    },\n    name: {\n        flexWrap: 'nowrap',\n        width: 300\n    },\n    nameDiv: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    categoryName: {\n        fontWeight: 'bold',\n        cursor: 'pointer',\n    },\n    green: {\n        color: green[500]\n    },\n    blue: {\n        color: blue[700]\n    },\n    category: {\n        backgroundColor: theme.palette.background.default,\n    },\n    updateAvailable: {\n        color: green[700]\n    },\n    wrongDependencies: {\n        color: red[700]\n    },\n    grow: {\n        flexGrow: 1\n    },\n    displayNone: {\n        display: 'none'\n    },\n    sentryIcon: {\n        fontSize: '1.2rem'\n    },\n    versionWarn: {\n        color: amber[500]\n    },\n    buttonUpdate: {\n        border: '1px solid',\n        padding: '0px 7px',\n        borderRadius: 5,\n        display: 'flex',\n        alignItems: 'center',\n        cursor: 'pointer',\n        transition: 'background 0.5s',\n        '&:hover': {\n            background: '#00800026'\n        }\n    },\n    buttonUpdateIcon: {\n        height: 20,\n        width: 20,\n        marginRight: 10\n    },\n    classPoll: {\n        color: 'orange'\n    },\n    classPush: {\n        color: 'green'\n    },\n    classAssumption: {\n        color: 'red',\n        transform: 'rotate(90deg)'\n    },\n    marginLeft5: {\n        marginLeft: 5\n    },\n    marginRight5: {\n        marginRight: 5\n    },\n    flex: {\n        display: 'flex'\n    },\n    sentry: {\n        width: 21,\n        height: 21,\n        marginTop: 3,\n        objectFit: 'fill',\n        filter: 'invert(0%) sepia(90%) saturate(1267%) hue-rotate(-260deg) brightness(99%) contrast(97%)'\n    },\n    rating: {\n        cursor: 'pointer',\n        height: 18\n    },\n    nameCell: {\n        paddingTop: '0 !important',\n        paddingBottom: '0 !important',\n    }\n});\n\nclass AdapterRow extends Component {\n    renderVersion() {\n        const {\n            classes,\n            enabledCount,\n            installedCount,\n            installedFrom,\n            installedVersion,\n            t\n        } = this.props;\n\n        return <Grid\n            container\n            wrap=\"nowrap\"\n            alignItems=\"center\"\n            spacing={1}\n        >\n\n            <Grid item>\n                {installedVersion +\n                    (installedCount ? ` (${installedCount}${installedCount !== enabledCount ? '~' : ''})` : '')\n                }\n            </Grid>\n            {installedFrom &&\n                <Grid item container>\n                    <Tooltip title={t('Non-NPM-Version: ') + installedFrom}>\n                        <GitHubIcon\n                            fontSize=\"small\"\n                            className={classes.versionWarn}\n                        />\n                    </Tooltip>\n                </Grid>\n            }\n        </Grid>;\n    }\n\n    render() {\n        const isCategory = this.props.category;\n\n        const {\n            classes,\n            connectionType,\n            installedCount,\n            installedVersion,\n            updateAvailable,\n            commandRunning,\n            name,\n            rightDependencies,\n            rightOs,\n            sentry,\n            categoryName,\n            openInstallVersionDialog,\n            dataSource,\n            descHidden,\n            adapter,\n            versionDate,\n            onSetRating,\n            rating\n        } = this.props;\n\n        if (isCategory) {\n            return <TableRow\n                hover={false}\n                className={clsx(classes.category, this.props.hidden && classes.displayNone)}\n            >\n                <TableCell>\n                    <Grid container spacing={1} alignItems=\"center\" className={classes.name}>\n                        <Grid item>\n                            <IconButton\n                                size=\"small\"\n                                onClick={this.props.onToggle}\n                            >\n                                {this.props.expanded ? <ExpandMoreIcon /> : <ChevronRightIcon />}\n                            </IconButton>\n                        </Grid>\n                    </Grid>\n                </TableCell>\n                <TableCell onClick={this.props.onToggle}>\n                    <div className={clsx(classes.nameDiv, classes.categoryName)}>\n                        <MaterialDynamicIcon objIconBool iconName={categoryName} className={classes.marginRight5} />\n                        {name}\n                    </div>\n                </TableCell>\n                <TableCell colSpan={descHidden ? 5 : 6}>\n                    <Typography component=\"span\" variant=\"body2\" className={classes.green}>\n                        {installedCount}\n                    </Typography>\n                    {` ${this.props.t('of')} `}\n                    <Typography component=\"span\" variant=\"body2\" className={classes.blue}>\n                        {this.props.count}\n                    </Typography>\n                    {` ${this.props.t('Adapters from this Group installed')}`}\n                </TableCell>\n            </TableRow>;\n        } else {\n            return <TableRow\n                hover={true}\n                className={this.props.hidden ? classes.displayNone : ''}\n            >\n                <TableCell />\n                <TableCell>\n                    <Grid container spacing={1} alignItems=\"center\" className={classes.name}>\n                        <Grid item className={classes.paddingNone}>\n                            <Avatar\n                                variant=\"square\"\n                                alt={name}\n                                src={this.props.image}\n                                className={classes.smallAvatar}\n                            />\n                        </Grid>\n                        {this.props.allowAdapterRating !== false ?\n                            <Grid item className={classes.nameCell}>\n                                <div>{name}</div>\n                                {!versionDate ? <div\n                                    onClick={onSetRating ? () => onSetRating() : undefined}\n                                    className={clsx(classes.rating, onSetRating && classes.ratingSet)}\n                                    title={rating?.title}\n                                >\n                                    <Rating\n                                        name={adapter}\n                                        precision={0.5}\n                                        size=\"small\"\n                                        readOnly\n                                        value={rating?.rating ? rating.rating.r : 0}\n                                    />\n                                </div> : null}\n                            </Grid>\n                            :\n                            <Grid item>{name}</Grid>\n                        }\n                    </Grid>\n                </TableCell>\n                {!descHidden && <TableCell title={this.props.description}>{this.props.description}</TableCell>}\n                <TableCell>\n                    <div className={classes.flex}>\n                        {connectionType === 'cloud' ?\n                            <Tooltip title={this.props.t('Adapter requires the specific cloud access for these devices/service')}><CloudIcon /></Tooltip> :\n                            (connectionType === 'local' ?\n                                <Tooltip title={this.props.t('Adapter does not use the cloud for these devices/service')}><CloudOffIcon /></Tooltip> : null)\n                        }\n                        {dataSource && <div className={classes.marginLeft5}>{(\n                            dataSource === 'poll' ?\n                                <Tooltip title={this.props.t('The device or service will be periodically asked')}>\n                                    <ArrowUpwardIcon className={classes.classPoll} />\n                                </Tooltip> :\n                                dataSource === 'push' ?\n                                    <Tooltip title={this.props.t('The device or service delivers the new state actively')}>\n                                        <ArrowDownwardIcon className={classes.classPush} />\n                                    </Tooltip> :\n                                    dataSource === 'assumption' ?\n                                        <Tooltip title={this.props.t('Adapter cannot request the exactly device status and the status will be guessed on the last sent command')}>\n                                            <RemoveIcon className={classes.classAssumption} /></Tooltip> : null\n                        )}\n                        </div>}\n                        {sentry && <div className={classes.marginLeft5}>\n                            <Tooltip title=\"sentry\">\n                                <CardMedia\n                                    className={classes.sentry}\n                                    component=\"img\"\n                                    image={sentryIcon}\n                                />\n                            </Tooltip>\n                        </div>}\n                    </div>\n                </TableCell>\n                <TableCell>{installedVersion && this.renderVersion()}</TableCell>\n                <TableCell className={clsx({\n                    [classes.updateAvailable]: updateAvailable && rightDependencies,\n                    [classes.wrongDependencies]: !rightDependencies\n                })}>\n                    <IsVisible value={this.props.allowAdapterUpdate}>\n                        <Grid\n                            container\n                            alignItems=\"center\"\n                        >\n                            {!commandRunning && updateAvailable ?\n                                <Tooltip title={this.props.t('Update')}>\n                                    <div\n                                        onClick={this.props.onUpdate}\n                                        className={classes.buttonUpdate}>\n                                        <IconButton\n                                            className={classes.buttonUpdateIcon}\n                                            size=\"small\"\n                                        >\n                                            <RefreshIcon />\n                                        </IconButton>{this.props.version}\n                                    </div>\n                                </Tooltip>\n                                :\n                                this.props.version\n                            }\n                        </Grid>\n                    </IsVisible>\n                </TableCell>\n                <TableCell>{this.props.license}</TableCell>\n                <TableCell>\n                    <IsVisible value={this.props.allowAdapterInstall}>\n                        <Tooltip title={this.props.t('Add instance')}>\n                            <IconButton\n                                size=\"small\"\n                                className={!rightOs ? classes.hidden : ''}\n                                onClick={rightOs ? this.props.onAddInstance : null}\n                            >\n                                <AddIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </IsVisible>\n                    <IsVisible value={this.props.allowAdapterReadme}>\n                        <Tooltip title={this.props.t('Readme')}>\n                            <IconButton\n                                size=\"small\"\n                                onClick={this.props.onInfo}\n                            >\n                                <HelpIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </IsVisible>\n                    {this.props.expertMode &&\n                        <Tooltip title={this.props.t('Upload')}>\n                            <IconButton\n                                size=\"small\"\n                                disabled={commandRunning}\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={this.props.onUpload}\n                            >\n                                <PublishIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                    <IsVisible value={this.props.allowAdapterDelete}>\n                        <Tooltip title={this.props.t('Delete adapter')}>\n                            <IconButton\n                                size=\"small\"\n                                disabled={commandRunning}\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={this.props.onDeletion}\n                            >\n                                <DeleteForeverIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </IsVisible>\n                    {this.props.expertMode && this.props.allowAdapterUpdate !== false &&\n                        <Tooltip title={this.props.t('Install a specific version')}>\n                            <IconButton\n                                size=\"small\"\n                                disabled={commandRunning}\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={openInstallVersionDialog}\n                            >\n                                <AddToPhotosIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                    {this.props.rebuild && this.props.expertMode &&\n                        <Tooltip title={this.props.t('Rebuild')}>\n                            <IconButton\n                                size=\"small\"\n                                disabled={commandRunning}\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={this.props.onRebuild}\n                            >\n                                <BuildIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                </TableCell>\n            </TableRow>;\n        }\n    }\n}\n\nAdapterRow.propTypes = {\n    category: PropTypes.bool,\n    connectionType: PropTypes.string,\n    count: PropTypes.number,\n    description: PropTypes.string,\n    enabledCount: PropTypes.number,\n    expanded: PropTypes.bool,\n    expertMode: PropTypes.bool,\n    hidden: PropTypes.bool,\n    image: PropTypes.string,\n    installedCount: PropTypes.number,\n    installedFrom: PropTypes.string,\n    installedVersion: PropTypes.string,\n    keywords: PropTypes.array,\n    name: PropTypes.string,\n    license: PropTypes.string,\n    onAddInstance: PropTypes.func,\n    onDeletion: PropTypes.func,\n    onRebuild: PropTypes.func,\n    onToggle: PropTypes.func,\n    onUpdate: PropTypes.func,\n    onUpload: PropTypes.func,\n    rebuild: PropTypes.bool,\n    rightDependencies: PropTypes.bool,\n    rightOs: PropTypes.bool,\n    sentry: PropTypes.bool,\n    t: PropTypes.func,\n    descHidden: PropTypes.bool,\n    updateAvailable: PropTypes.bool,\n    version: PropTypes.string,\n    commandRunning: PropTypes.bool,\n    rating: PropTypes.object,\n    onSetRating: PropTypes.func,\n};\n\nexport default withStyles(styles)(AdapterRow);","import React, { useState } from 'react';\nimport { Card, CardContent, CardMedia, Fab, IconButton, Tooltip, Typography } from \"@material-ui/core\";\nimport { withStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\n\nimport Rating from '@material-ui/lab/Rating';\n\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddToPhotosIcon from '@material-ui/icons/AddToPhotos';\nimport BuildIcon from '@material-ui/icons/RotateRight';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport HelpIcon from '@material-ui/icons/Help';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { amber } from '@material-ui/core/colors';\nimport sentryIcon from '../../assets/sentry.svg';\nimport IsVisible from \"../IsVisible\";\n\nconst boxShadow = '0 2px 2px 0 rgba(0, 0, 0, .14),0 3px 1px -2px rgba(0, 0, 0, .12),0 1px 5px 0 rgba(0, 0, 0, .2)';\nconst boxShadowHover = '0 8px 17px 0 rgba(0, 0, 0, .2),0 6px 20px 0 rgba(0, 0, 0, .19)';\n\nconst styles = theme => ({\n    root: {\n        position: 'relative',\n        margin: 10,\n        width: 300,\n        minHeight: 200,\n        background: theme.palette.background.default,\n        boxShadow,\n        display: 'flex',\n        flexDirection: 'column',\n        transition: 'box-shadow 0.5s',\n        '&:hover': {\n            boxShadow: boxShadowHover\n        }\n    },\n    imageBlock: {\n        background: theme.palette.type === 'dark' ? '#848484' : '#c0c0c0',\n        minHeight: 60,\n        display: 'flex',\n        padding: '0 10px 0 10px',\n        position: 'relative',\n        justifyContent: 'space-between',\n        color: '#000'\n    },\n    img: {\n        width: 45,\n        height: 45,\n        margin: 'auto 0',\n        position: 'relative',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            zIndex: 2,\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'url(\"img/no-image.png\") 100% 100% no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: '#fff',\n        }\n    },\n    installed: {\n        background: '#77c7ff8c'\n    },\n    update: {\n        background: '#10ff006b'\n    },\n    fab: {\n        position: 'absolute',\n        bottom: -20,\n        width: 40,\n        height: 40,\n        right: 20,\n    },\n    greenText: {\n        color: theme.palette.success.dark,\n    },\n    collapse: {\n        height: '100%',\n        backgroundColor: 'silver',\n        position: 'absolute',\n        width: '100%',\n        zIndex: 3,\n        marginTop: 'auto',\n        bottom: 0,\n        transition: 'height 0.3s',\n        justifyContent: 'space-between',\n        display: 'flex',\n        flexDirection: 'column'\n    },\n    collapseOff: {\n        height: 0\n    },\n    close: {\n        width: '20px',\n        height: '20px',\n        opacity: '0.9',\n        cursor: 'pointer',\n        position: 'relative',\n        marginLeft: 'auto',\n        marginBottom: 10,\n        transition: 'all 0.6s ease',\n        '&:hover': {\n            transform: 'rotate(90deg)'\n        },\n        '&:before': {\n            position: 'absolute',\n            left: '9px',\n            content: '\"\"',\n            height: '20px',\n            width: '3px',\n            backgroundColor: 'rgba(0, 0, 0, 0.54)',\n            transform: 'rotate(45deg)'\n        },\n        '&:after': {\n            position: 'absolute',\n            left: '9px',\n            content: '\"\"',\n            height: '20px',\n            width: '3px',\n            backgroundColor: 'rgba(0, 0, 0, 0.54)',\n            transform: 'rotate(-45deg)'\n        },\n    },\n    footerBlock: {\n        background: theme.palette.background.default,\n        padding: 10,\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    hidden: {\n        display: 'none'\n    },\n    buttonUpdate: {\n        border: '1px solid',\n        padding: '0px 7px',\n        borderRadius: 5,\n        display: 'flex',\n        alignItems: 'center',\n        cursor: 'pointer',\n        transition: 'background 0.5s',\n        '&:hover': {\n            background: '#00800026'\n        }\n    },\n    versionDate: {\n        alignSelf: 'center'\n    },\n    adapter: {\n        width: '100%',\n        fontWeight: 'bold',\n        fontSize: 16,\n        verticalAlign: 'middle',\n        paddingLeft: 8,\n        paddingTop: 16,\n        color: theme.palette.type === 'dark' ? '#333' : '#333'\n    },\n    adapterWithAgo: {\n        width: 'calc(100% - 145px)',\n    },\n    description: {\n        color: theme.palette.type === 'dark' ? '#222' : 'inherit'\n    },\n\n    cardContent: {\n        overflow: 'auto'\n    },\n    cardContentDiv: {\n        position: 'sticky',\n        right: 0,\n        top: 0,\n        background: 'silver'\n    },\n    cardContentFlex: {\n        display: 'flex'\n    },\n    cardContentFlexBetween: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    cardContent2: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between'\n    },\n    cardMargin10: {\n        marginTop: 10,\n    },\n    availableVersion: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    buttonUpdateIcon: {\n        height: 20,\n        width: 20,\n        marginRight: 10\n    },\n    curdContentFlexCenter: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n\n    classPoll: {\n        color: 'orange'\n    },\n    classPush: {\n        color: 'green'\n    },\n    classAssumption: {\n        color: 'red',\n        transform: 'rotate(90deg)'\n    },\n    marginLeft5: {\n        marginLeft: 5\n    },\n    rating: {\n        marginTop: 20,\n    },\n    ratingSet: {\n        cursor: 'pointer'\n    },\n    versionWarn: {\n        color: amber[500],\n        marginRight:5\n    },\n    sentry: {\n        width: 21,\n        height: 21,\n        objectFit: 'fill',\n        marginTop: 3,\n        filter: 'invert(0%) sepia(90%) saturate(1267%) hue-rotate(-260deg) brightness(99%) contrast(97%)'\n    },\n});\nconst AdapterTile = ({\n    name,\n    classes,\n    image,\n    version,\n    installedVersion,\n    installedCount,\n    updateAvailable,\n    onUpdate,\n    description,\n    rightOs,\n    onAddInstance,\n    onInfo,\n    expertMode,\n    onUpload,\n    onDeletion,\n    rebuild,\n    onRebuild,\n    hidden,\n    stat,\n    versionDate,\n    adapter,\n    isCategory,\n    connectionType,\n    openInstallVersionDialog,\n    dataSource,\n    t,\n    commandRunning,\n    rating,\n    onSetRating,\n    installedFrom,\n    sentry,\n    allowAdapterInstall,\n    allowAdapterReadme,\n    allowAdapterDelete,\n    allowAdapterUpdate,\n    allowAdapterRating\n}) => {\n    const [openCollapse, setCollapse] = useState(false);\n    const [focused, setFocused] = useState(false);\n\n    return <Card className={clsx(classes.root, hidden ? classes.hidden : '')}>\n        {(openCollapse || focused) && <div className={clsx(classes.collapse, !openCollapse ? classes.collapseOff : '')}>\n            <CardContent className={classes.cardContent}>\n                <div className={classes.cardContentDiv}>\n                    <div className={classes.close} onClick={() => setCollapse((bool) => !bool)} />\n                </div>\n                <Typography gutterBottom component={'span'} variant={'body2'} className={classes.description}>\n                    {description}\n                </Typography>\n            </CardContent>\n            <div className={classes.footerBlock}>\n                <IsVisible value={allowAdapterInstall}>\n                    <Tooltip title={t('Add instance')}>\n                        <IconButton\n                            size=\"small\"\n                            disabled={commandRunning}\n                            className={!rightOs ? classes.hidden : ''}\n                            onClick={rightOs ? onAddInstance : null}\n                        >\n                            <AddIcon />\n                        </IconButton>\n                    </Tooltip>\n                </IsVisible>\n                <div className={classes.cardContentFlex}>\n                    <IsVisible value={allowAdapterReadme}>\n                        <Tooltip title={t('Readme')}>\n                            <IconButton\n                                size=\"small\"\n                                onClick={onInfo}\n                            >\n                                <HelpIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </IsVisible>\n                    {expertMode &&\n                        <Tooltip title={t('Upload')}>\n                            <IconButton\n                                size=\"small\"\n                                disabled={commandRunning}\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={onUpload}\n                            >\n                                <PublishIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                    <IsVisible value={allowAdapterDelete}>\n                        <Tooltip title={t('Delete adapter')}>\n                            <IconButton\n                                size=\"small\"\n                                disabled={commandRunning}\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={onDeletion}\n                            >\n                                <DeleteForeverIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </IsVisible>\n                    {expertMode && allowAdapterUpdate !== false &&\n                        <Tooltip title={t('Install a specific version')}>\n                            <IconButton\n                                disabled={commandRunning}\n                                size=\"small\"\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={openInstallVersionDialog}\n                            >\n                                <AddToPhotosIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                    {rebuild && expertMode &&\n                        <Tooltip title={t('Rebuild')}>\n                            <IconButton\n                                disabled={commandRunning}\n                                size=\"small\"\n                                className={!installedVersion ? classes.hidden : ''}\n                                onClick={onRebuild}\n                            >\n                                <BuildIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                </div>\n            </div>\n        </div>}\n        <div className={clsx(classes.imageBlock,\n            installedVersion ? classes.installed : '',\n            installedVersion && installedVersion !== version && updateAvailable ? classes.update : '')}\n        >\n            <CardMedia\n                className={classes.img}\n                component=\"img\"\n                image={image || 'img/no-image.png'}\n            />\n            <div className={clsx(classes.adapter, (stat || versionDate) && classes.adapterWithAgo)}>{adapter}</div>\n            <div className={classes.versionDate}>{stat || versionDate}</div>\n            {!stat && !versionDate && allowAdapterRating !== false ? <div\n                onClick={onSetRating ? () => onSetRating() : undefined}\n                className={clsx(classes.rating, onSetRating && classes.ratingSet)}\n                title={rating?.title}\n            >\n                <Rating\n                    name={adapter}\n                    precision={0.5}\n                    size=\"small\"\n                    readOnly\n                    value={rating?.rating ? rating.rating.r : 0}\n                />\n            </div> : null}\n            <Tooltip title={t('Info')}>\n                <Fab\n                    onMouseOut={() => setFocused(false)}\n                    onMouseOver={() => setFocused(true)}\n                    onClick={() => setCollapse((bool) => !bool)} className={classes.fab} color=\"primary\" aria-label=\"add\">\n                    <MoreVertIcon />\n                </Fab>\n            </Tooltip>\n        </div>\n        <CardContent className={classes.cardContent2}>\n            <Typography gutterBottom variant=\"h5\" component=\"h5\">{name}</Typography>\n            <div className={classes.cardContentFlex}>\n                {!isCategory &&\n                    (connectionType === 'cloud' ?\n                        <Tooltip title={t('Adapter requires the specific cloud access for these devices/service')}><CloudIcon /></Tooltip> :\n                        connectionType === 'local' ?\n                            <Tooltip title={t('Adapter does not use the cloud for these devices/service')}><CloudOffIcon /></Tooltip> : '')\n                }\n                {\n                    dataSource && <div className={classes.marginLeft5}>{(\n                        dataSource === 'poll' ?\n                            <Tooltip title={t('The device or service will be periodically asked')}>\n                                <ArrowUpwardIcon className={classes.classPoll} />\n                            </Tooltip> :\n                            dataSource === 'push' ?\n                                <Tooltip title={t('The device or service delivers the new state actively')}>\n                                    <ArrowDownwardIcon className={classes.classPush} />\n                                </Tooltip> :\n                                dataSource === 'assumption' ?\n                                    <Tooltip title={t('Adapter cannot request the exactly device status and the status will be guessed on the last sent command')}>\n                                        <RemoveIcon className={classes.classAssumption} /></Tooltip> : null\n                    )}</div>\n                }\n                {sentry && <div className={classes.marginLeft5}>\n                    <Tooltip title=\"sentry\">\n                        <CardMedia\n                            className={classes.sentry}\n                            component=\"img\"\n                            image={sentryIcon}\n                        />\n                    </Tooltip>\n                </div>}\n            </div>\n            <div className={classes.cardMargin10}>\n                {!!installedCount && <Typography component={'span'} className={classes.cardContentFlexBetween}>\n                    <div>{t('Installed instances')}:</div>\n                    <div>{installedCount}</div>\n                </Typography>}\n                <IsVisible value={allowAdapterUpdate}>\n                    <Typography component={'span'} className={classes.availableVersion}>\n                        <div>{t('Available version:')}</div>\n                        <div className={clsx(updateAvailable && classes.greenText, classes.curdContentFlexCenter)} >\n                            {!commandRunning && updateAvailable ?\n\n                                <Tooltip title={t('Update')}>\n                                    <div onClick={onUpdate} className={classes.buttonUpdate}><IconButton\n                                        className={classes.buttonUpdateIcon}\n                                        size=\"small\"\n                                    >\n                                        <RefreshIcon />\n                                    </IconButton>{version}</div>\n                                </Tooltip> :\n                                version\n                            }</div>\n                    </Typography>\n                </IsVisible>\n                {installedVersion && <Typography component={'span'} className={classes.cardContentFlexBetween}>\n                    <div>{t('Installed version')}:</div>\n                    <div className={classes.cardContentFlex}>{installedFrom &&\n                    <Tooltip title={t('Non-NPM-Version: ') + installedFrom}>\n                        <GitHubIcon\n                            fontSize=\"small\"\n                            className={classes.versionWarn}\n                        />\n                    </Tooltip>\n                }{installedVersion}</div>\n                </Typography>}\n            </div>\n        </CardContent>\n    </Card>;\n}\n\nAdapterTile.propTypes = {\n    commandRunning: PropTypes.bool,\n    rating: PropTypes.object,\n    onSetRating: PropTypes.func,\n};\n\nexport default withStyles(styles)(AdapterTile);","import React, { useCallback, useState } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { Autocomplete } from '@material-ui/lab';\nimport { AppBar, Box, Checkbox, FormControlLabel, IconButton, InputAdornment, makeStyles, Tab, Tabs, TextField } from '@material-ui/core';\n\nimport npmIcon from '../assets/npm.png';\nimport { FaGithub as GithubIcon } from 'react-icons/fa';\nimport UrlIcon from '@material-ui/icons/Language';\nimport SmsIcon from '@material-ui/icons/Sms';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Icon from '@iobroker/adapter-react/Components/Icon';\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return <div\n        role=\"tabpanel\"\n        hidden={value !== index}\n        id={`full-width-tabpanel-${index}`}\n        aria-labelledby={`full-width-tab-${index}`}\n        {...other}\n    >\n        {value === index && <Box style={{ paddingTop: 10 }} p={3}>\n            <Typography component=\"div\">{children}</Typography>\n        </Box>}\n    </div>;\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n    return {\n        id: `full-width-tab-${index}`,\n        'aria-controls': `full-width-tabpanel-${index}`,\n    };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        height: '100%'\n    },\n    paper: {\n        maxWidth: 1000\n    },\n    tabPaper: {\n        padding: theme.spacing(2)\n    },\n    title: {\n        marginTop: 10,\n        padding: theme.spacing(1),\n        marginLeft: theme.spacing(1),\n        fontSize: 18,\n        color: theme.palette.primary.main\n    },\n    warningText: {\n        color: '#f53939'\n    },\n    noteText: {\n        marginTop: theme.spacing(2),\n    },\n    errorTextNoGit: {\n        fontSize: 13,\n        color: '#ff1616'\n    },\n    listIcon: {\n        width: 24,\n        height: 24,\n    },\n    listIconWithMargin: {\n        width: 24,\n        height: 24,\n        marginRight: 8,\n    }\n}));\n\n// some older browsers do not have flat\nif (!Array.prototype.flat) {\n    // eslint-disable-next-line\n    Object.defineProperty(Array.prototype, 'flat', {\n        configurable: true,\n        value: function flat() {\n            const depth = isNaN(arguments[0]) ? 1 : Number(arguments[0]);\n\n            return depth ? Array.prototype.reduce.call(this, function (acc, cur) {\n                if (Array.isArray(cur)) {\n                    acc.push.apply(acc, flat.call(cur, depth - 1));\n                } else {\n                    acc.push(cur);\n                }\n\n                return acc;\n            }, []) : Array.prototype.slice.call(this);\n        },\n        writable: true\n    });\n}\n\nconst GitHubInstallDialog = ({ categories, repository, onClose, open, installFromUrl, t }) => {\n    t = t || I18n.t;\n\n    const classes = useStyles();\n    const [autocompleteValue, setAutocompleteValue] = useState(null);\n    const [debug, setDebug] = useState(window.localStorage.getItem('App.gitDebug') === 'true');\n    const [url, setUrl] = useState('');\n    const [currentTab, setCurrentTab] = useState(window.localStorage.getItem('App.gitTab') || 'npm');\n\n    // eslint-disable-next-line array-callback-return\n    const list = useCallback(() =>\n        categories\n            .map(category => category.adapters)\n            .sort()\n            .flat()\n            .map(el => {\n                const adapter = repository[el]\n                if (!adapter?.controller) {\n                    const parts = (adapter.extIcon || adapter.meta || adapter.readme || '').toString().split('/');\n                    return {\n                        value: el + '/' + parts[3],\n                        name: `${adapter?.name} [${parts[3]}]`,\n                        icon: adapter.extIcon,\n                        nogit: !!adapter.nogit\n                    };\n                } else {\n                    return null;\n                }\n            })\n            .filter(it => it)\n            .sort((a, b) => a.name < b.name ? -1 : a.name > b.name ? 1 : 0),\n        [categories, repository]);\n\n    const closeInit = () => {\n        setAutocompleteValue(null);\n        setUrl('');\n    };\n\n    return <Dialog\n        onClose={onClose}\n        open={open}\n        classes={{ paper: classes.paper }}\n    >\n        <DialogContent dividers>\n            <div className={classes.root}>\n                <AppBar position=\"static\" color=\"default\">\n                    <Tabs\n                        value={currentTab}\n                        onChange={(e, newTab) => {\n                            window.localStorage.setItem('App.gitTab', newTab);\n                            setCurrentTab(newTab);\n                        }}\n                        variant=\"fullWidth\"\n                    >\n                        <Tab label={t('From npm')} wrapped icon={<img src={npmIcon} alt=\"npm\" width={24} height={24} />} {...a11yProps(0)} value=\"npm\" />\n                        <Tab label={t('From github')} wrapped icon={<GithubIcon style={{ width: 24, height: 24 }} width={24} height={24} />} {...a11yProps(0)} value=\"GitHub\" />\n                        <Tab label={t('Custom')} wrapped icon={<UrlIcon width={24} height={24} />} {...a11yProps(1)} value=\"URL\" />\n                    </Tabs>\n                </AppBar>\n                <div className={classes.title}>{t('Install or update the adapter from %s', currentTab || 'npm')}\n                </div>\n                {currentTab === 'npm' ? <Paper className={classes.tabPaper}>\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={debug}\n                                    onChange={e => {\n                                        window.localStorage.setItem('App.gitDebug', e.target.checked ? 'true' : 'false');\n                                        setDebug(e.target.checked);\n                                    }} />}\n                            label={t('Debug outputs')}\n                        />\n                    </div>\n                    <div style={{ display: 'flex', alignItems: 'flex-end' }}>\n                        <SmsIcon style={{ marginRight: 10 }} />\n                        <Autocomplete\n                            fullWidth\n                            value={autocompleteValue}\n                            getOptionSelected={(option, value) => option.name === value.name}\n                            onChange={(_, e) => setAutocompleteValue(e)}\n                            options={list()}\n                            getOptionLabel={option => option.name}\n                            renderInput={params => {\n                                const _params = {...params};\n                                _params.InputProps = _params.InputProps || {};\n                                _params.InputProps.startAdornment = <InputAdornment position=\"start\">\n                                    <Icon src={autocompleteValue && autocompleteValue.icon} className={classes.listIcon}/>\n                                </InputAdornment>;\n\n                                return <TextField\n                                    {...params}\n                                    label={I18n.t('Select adapter')}\n                                />;\n                            }}\n                            renderTags={options => options.map(option =>\n                                <>\n                                    <Icon src={options.icon} className={classes.listIconWithMargin}/>\n                                    {option.name}\n                                </>)\n                            }\n                            renderOption={option => <>\n                                <Icon src={option.icon}  className={classes.listIconWithMargin}/>\n                                {option.name}\n                            </>}\n                        />\n                    </div>\n                    <div style={{\n                        fontSize: 24,\n                        fontWeight: 'bold',\n                        marginTop: 40\n                    }}>{t('Warning!')}</div>\n                    <div className={classes.warningText}>\n                        {t('github_warning', 'NPM', 'NPM')}\n                    </div>\n                    <div className={classes.noteText} >\n                        {t('github_note')}\n                    </div>\n                </Paper> : null}\n                {currentTab === 'GitHub' ? <Paper className={classes.tabPaper}>\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={debug}\n                                    onChange={(e) => setDebug(e.target.checked)} />}\n                            label={t('Debug outputs')}\n                        />\n                    </div>\n                    <div style={{ display: 'flex', alignItems: 'flex-end' }}>\n                        <SmsIcon style={{ marginRight: 10 }} />\n                        <Autocomplete\n                            fullWidth\n                            value={autocompleteValue}\n                            getOptionSelected={(option, value) => option.name === value.name}\n                            getOptionDisabled={option => option.nogit}\n                            renderOption={option => <div>\n                                <Icon src={option.icon}  className={classes.listIcon}/>\n                                {option.name}\n                                {option.nogit && <div className={classes.errorTextNoGit}>{I18n.t('This adapter cannot be installed from git as must be built before installation.')}</div>}\n                            </div>}\n                            onChange={(_, e) => setAutocompleteValue(e)}\n                            options={list()}\n                            getOptionLabel={option => option.name}\n                            renderInput={params => {\n                                const _params = {...params};\n                                _params.InputProps = _params.InputProps || {};\n                                _params.InputProps.startAdornment = <InputAdornment position=\"start\">\n                                    <Icon src={autocompleteValue && autocompleteValue.icon} className={classes.listIconWithMargin}/>\n                                </InputAdornment>;\n\n                                return <TextField\n                                    {...params}\n                                    label={I18n.t('Select adapter')}\n                                />;\n                            }}\n                            renderTags={options => options.map(option =>\n                                <>\n                                    <Icon src={options.icon} className={classes.listIconWithMargin}/>\n                                    {option.name}\n                                </>)\n                            }\n                        />\n                    </div>\n                    <div style={{\n                        fontSize: 24,\n                        fontWeight: 'bold',\n                        marginTop: 40\n                    }}>{t('Warning!')}</div>\n                    <div className={classes.warningText}>\n                        {t('github_warning', 'GitHub', 'GitHub')}\n                    </div>\n                    <div className={classes.noteText} >\n                        {t('github_note')}\n                    </div>\n                </Paper> : null}\n                {currentTab === 'URL' ? <Paper className={classes.tabPaper}>\n                    <div style={{ display: 'flex', alignItems: 'center' }}>\n                        <TextField\n                            fullWidth\n                            label={t('URL')}\n                            helperText={t('URL or file path')}\n                            value={url}\n                            onChange={event => setUrl(event.target.value)}\n                            InputProps={{\n                                endAdornment: url ? <InputAdornment position=\"end\">\n                                    <IconButton\n                                        size=\"small\"\n                                        onClick={() => setUrl('')}\n                                    >\n                                        <CloseIcon />\n                                    </IconButton>\n                                </InputAdornment> : null\n                            }}\n                        />\n                    </div>\n                    <div style={{\n                        display: 'flex',\n                        alignItems: 'center'\n                    }}>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={debug}\n                                    onChange={(e) => setDebug(e.target.checked)} />}\n                            label={t('Debug outputs')}\n                        />\n                    </div>\n                    <div style={{\n                        fontSize: 24,\n                        fontWeight: 'bold',\n                        marginTop: 40\n                    }}>{t('Warning!')}</div>\n                    <div className={classes.warningText}>\n                        {t('github_warning', 'URL', 'URL')}\n                    </div>\n                    <div className={classes.noteText} >\n                        {t('github_note')}\n                    </div>\n                </Paper> : null}\n            </div>\n        </DialogContent>\n        <DialogActions>\n            <Button\n                variant=\"contained\"\n                disabled={((currentTab === 'GitHub' || currentTab === 'npm') && !autocompleteValue) || (currentTab === 'URL' && !url)}\n                autoFocus\n                onClick={() => {\n                    if (currentTab === 'GitHub') {\n                        const parts = autocompleteValue.value.split('/');\n                        //const _url = 'https://github.com/' + parts[1] + '/ioBroker.' + parts[0] + '/tarball/master';\n                        const _url = `${parts[1]}/ioBroker.${parts[0]}`;\n                        installFromUrl(_url, debug, true);\n                    } else if (currentTab === 'URL') {\n                        if (!url.includes('.')) {\n                            installFromUrl('iobroker.' + url, debug, true);\n                        } else {\n                            installFromUrl(url, debug, true);\n                        }\n                    } else if (currentTab === 'npm') {\n                        const parts = autocompleteValue.value.split('/');\n                        if (!parts[0].includes('.')) {\n                            installFromUrl('iobroker.' + parts[0], debug, true);\n                        } else {\n                            installFromUrl(parts[0], debug, true);\n                        }\n                    }\n                    onClose();\n                    closeInit();\n                }}\n                color=\"primary\"\n                startIcon={<CheckIcon/>}\n            >\n                {t('Install')}\n            </Button>\n            <Button\n                variant=\"contained\"\n                onClick={() => {\n                    onClose();\n                    closeInit();\n                }}\n                color=\"default\"\n                startIcon={<CloseIcon />}\n            >\n                {t('Close')}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}\n\nexport default GitHubInstallDialog;","import React, {Component} from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport semver from 'semver';\nimport clsx from 'clsx';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport {Avatar, CircularProgress} from '@material-ui/core';\n\nconst styles = theme => ({\n    smallAvatar: {\n        width: theme.spacing(3),\n        height: theme.spacing(3)\n    },\n    listItem: {\n        marginBottom: 2,\n        background: theme.palette.background\n    },\n    toVersion: {\n        color: '#008100',\n        fontWeight: 'bold',\n    },\n    updateDone: {\n        background: '#5ef05e80',\n        opacity: 0.7,\n    },\n    '@media screen and (max-width: 400px)': {\n        minWidth:{\n            minWidth:32\n        },\n        listItem:{\n            paddingLeft:2\n        }\n    },\n});\n\nclass AdaptersUpdater extends Component {\n    constructor(props) {\n        super(props);\n\n        this.updateAvailable = this.detectUpdates();\n\n        this.state = {\n            current: this.props.current\n        };\n\n        this.currentRef = React.createRef();\n\n        this.props.onUpdateSelected([...this.updateAvailable], this.updateAvailable);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.current !== this.state.current) {\n            this.setState({current: nextProps.current});\n            setTimeout(() =>\n                this.currentRef.current?.scrollIntoView(), 200);\n        }\n    }\n\n    static isUpdateAvailable(oldVersion, newVersion) {\n        try {\n            return semver.gt(newVersion, oldVersion) === true;\n        } catch (e) {\n            console.warn(`Cannot compare \"${newVersion}\" and \"${oldVersion}\"`);\n            return false;\n        }\n    }\n\n    detectUpdates() {\n        const updateAvailable = [];\n        Object.keys(this.props.repository).forEach(adapter => {\n            const _installed = this.props.installed[adapter];\n            // ignore js-controller in this dialog\n            if (adapter === 'js-controller' || adapter === 'admin') {\n                return;\n            }\n            if (_installed &&\n                _installed.ignoreVersion !== this.props.repository[adapter].version &&\n                AdaptersUpdater.isUpdateAvailable(_installed.version, this.props.repository[adapter].version)\n            ) {\n                updateAvailable.push(adapter);\n            }\n        });\n\n        updateAvailable.sort();\n\n        return updateAvailable;\n    }\n\n    getNews(value) {\n        const adapter   = this.props.repository[value];\n        const installed = this.props.installed[value];\n        const news = [];\n\n        if (installed && adapter && adapter.news) {\n            Object.keys(adapter.news).forEach(version => {\n                try {\n                    if (semver.gt(version, installed.version)) {\n                        news.push({\n                            version: version,\n                            news: adapter.news[version][this.props.lang] || adapter.news[version].en\n                        });\n                    }\n                } catch (e) {\n                    // ignore it\n                    console.warn(`Cannot compare \"${version}\" and \"${installed.version}\"`);\n                }\n            });\n        }\n\n        return news;\n    }\n\n    renderOneAdapter(adapter) {\n        const image = this.props.installed[adapter].localIcon;\n        const checked = this.props.selected.includes(adapter);\n        if ((this.props.finished || this.props.inProcess) && !checked) {\n            return null;\n        }\n\n        return <React.Fragment key={adapter}>\n            <ListItem\n                key={adapter}\n                dense\n                classes={{root: clsx(this.props.classes.listItem, this.props.updated.includes(adapter) && this.props.classes.updateDone)}}\n                ref={this.state.current === adapter && this.currentRef}\n            >\n                <ListItemIcon className={this.props.classes.minWidth}>\n                    <Avatar\n                        variant=\"square\"\n                        alt={adapter}\n                        src={image}\n                        className={this.props.classes.smallAvatar}\n                    />\n                </ListItemIcon>\n                <ListItemText\n                    primary={adapter}\n                    title={this.getNews(adapter).map(item => item.version + ': ' + item.news).join('\\n')}\n                    secondary={<span>{this.props.installed[adapter].version} → <span className={this.props.classes.toVersion}>{this.props.repository[adapter].version}</span></span>}\n                />\n                {!this.props.finished && !this.props.inProcess && <ListItemSecondaryAction>\n                    <Checkbox\n                        edge=\"end\"\n                        checked={checked}\n                        tabIndex={-1}\n                        disableRipple\n                        disabled={this.props.inProcess}\n                        onClick={() => {\n                            const selected = [...this.props.selected];\n                            const pos = selected.indexOf(adapter);\n                            if (pos !== -1) {\n                                selected.splice(pos, 1);\n                            } else {\n                                selected.push(adapter);\n                                selected.sort();\n                            }\n                            this.props.onUpdateSelected(selected);\n                        }}\n                    />\n                </ListItemSecondaryAction>}\n                {this.state.current === adapter && !this.props.stoppedOnError && !this.props.finished && <ListItemSecondaryAction>\n                    <CircularProgress/>\n                </ListItemSecondaryAction>}\n            </ListItem>\n\n        </React.Fragment>;\n    }\n\n    render() {\n        return <List className={this.props.classes.root}>\n            {this.updateAvailable.map(adapter => this.renderOneAdapter(adapter))}\n        </List>;\n    }\n}\n\nAdaptersUpdater.propTypes = {\n    inProcess: PropTypes.bool.isRequired,\n    lang: PropTypes.string.isRequired,\n    t: PropTypes.func.isRequired,\n    stoppedOnError: PropTypes.bool.isRequired,\n    socket: PropTypes.object.isRequired,\n    repository: PropTypes.object.isRequired,\n    installed: PropTypes.object.isRequired,\n    onUpdateSelected: PropTypes.func.isRequired,\n    selected: PropTypes.array.isRequired,\n    current: PropTypes.string.isRequired,\n    updated: PropTypes.array.isRequired,\n    finished: PropTypes.bool.isRequired,\n}\n\nexport default withStyles(styles)(AdaptersUpdater);\n","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Grid from '@material-ui/core/Grid';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { Tooltip } from '@material-ui/core';\n\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport AdaptersUpdater from '../components/Adapters/AdaptersUpdater';\nimport Command from '../components/Command';\n\nconst styles = theme => {\n    return ({\n        dialogRoot: {\n            height: 'calc(100% - 64px)',\n        },\n        wrapperHead: {\n            justifyContent: 'space-between',\n            display: 'flex'\n        },\n        checkbox: {\n            marginRight: 10\n        },\n        appBar: {\n            flexWrap: 'wrap',\n            position: 'sticky',\n            bottom: -10,\n            background: theme.name === \"blue\" ? '#3e454a' : theme.name === \"dark\" ? '#3b3b3b' : 'white'\n        },\n        container:{\n            overflow: 'hidden',\n            height: 'calc(100% - 48px)'\n        },\n        '@media screen and (max-width: 602px)': {\n            container: {\n                height: 'auto'\n            }\n        },\n        '@media screen and (max-width: 500px)': {\n            content: {\n                padding: 8\n            }\n        },\n    })\n};\n\nclass AdaptersUpdaterDialog extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            selected: [],\n            inProcess: false,\n            finished: false,\n            current: '',\n            updated: [],\n            stoppedOnError: false,\n            debug: window.localStorage.getItem('AdaptersUpdaterDialog.debug') === 'true',\n            stopOnError: window.localStorage.getItem('AdaptersUpdaterDialog.stopOnError') !== 'false',\n            closeOnFinished: window.localStorage.getItem('AdaptersUpdaterDialog.closeOnFinished') === 'true',\n        };\n\n        this.updateAvailable = [];\n    }\n\n    updateAdapter(adapter, version, cb) {\n        this.onAdapterFinished = cb;\n        this.setState({ current: adapter, currentVersion: version });\n    }\n\n    onStartUpdate() {\n        this.setState({ inProcess: true }, () => {\n            this.props.onSetCommandRunning(true);\n            this.processList = [...this.state.selected];\n            this.processList = this.processList.map(adapter => ({adapter, version: this.props.repository[adapter]?.version}));\n\n            this.updateAdapters(() => {\n                this.setState({ inProcess: false, finished: true }, () => {\n                    this.props.onSetCommandRunning(false);\n                    if (this.state.closeOnFinished) {\n                        this.props.onClose(!!this.state.updated.length);\n                    } else {\n                        // update adapters and so on\n                    }\n                });\n            });\n        });\n    }\n\n    updateAdapters(cb) {\n        if (!this.processList || !this.processList.length) {\n            cb && cb();\n        } else {\n            const {adapter, version} = this.processList.shift();\n\n            this.updateAdapter(adapter, version, () => {\n                const updated = [...this.state.updated];\n                updated.push(adapter);\n                this.setState({ updated }, () =>\n                    setTimeout(() => this.updateAdapters(cb), 200));\n            });\n        }\n    }\n\n    render() {\n        return <Dialog\n            open={true}\n            maxWidth=\"lg\"\n            fullWidth={!!this.state.current}\n            onClose={() => this.props.onClose(!!this.state.updated.length)}\n            aria-labelledby=\"update-dialog-title\"\n            aria-describedby=\"update-dialog-description\"\n            classes={{ paper: this.props.classes.dialogRoot }}\n            scroll=\"paper\"\n        >\n            <DialogTitle id=\"update-dialog-title\">\n                <div className={this.props.classes.wrapperHead}>\n                    {this.props.t('Update %s adapter(s)', this.state.selected.length)}\n                    {!this.state.finished && !this.state.inProcess && <Tooltip title={this.props.t('Select/Unselect all')}><Checkbox\n                        checked={this.state.selected.length === this.updateAvailable.length}\n                        className={this.props.classes.checkbox}\n                        tabIndex={-1}\n                        indeterminate={this.state.selected.length !== this.updateAvailable.length && this.state.selected.length !== 0}\n                        disableRipple\n                        onClick={() => {\n                            let selected = [];\n                            if (this.state.selected.length !== this.updateAvailable.length) {\n                                selected = [...this.updateAvailable];\n                            }\n                            this.setState({ selected });\n                        }}\n                    /></Tooltip>}\n                </div>\n            </DialogTitle>\n            <DialogContent classes={{ root: this.props.classes.content }} style={{ height: '100%' }}>\n                <Grid container direction=\"row\" className={this.props.classes.container}>\n                    <Grid item style={{ height: '100%', overflow: 'hidden', width: this.state.current ? 250 : '100%' }}>\n                        <div style={{ height: '100%', overflow: 'auto' }}>\n                            <AdaptersUpdater\n                                t={this.props.t}\n                                finished={this.state.finished}\n                                inProcess={this.state.inProcess}\n                                selected={this.state.selected}\n                                current={this.state.current}\n                                stoppedOnError={this.state.stoppedOnError}\n                                updated={this.state.updated}\n                                lang={this.props.lang}\n                                socket={this.props.socket}\n                                installed={this.props.installed}\n                                repository={this.props.repository}\n                                onUpdateSelected={(selected, updateAvailable) => {\n                                    if (updateAvailable) {\n                                        this.updateAvailable = updateAvailable;\n                                    }\n                                    this.setState({ selected });\n                                }} />\n                        </div>\n                    </Grid>\n                    {!!this.state.current && <Grid item style={{ height: '100%', overflow: 'hidden', width: 'calc(100% - 260px)', minWidth: 240 }}>\n                        <Command\n                            noSpacing={true}\n                            key={this.state.current}\n                            ready={true}\n                            currentHost={this.props.currentHost}\n                            socket={this.props.socket}\n                            t={this.props.t}\n                            cmd={'upgrade ' + this.state.current + '@' + this.state.currentVersion + (this.state.debug ? ' --debug' : '')}\n                            onFinished={() => this.onAdapterFinished()}\n                            errorFunc={() => {\n                                if (this.state.stopOnError) {\n                                    this.setState({ stoppedOnError: true, finished: true });\n                                    this.onAdapterFinished = null;\n                                    this.props.onSetCommandRunning(false);\n                                } else {\n                                    this.onAdapterFinished();\n                                }\n                            }}\n                        />\n                    </Grid>}\n                </Grid>\n                <Toolbar variant=\"dense\" disableGutters className={this.props.classes.appBar}>\n                    <FormControlLabel\n                        control={<Checkbox\n                            disabled={this.state.finished}\n                            checked={this.state.stopOnError}\n                            onChange={() => {\n                                window.localStorage.setItem('AdaptersUpdaterDialog.stopOnError', this.state.stopOnError ? 'false' : 'true');\n                                this.setState({ stopOnError: !this.state.stopOnError });\n                            }}\n                        />}\n                        label={this.props.t('Stop on error')}\n                    />\n                    <FormControlLabel\n                        control={<Checkbox\n                            disabled={this.state.finished}\n                            checked={this.state.closeOnFinished}\n                            onChange={() => {\n                                window.localStorage.setItem('AdaptersUpdaterDialog.closeOnFinished', this.state.closeOnFinished ? 'false' : 'true');\n                                this.setState({ closeOnFinished: !this.state.closeOnFinished });\n                            }} />}\n                        label={this.props.t('Close on finished')}\n                    />\n                    <FormControlLabel\n                        control={<Checkbox\n                            disabled={this.state.finished || this.state.inProcess}\n                            checked={this.state.debug}\n                            onChange={() => {\n                                window.localStorage.setItem('AdaptersUpdaterDialog.debug', this.state.debug ? 'false' : 'true');\n                                this.setState({ debug: !this.state.debug });\n                            }} />}\n                        label={this.props.t('Debug info')}\n                    />\n                </Toolbar>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    disabled={this.state.stoppedOnError || this.state.inProcess || this.state.finished || !this.state.selected.length}\n                    onClick={() => this.onStartUpdate()}\n                    color=\"primary\"\n                    autoFocus\n                    startIcon={<CheckIcon/>}\n                >\n                    {this.props.t('Update')}\n                </Button>\n                <Button variant=\"contained\" onClick={() => this.props.onClose(!!this.state.updated.length)} disabled={this.state.inProcess}\n                        startIcon={<CloseIcon />}>\n                    {this.props.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nAdaptersUpdaterDialog.propTypes = {\n    currentHost: PropTypes.string.isRequired,\n    lang: PropTypes.string.isRequired,\n    t: PropTypes.func.isRequired,\n    socket: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    repository: PropTypes.object.isRequired,\n    installed: PropTypes.object.isRequired,\n    onSetCommandRunning: PropTypes.func.isRequired,\n}\n\nexport default withStyles(styles)(AdaptersUpdaterDialog);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Rating from '@material-ui/lab/Rating';\nimport { Button, TextField } from '@material-ui/core';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport VoteIcon from '@material-ui/icons/HowToVote';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = theme => ({\n    rating: {\n        marginBottom: 20,\n    },\n    listRating: {\n        marginRight: theme.spacing(1),\n    },\n    listTime: {\n        opacity: 0.5,\n        fontStyle: 'italic',\n    },\n    list: {\n        //maxHeight: 200,\n    },\n    listOwn: {\n        backgroundColor: theme.name === 'colored' || theme.name === 'light' ? '#16516e2e' : theme.palette.secondary.dark\n    },\n    listTitle: {\n        backgroundColor: theme.palette.primary.dark,\n        paddingTop: 4,\n        paddingBottom: 4,\n        marginBottom: 4,\n        color: '#ffffff',\n        textAlign: 'center'\n    },\n    languageFilter: {\n        width: 300,\n    },\n    ratingTextControl: {\n        width: 'calc(100% - 138px)',\n        marginRight: 8,\n    },\n    ratingLanguageControl: {\n        width: 130,\n    },\n    noComments: {\n        width: '100%',\n        textAlign: 'center',\n        marginTop: theme.spacing(2)\n    },\n    commentCount: {\n        marginTop: 2,\n        marginLeft: theme.spacing(1),\n        opacity: 0.8,\n        fontSize: 10,\n        float: 'right'\n    }\n});\n\nconst LANGUAGES = [\n    {\n        id: 'en',\n        title: 'English'\n    },\n    {\n        id: 'de',\n        title: 'Deutsch'\n    },\n    {\n        id: 'ru',\n        title: 'русский'\n    },\n    {\n        id: 'pt',\n        title: 'Portugues'\n    },\n    {\n        id: 'nl',\n        title: 'Nederlands'\n    },\n    {\n        id: 'fr',\n        title: 'français'\n    },\n    {\n        id: 'it',\n        title: 'Italiano'\n    },\n    {\n        id: 'es',\n        title: 'Espanol'\n    },\n    {\n        id: 'pl',\n        title: 'Polski'\n    },\n    {\n        id: 'zh-ch',\n        title: '简体中文'\n    }\n];\n\nclass RatingDialog extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ratingNumber: 0,\n            ratingComment: '',\n            votings: null,\n            ratingLang: this.props.lang,\n            filterLang: window.localStorage.getItem('app.commentLang') || this.props.lang,\n            commentsByLanguage: {},\n        };\n    }\n\n    componentDidMount() {\n        fetch('https://rating.iobroker.net/adapter/' + this.props.adapter + '?uuid=' + this.props.uuid)\n            .then(res => res.json())\n            .then(votings => {\n                votings = votings || {};\n                votings.rating = votings.rating || {};\n                const versions = Object.keys(votings.rating);\n                versions.sort((a, b) => votings.rating[a].ts > votings.rating[b].ts ? -1 : (votings.rating[a].ts < votings.rating[b].ts ? 1 : 0));\n                const commentsByLanguage = {};\n\n                if (votings.comments) {\n                    votings.comments.sort((a, b) => a.ts > b.ts ? -1 : (a.ts < b.ts ? 1 : 0));\n\n                    votings.comments.forEach(comment => {\n                        commentsByLanguage[comment.lang] = commentsByLanguage[comment.lang] || 0;\n                        commentsByLanguage[comment.lang]++;\n                    });\n                }\n\n                if (versions.length) {\n                    const item = votings.rating[versions[0]];\n                    this.setState({ votings, ratingNumber: item ? item.r : 0, commentsByLanguage});\n                } else {\n                    this.setState({ votings, commentsByLanguage });\n                }\n            });\n    }\n\n    setAdapterRating(adapter, version, rating, comment, lang) {\n        return fetch('https://rating.iobroker.net/vote', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            redirect: 'follow',\n            body: JSON.stringify({ uuid: this.props.uuid, adapter, version, rating, comment, lang})\n        })\n            .then(res => res.json())\n            .then(update => {\n                window.alert(this.props.t('Vote:') + ' ' + adapter + '@' + version + '=' + rating);\n                const repository = JSON.parse(JSON.stringify(this.props.repository));\n                repository[adapter].rating = update;\n                return repository;\n            })\n            .catch(e => {\n                window.alert('Cannot vote: ' + e);\n                return null;\n            });\n    }\n\n    renderComments() {\n        if (this.state.votings?.comments && this.state.votings.comments.length) {\n            let found = this.state.votings.comments.find(comment =>\n                !(this.state.filterLang && this.state.filterLang !== '_' && comment.lang !== this.state.filterLang));\n\n            return <div style={{ width: '100%', textAlign: 'left'}}>\n                <h3 className={this.props.classes.listTitle} >{this.props.t('Comments')}</h3>\n                <FormControl className={this.props.classes.languageFilter}>\n                    <InputLabel>{this.props.t('Show comments in language')}</InputLabel>\n                    <Select\n                        value={this.state.filterLang}\n                        onChange={e => {\n                            window.localStorage.setItem('app.commentLang', e.target.value);\n                            this.setState({filterLang: e.target.value})\n                        }}\n                    >\n                        <MenuItem value={'_'}>{this.props.t('All')} <span className={this.props.classes.commentCount}>{this.state.votings.comments.length}</span></MenuItem>\n                        {LANGUAGES.map(item => <MenuItem\n                            key={item.id}\n                            value={item.id}\n                        >{item.title} {this.state.commentsByLanguage[item.id] ? <span className={this.props.classes.commentCount}>{this.state.commentsByLanguage[item.id]}</span> : null}</MenuItem>)}\n                    </Select>\n                </FormControl>\n                <List classes={{ root: this.props.classes.list }} dense disablePadding>\n                    {found && this.state.votings.comments.map((comment, i) => {\n                        if (this.state.filterLang && this.state.filterLang !== '_' && comment.lang !== this.state.filterLang) {\n                            return null;\n                        } else {\n                            return comment ? <ListItem\n                                key={i}\n                                title={comment.uuid ? this.props.t('Your comment') : ''}\n                                classes={{ root: comment.uuid ? this.props.classes.listOwn : undefined }} dense>\n                                <ListItemAvatar classes={{ root: this.props.classes.listRating }}>\n                                    <Rating readOnly defaultValue={comment.rating} size=\"small\" />\n                                </ListItemAvatar>\n                                <ListItemText\n                                    primary={comment.comment}\n                                    secondary={new Date(comment.ts).toLocaleString() + ' / v' + comment.version}\n                                    classes={{ secondary: this.props.classes.listTime }}\n                                />\n                            </ListItem> : null;\n                        }\n                    })}\n                    {!found && <div className={this.props.classes.noComments}>{this.props.t('No comments in selected language')}</div>}\n                </List>\n            </div>\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        let item;\n        let versions;\n        if (this.state.votings) {\n            const votings = this.state.votings.rating;\n            versions = Object.keys(votings);\n            versions.sort((a, b) => votings[a].ts > votings[b].ts ? -1 : (votings[a].ts < votings[b].ts ? 1 : 0));\n            if (versions.length) {\n                item = votings[versions[0]];\n            }\n        }\n\n        return <Dialog\n            open={true}\n            onClose={() => this.props.onClose()}\n        >\n            <DialogTitle>{`${this.props.t('Review')} ${this.props.adapter}${this.props.version ? '@' + this.props.version : ''}`}</DialogTitle>\n            <DialogContent style={{ textAlign: 'center' }} title={(this.props.currentRating && this.props.currentRating.title) || ''}>\n                <Rating\n                    className={this.props.classes.rating}\n                    name={this.props.adapter}\n                    value={this.props.version ? this.state.ratingNumber : this.props.currentRating?.rating && this.props.currentRating.rating.r}\n                    size=\"large\"\n                    readOnly={!this.props.version}\n                    onChange={(event, newValue) =>\n                        this.setState({ ratingNumber: newValue })}\n                />\n                {this.props.version ? <div style={{width: '100%', textAlign: 'left'}}>\n                    <TextField\n                        className={this.props.classes.ratingTextControl}\n                        value={this.state.ratingComment}\n                        label={this.props.t('Comment to version')}\n                        inputProps={{ maxLength: 200 }}\n                        helperText={this.props.t('Max length %s characters', 200)}\n                        onChange={e =>\n                            this.setState({ ratingComment: e.target.value })}\n                    />\n                    <FormControl className={this.props.classes.ratingLanguageControl}>\n                        <InputLabel>{this.props.t('Language')}</InputLabel>\n                        <Select\n                            value={this.state.ratingLang}\n                            onChange={e => this.setState({ratingLang: e.target.value})}\n                        >\n                            {LANGUAGES.map(item => <MenuItem key={item.id} value={item.id}>{item.title}</MenuItem>)}\n                        </Select>\n                    </FormControl>\n                </div> : null}\n                {this.props.version ?\n                    <div style={{ paddingTop: 20, paddingBottom: 16 }}>{this.props.t('Rate how good this version of the adapter works on your system. You can vote for every new version.')}</div>\n                    : null}\n\n                {versions && item ? <div>{this.props.t('You voted for %s on %s', versions[0], new Date(item.ts).toLocaleDateString())}</div> : null}\n                {this.renderComments()}\n            </DialogContent>\n            <DialogActions>\n                {this.props.version && <Button\n                    variant=\"contained\"\n                    autoFocus\n                    color=\"primary\"\n                    disabled={!this.state.ratingNumber || this.state.votings === null}\n                    onClick={() => {\n                        if (this.state.ratingNumber !== item?.r || this.state.ratingComment) {\n                            this.setAdapterRating(this.props.adapter, this.props.version, this.state.ratingNumber, this.state.ratingComment, this.state.ratingLang)\n                                .then(repository => this.props.onClose(repository));\n                        } else {\n                            this.props.onClose();\n                        }\n                    }}\n                    startIcon={<VoteIcon />}\n                >\n                    {this.props.t('Rate')}\n                </Button>}\n                <Button\n                    autoFocus={!this.props.version}\n                    variant=\"contained\"\n                    onClick={() => this.props.onClose()}\n                    color=\"default\"\n                    startIcon={<CloseIcon />}\n                >\n                    {this.props.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nRatingDialog.propTypes = {\n    t: PropTypes.func.isRequired,\n    lang: PropTypes.string.isRequired,\n    uuid: PropTypes.string.isRequired,\n    version: PropTypes.string,\n    currentRating: PropTypes.object,\n    adapter: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n    repository: PropTypes.object,\n};\n\nexport default withStyles(styles)(RatingDialog);\n","/* eslint-disable array-callback-return */\nimport React, { Component, Fragment, createRef } from 'react';\nimport semver from 'semver';\nimport PropTypes from \"prop-types\";\nimport clsx from 'clsx';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {\n    Grid,\n    Button,\n    IconButton,\n    LinearProgress,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    TextField,\n    Tooltip,\n    Typography,\n    InputAdornment,\n    ListItemText,\n    Hidden\n} from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// import CloudOffIcon from '@material-ui/icons/CloudOff';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport FolderOpenIcon from '@material-ui/icons/FolderOpen';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport ListIcon from '@material-ui/icons/List';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport ViewModuleIcon from '@material-ui/icons/ViewModule';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport StarIcon from '@material-ui/icons/Star';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FaGithub as GithubIcon } from 'react-icons/fa';\n\nimport { blue, green } from '@material-ui/core/colors';\n\nimport Router from '@iobroker/adapter-react/Components/Router';\n\nimport AdapterDeletionDialog from '../dialogs/AdapterDeletionDialog';\nimport AdapterInfoDialog from '../dialogs/AdapterInfoDialog';\nimport AdapterUpdateDialog from '../dialogs/AdapterUpdateDialog';\nimport AddInstanceDialog from '../dialogs/AddInstanceDialog';\nimport AdapterRow from '../components/Adapters/AdapterRow';\nimport AdapterTile from '../components/Adapters/AdapterTile';\nimport TabContainer from '../components/TabContainer';\nimport TabContent from '../components/TabContent';\nimport TabHeader from '../components/TabHeader';\nimport CustomSelectButton from '../components/CustomSelectButton';\nimport GitHubInstallDialog from '../dialogs/GitHubInstallDialog';\nimport { licenseDialogFunc } from '../dialogs/LicenseDialog';\nimport CustomModal from '../components/CustomModal';\nimport AdaptersUpdaterDialog from '../dialogs/AdaptersUpdaterDialog';\nimport RatingDialog from '../dialogs/RatingDialog';\nimport SlowConnectionWarningDialog from '../dialogs/SlowConnectionWarningDialog';\nimport IsVisible from '../components/IsVisible';\n\nconst WIDTHS = {\n    emptyBlock: 50,\n    name: 300,\n    connectionType: 65,\n    installed: 120,\n    available: 120,\n    update: 40,\n    license: 80,\n    install: 220,\n};\n\nconst SUM = Object.keys(WIDTHS).reduce((s, i) => s + WIDTHS[i], 0);\n\nconst styles = theme => ({\n    container: {\n        height: '100%',\n        width: '100%',\n    },\n    containerNotFullHeight: {\n        height: 'calc(100% - 22px)',\n    },\n    containerFullHeight: {\n        height: '100%',\n    },\n    smallAvatar: {\n        width: theme.spacing(3),\n        height: theme.spacing(3)\n    },\n    table: {\n        width: '100%',\n        tableLayout: 'fixed',\n        minWidth: 960,\n        '& td': {\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis'\n        }\n    },\n    hidden: {\n        visibility: 'hidden'\n    },\n    name: {\n        flexWrap: 'nowrap',\n        width: WIDTHS.name\n    },\n    emptyBlock: {\n        flexWrap: 'nowrap',\n        width: WIDTHS.emptyBlock\n    },\n    description: {\n        width: `calc(100% - ${SUM}px)`\n    },\n    keywords: {\n\n    },\n    connectionType: {\n        width: WIDTHS.connectionType\n    },\n    installed: {\n        width: WIDTHS.installed\n    },\n    available: {\n        width: WIDTHS.available,\n        paddingRight: 6\n    },\n    update: {\n        width: WIDTHS.update,\n        padding: 0\n    },\n    license: {\n        width: WIDTHS.license\n    },\n    install: {\n        width: WIDTHS.install\n    },\n    green: {\n        color: green[500]\n    },\n    blue: {\n        color: blue[700]\n    },\n    category: {\n        backgroundColor: theme.palette.background.default,\n    },\n    grow: {\n        flexGrow: 1\n    },\n    updateAvailable: {\n        color: green[700]\n    },\n    tabContainer: {\n        overflow: 'auto'\n    },\n    containerVersion: {\n        borderBottom: 0\n    },\n    currentVersion: {\n        display: 'flex',\n        padding: 20,\n        fontSize: 15,\n        borderBottom: '1px solid silver',\n        transition: 'background 0.2s',\n        cursor: 'pointer',\n        '&:hover': {\n            background: '#c0c0c045',\n        }\n    },\n    updateAllButton: {\n        position: 'relative'\n    },\n    updateAllIcon: {\n        position: 'absolute',\n        top: 3,\n        left: 3,\n        opacity: 0.4,\n        color: theme.palette.type === 'dark' ? '#aad5ff' : '#007fff'\n    },\n    counters: {\n        marginRight: 10,\n        minWidth: 120,\n        display: 'flex',\n        '& div': {\n            marginLeft: 3\n        }\n    },\n    visible: {\n        opacity: 0\n    },\n    infoAdapters: {\n        fontSize: 10,\n        color: theme.palette.type === 'dark' ? '#9c9c9c' : '#333',\n        cursor: 'pointer'\n    },\n    greenText: {\n        color: '#00a005d1'\n    },\n    rating: {\n        marginBottom: 20,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    notStableRepo: {\n        background: '#fdee20',\n        color: '#111',\n        fontSize: 14,\n        padding: '2px 8px',\n        borderRadius: 5\n    },\n    viewModeDiv: {\n        display: 'flex',\n        flexFlow: 'wrap',\n        overflow: 'auto',\n        justifyContent: 'center'\n    }\n});\n\nclass Adapters extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            lastUpdate: 0,\n            repository: {},\n            installed: {},\n            adapters: {},\n            instances: {},\n            categories: [],\n            hostData: {},\n            hostOs: '',\n            nodeJsVersion: '',\n            init: false,\n            addInstanceDialog: false,\n            addInstanceError: false,\n            addInstanceAdapter: '',\n            addInstanceId: 'auto',\n            addInstanceHost: '',\n            adapterDeletionDialog: false,\n            adapterDeletionAdapter: null,\n            update: false,\n            dialog: null,\n            dialogProp: null,\n            filterConnectionType: false,\n            search: window.localStorage.getItem('Adapter.search') || '',\n            list: false,\n            viewMode: false,\n            updateList: false,\n            installedList: false,\n            categoriesTiles: 'All',\n            filterTiles: 'A-Z',\n            arrayFilter: [{ name: 'A-Z' }, { name: 'Popular first' }, { name: 'Recently updated' }],\n            gitHubInstallDialog: false,\n            updateAvailable: [],\n            filteredList: null,\n            showUpdater: false,\n            descWidth: 300,\n            showStatistics: false,\n            showSetRating: null,\n            readTimeoutMs: SlowConnectionWarningDialog.getReadTimeoutMs(),\n            showSlowConnectionWarning: false,\n            adapterToUpdate: '',\n            adapterInstallVersion: '',\n        };\n\n        this.rebuildSupported = false;\n        this.inputRef = createRef();\n        this.countRef = createRef();\n\n        this.t = this.translate;\n        this.wordCache = {};\n        this.cache = {};\n        this.listOfVisibleAdapterLength = 0;\n        this.allAdapters = 0;\n        this.installedAdapters = 0;\n        this.recentUpdatedAdapters = 0;\n        this.uuid = '';\n    }\n\n    translate = (word, arg1, arg2) => {\n        if (arg1 !== undefined) {\n            return this.props.t(word, arg1, arg2);\n        }\n\n        if (!this.wordCache[word]) {\n            this.wordCache[word] = this.props.t(word);\n        }\n\n        return this.wordCache[word];\n    }\n\n    renderSlowConnectionWarning() {\n        if (!this.state.showSlowConnectionWarning) {\n            return null;\n        } else {\n            return <SlowConnectionWarningDialog\n                readTimeoutMs={this.state.readTimeoutMs}\n                t={this.t}\n                onClose={readTimeoutMs => {\n                    if (readTimeoutMs) {\n                        this.setState({showSlowConnectionWarning: false, readTimeoutMs}, () =>\n                            this.updateAll());\n                    } else {\n                        this.setState({showSlowConnectionWarning: false});\n                    }\n                }}\n            />;\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.ready) {\n            this.updateAll()\n                .then(() => {\n                    this.state.search && this.filterAdapters();\n                    this.props.adaptersWorker.registerHandler(this.onAdaptersChanged);\n                    this.props.instancesWorker.registerHandler(this.onAdaptersChanged);\n                });\n        }\n    }\n\n    updateAll(update, bigUpdate) {\n        return this.getAdapters(update, bigUpdate)\n            .then(() => this.getAdaptersInfo(update));\n    }\n\n    componentDidUpdate() {\n        const descWidth = this.getDescWidth();\n        if (this.state.descWidth !== descWidth) {\n            this.setState({ descWidth });\n        }\n        if (this.countRef.current) {\n            this.countRef.current.innerHTML = this.listOfVisibleAdapterLength;\n        }\n    }\n\n    componentWillUnmount() {\n        this.updateTimeout && clearTimeout(this.updateTimeout);\n        this.updateTimeout = null;\n        this.props.adaptersWorker.unregisterHandler(this.onAdaptersChanged);\n        this.props.instancesWorker.unregisterHandler(this.onAdaptersChanged);\n    }\n\n    static getDerivedStateFromProps() {\n        const location = Router.getLocation();\n\n        return {\n            dialog: location.dialog,\n            dialogProp: location.id\n        };\n    }\n\n    onAdaptersChanged = events => {\n        this.tempAdapters  = this.tempAdapters  || JSON.parse(JSON.stringify(this.state.adapters  || {}));\n        this.tempInstalled = this.tempInstalled || JSON.parse(JSON.stringify(this.state.installed || {}));\n        this.tempInstances = this.tempInstances || JSON.parse(JSON.stringify(this.state.instances || {}));\n\n        events.forEach(event => {\n            // detect if adapter or instance\n            let isInstance = !!event.id.match(/\\.\\d+$/);\n            if (isInstance) {\n                if (event.type === 'deleted' || !event.obj) {\n                    delete this.tempInstances[event.id];\n                } else {\n                    this.tempInstances[event.id] = {\n                        enabled: event.obj.common.enabled,\n                        icon:    event.obj.common.icon,\n                        name:    event.obj.common.name,\n                    };\n                }\n            } else {\n                if (event.type === 'deleted' || !event.obj) {\n                    // extract name from id\n                    const p = event.id.split('.');\n\n                    // remove from installed\n                    delete this.tempInstalled[p[2]];\n                    delete this.tempAdapters[event.id];\n                } else {\n                    const name = event.obj.common.name;\n                    if (this.tempInstalled[name]) {\n                        // Update attributes\n                        Object.keys(this.tempInstalled[name]).forEach(attr => {\n                            if (event.obj.common[attr] !== undefined && attr !== 'installedFrom') {\n                                this.tempInstalled[name][attr] = event.obj.common[attr];\n                            }\n                        });\n                    } else {\n                        // new\n                        this.tempInstalled[event.id.split('.').pop()] = JSON.parse(JSON.stringify(event.obj.common));\n                    }\n                    this.tempAdapters[event.id] = event.obj;\n                }\n            }\n        });\n\n        this.updateTimeout && clearTimeout(this.updateTimeout);\n        this.updateTimeout = setTimeout(() => {\n            const adapters     = this.tempAdapters;\n            this.tempAdapters  = null;\n            const installed    = this.tempInstalled;\n            this.tempInstalled = null;\n            const instances    = this.tempInstances;\n            this.tempInstances = null;\n\n            this.analyseInstalled(adapters, installed, null,  () =>\n                this.calculateInfo(instances));\n        }, 300);\n    }\n\n    analyseInstalled(adapters, installed, repository, cb) {\n        adapters   = adapters   || this.state.adapters;\n        installed  = installed  || this.state.installed;\n        repository = repository || this.state.repository;\n\n        const updateAvailable = [];\n\n        Object.keys(installed).forEach(value => {\n            if (installed[value]) {\n                const version         = installed[value].version;\n                const repositoryValue = repository[value];\n\n                if (repositoryValue &&\n                    repositoryValue.version !== version &&\n                    Adapters.updateAvailable(version, repositoryValue.version) &&\n                    !updateAvailable.includes(value)\n                ) {\n                    updateAvailable.push(value);\n                }\n            }\n        });\n\n        this.cache.listOfVisibleAdapter = null;\n\n        this.setState({\n            adapters,\n            updateAvailable,\n            installed,\n            repository\n        }, () => cb && cb());\n    }\n\n    getAdapters = (update, bigUpdate) => {\n        console.log('[ADAPTERS] getAdapters');\n        let adapters;\n        let installed;\n        const currentHost = this.props.currentHost;\n\n        return new Promise(resolve => {\n            if (!this.state.update && update) {\n                this.setState({ update: true }, () => resolve());\n            } else {\n                resolve();\n            }\n        })\n            .then(() => this.props.adaptersWorker.getAdapters(update))\n            .catch(e => window.alert('Cannot getAdapters: ' + e))\n            .then(_adapters => {\n                adapters = _adapters;\n                return this.props.socket.getInstalled(currentHost, update, this.state.readTimeoutMs)\n                    .catch(e => {\n                        window.alert('Cannot getInstalled: ' + e);\n                        e.toString().includes('timeout') && this.setState({showSlowConnectionWarning: true});\n                        return null;\n                    });\n            })\n            .then(_installed => {\n                installed = _installed;\n                return this.props.socket.getRepository(currentHost, { repo: this.props.systemConfig.common.activeRepo, update: bigUpdate }, update, this.state.readTimeoutMs)\n                    .catch(e => {\n                        window.alert('Cannot getRepository: ' + e);\n                        e.toString().includes('timeout') && this.setState({showSlowConnectionWarning: true});\n                        return null;\n                    })\n            })\n            .then(repository =>\n                this.analyseInstalled(adapters, installed, repository));\n    }\n\n    getWordVotes(votes) {\n        if (votes === 1) {\n            return this.t('vote');\n        } else if (votes >= 2 && votes <= 4) {\n            return this.t('votes2');\n        } else if (votes >= 5 && votes <= 20) {\n            return this.t('votes');\n        } else {\n            const v = votes % 10;\n            if (v === 1) {\n                return this.t('vote21');\n            } else if (v >= 2 && v <= 4) {\n                return this.t('votes2');\n            } else {\n                return this.t('votes');\n            }\n        }\n    }\n\n    calculateInfo(instances, ratings, hostData) {\n        hostData  = hostData  || this.state.hostData;\n        ratings   = ratings   || this.state.ratings;\n        instances = instances || this.state.instances;\n\n        const adapters = this.state.adapters;\n\n        const installed = JSON.parse(JSON.stringify(this.state.installed));\n        const repository = JSON.parse(JSON.stringify(this.state.repository));\n\n        const nodeJsVersion = (hostData['Node.js'] || '').replace('v', '');\n        const hostOs = hostData.os;\n\n        const categories = {};\n        const categoriesSorted = [];\n        const categoriesExpanded = JSON.parse(window.localStorage.getItem('Adapters.expandedCategories')) || {};\n\n        Object.keys(installed).forEach(value => {\n            const adapter = installed[value];\n            if (adapters[value]?.common?.ignoreVersion) {\n                adapter.ignoreVersion = adapters[value].common.ignoreVersion;\n            }\n\n            if (!adapter.controller && value !== 'hosts') {\n                if (!repository[value]) {\n                    repository[value] = JSON.parse(JSON.stringify(adapter));\n                    repository[value].version = '';\n                }\n            }\n            adapter.count   = 0;\n            adapter.enabled = 0;\n        });\n\n        Object.keys(instances).forEach(id => {\n            const adapterName = instances[id].name;\n            if (installed[adapterName]) {\n                installed[adapterName].count++;\n            }\n        });\n\n        const now = Date.now();\n        this.recentUpdatedAdapters = 0;\n        this.installedAdapters = 0;\n\n        Object.keys(repository).forEach(value => {\n            const adapter = repository[value];\n            if (adapter.keywords) {\n                adapter.keywords = adapter.keywords.map(word => word.toLowerCase());\n            }\n            const _installed = installed[value];\n\n            adapter.rating = ratings && ratings[value];\n\n            if (adapter.rating && adapter.rating.rating) {\n                adapter.rating.title = [\n                    `${this.t('Total rating:')} ${adapter.rating.rating.r} (${adapter.rating.rating.c} ${this.getWordVotes(adapter.rating.rating.c)})`,\n                    (_installed && _installed.version && adapter.rating[_installed.version]) ?\n                        `${this.t('Rating for')} v${_installed.version}: ${adapter.rating[_installed.version].r} (${adapter.rating[_installed.version].c} ${this.getWordVotes(adapter.rating.rating.c)})`\n                        : ''\n                ].filter(i => i).join('\\n');\n            } else {\n                adapter.rating = { title: this.t('No rating or too few data') };\n            }\n\n            if (!adapter.controller) {\n                const type = adapter.type;\n                const installedInGroup = installed[value];\n\n                const daysAgo = Math.round((now - new Date(adapter.versionDate).getTime()) / 86400000);\n\n                if (daysAgo <= 31) {\n                    this.recentUpdatedAdapters++;\n                }\n                if (installed[value]) {\n                    this.installedAdapters++;\n                }\n\n                if (!categories[type]) {\n                    categories[type] = {\n                        name: type,\n                        translation: this.t(type + '_group'),\n                        count: 1,\n                        installed: installedInGroup ? 1 : 0,\n                        adapters: [value]\n                    };\n                } else {\n                    categories[type].count++;\n                    categories[type].adapters.push(value);\n                    if (installedInGroup) {\n                        categories[type].installed++;\n                    }\n                }\n            }\n        });\n\n        Object.keys(categories).sort((a, b) => {\n            if (a === 'general' && b !== 'general') {\n                return -1;\n            } else if (a !== 'general' && b === 'general') {\n                return 1;\n            } else if (a > b) {\n                return 1;\n            } else if (a < b) {\n                return -1;\n            } else {\n                return 0;\n            }\n        }).forEach(value =>\n            categoriesSorted.push(categories[value]));\n\n        const list            = JSON.parse(window.localStorage.getItem('Adapters.list'));\n        const viewMode        = JSON.parse(window.localStorage.getItem('Adapters.viewMode'));\n        const updateList      = JSON.parse(window.localStorage.getItem('Adapters.updateList'));\n        const installedList   = JSON.parse(window.localStorage.getItem('Adapters.installedList'));\n        const categoriesTiles = window.localStorage.getItem('Adapters.categoriesTiles') || 'All';\n        const filterTiles     = window.localStorage.getItem('Adapters.filterTiles') || 'A-Z';\n        this.allAdapters      = Object.keys(repository).length - 1;\n\n        this.cache.listOfVisibleAdapter = null;\n\n        this.setState({\n            repository,\n            installed,\n            ratings,\n            filterTiles,\n            categoriesTiles,\n            installedList,\n            instances,\n            updateList,\n            viewMode,\n            list,\n            lastUpdate: Date.now(),\n            hostData,\n            hostOs,\n            nodeJsVersion,\n            categories: categoriesSorted,\n            categoriesExpanded,\n            init: true,\n            update: false\n        });\n    }\n\n    getAdaptersInfo = update => {\n        if (!this.props.currentHost) {\n            return;\n        }\n\n        // Do not update too often\n        if (Date.now() - this.state.lastUpdate > 1000) {\n            console.log('[ADAPTERS] getAdaptersInfo');\n\n            const currentHost = this.props.currentHost;\n\n            let hostData;\n            let rebuild;\n            let ratings;\n\n            return new Promise(resolve => {\n                if (!this.state.update) {\n                    this.setState({ update: true }, () => resolve());\n                } else {\n                    resolve();\n                }\n            })\n                .then(() => this.props.socket.getHostInfo(currentHost, update, this.state.readTimeoutMs)\n                    .catch(e => {\n                        window.alert(`Cannot getHostInfo for \"${currentHost}\": ${e}`);\n                        e.toString().includes('timeout') && this.setState({showSlowConnectionWarning: true});\n                    })\n                )\n                .then(_hostData => {\n                    hostData = _hostData;\n                    return this.props.socket.checkFeatureSupported('CONTROLLER_NPM_AUTO_REBUILD')\n                        .catch(e => window.alert('Cannot checkFeatureSupported: ' + e))\n                })\n                .then(_rebuild => {\n                    rebuild = _rebuild;\n                    if (this.props.adminGuiConfig.adapters?.allowAdapterRating === false) {\n                        return Promise.resolve({});\n                    }\n\n                    return this.props.socket.getRatings(update)\n                        .catch(e => window.alert('Cannot read ratings: ' + e));\n                })\n                .then(_ratings => {\n                    ratings = _ratings;\n                    return this.props.socket.getCompactInstances(update)\n                        .catch(e => {\n                            window.alert('Cannot read countsOfInstances: ' + e);\n                            return {};\n                        });\n                })\n                .then(instances => {\n                    // simulation\n                    // setTimeout(() => this.setState({showSlowConnectionWarning: true}), 5000);\n\n                    this.uuid = ratings?.uuid || null;\n                    this.rebuildSupported = rebuild || false;\n                    this.calculateInfo(instances, ratings, hostData);\n                });\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    async addInstance(adapter, instance, debug = false, customUrl = false) {\n        if (!instance && this.props.expertMode && !customUrl) {\n            this.setState({\n                addInstanceDialog: true,\n                addInstanceAdapter: adapter,\n                addInstanceHost: this.props.currentHost.replace(/^system\\.adapter\\./, '')\n            });\n        } else {\n            if (instance && !customUrl) {\n                const instances = this.props.instancesWorker.getInstances();\n                // if the instance already exists\n                if (instances[`system.adapter.${adapter}.${instance}`]) {\n                    return this.setState({ addInstanceError: true });\n                }\n            }\n            this.props.executeCommand(`${customUrl ? 'url' : 'add'} ${adapter} ${instance ? instance + ' ' : ''}--host ${this.props.currentHost.replace(/^system\\.host\\./, '')} ${debug ? '--debug' : ''}`, true);\n        }\n    }\n\n    upload(adapter) {\n        this.props.executeCommand('upload ' + adapter);\n    }\n\n    rebuild(adapter) {\n        this.props.executeCommand('rebuild ' + adapter)\n    }\n\n    delete(adapter) {\n        this.props.executeCommand('del ' + adapter);\n    }\n\n    update(adapter, version) {\n        this.props.executeCommand(`upgrade ${adapter}@${version}`);\n    }\n\n    closeAddInstanceDialog() {\n        this.setState({\n            addInstanceDialog: false,\n            addInstanceAdapter: '',\n            addInstanceId: 'auto'\n        });\n    }\n\n    openAdapterDeletionDialog(adapter) {\n        this.setState({\n            adapterDeletionDialog: true,\n            adapterDeletionAdapter: adapter\n        });\n    }\n\n    closeAdapterDeletionDialog() {\n        this.setState({\n            adapterDeletionDialog: false,\n            adapterDeletionAdapter: null\n        });\n    }\n\n    toggleCategory(category) {\n        this.setState(oldState => {\n\n            const categoriesExpanded = oldState.categoriesExpanded;\n            categoriesExpanded[category] = !categoriesExpanded[category];\n\n            window.localStorage.setItem('Adapters.expandedCategories', JSON.stringify(categoriesExpanded));\n\n            return { categoriesExpanded };\n        });\n    }\n\n    handleHostsChange(event) {\n        this.setState({addInstanceHost: event.target.value});\n    }\n\n    handleInstanceChange(event) {\n        this.setState({addInstanceId: event.target.value});\n    }\n\n    static updateAvailable(oldVersion, newVersion) {\n        try {\n            return semver.gt(newVersion, oldVersion) === true;\n        } catch (e) {\n            console.warn(`[ADAPTERS] Cannot compare \"${newVersion}\" and \"${oldVersion}\"`);\n            return false;\n        }\n    }\n\n    getDependencies = value => {\n        const adapter = this.state.repository[value];\n        let result = [];\n\n        if (adapter) {\n            const dependencies = adapter.dependencies;\n            const nodeVersion = adapter.node;\n\n            dependencies && dependencies.length && dependencies.forEach(dependency => {\n\n                const entry = {\n                    name:             '',\n                    version:          null,\n                    installed:        false,\n                    installedVersion: null,\n                    rightVersion:     false\n                };\n\n                const checkVersion = typeof dependency !== 'string';\n                const keys = Object.keys(dependency);\n                entry.name = !checkVersion ? dependency : keys ? keys[0] : null;\n                entry.version = checkVersion ? dependency[entry.name] : null;\n\n                if (result && entry.name) {\n                    const installed = this.state.installed[entry.name];\n\n                    entry.installed        = !!installed;\n                    entry.installedVersion = installed ? installed.version : null;\n                    try {\n                        entry.rightVersion = installed ? (checkVersion ? semver.satisfies(installed.version, entry.version, { includePrerelease: true }) : true) : false;\n                    } catch (e) {\n                        entry.rightVersion = true;\n                    }\n                }\n\n                result.push(entry);\n            });\n\n            if (nodeVersion) {\n                const entry = {\n                    name:             'node',\n                    version:          nodeVersion,\n                    installed:        true,\n                    installedVersion: this.state.nodeJsVersion,\n                    rightVersion:     false\n                };\n\n                try {\n                    entry.rightVersion = semver.satisfies(this.state.nodeJsVersion, nodeVersion);\n                } catch (e) {\n                    entry.rightVersion = true;\n                }\n\n                result.push(entry);\n            }\n        }\n\n        return result;\n    }\n\n    rightDependencies(value) {\n        const adapter = this.state.repository[value];\n        let result = true;\n\n        if (adapter) {\n            const dependencies = adapter.dependencies;\n            const nodeVersion  = adapter.node;\n\n            if (dependencies) {\n                if (dependencies instanceof Array) {\n                    dependencies.forEach(dependency => {\n                        const checkVersion = typeof dependency !== 'string';\n                        const keys = Object.keys(dependency);\n                        const name = !checkVersion ? dependency : keys ? keys[0] : null;\n\n                        if (result && name) {\n\n                            const installed = this.state.installed[name];\n\n                            try {\n                                result = installed ? (checkVersion ? semver.satisfies(installed.version, dependency[name], { includePrerelease: true }) : true) : false;\n                            } catch (e) {\n                                result = true;\n                            }\n                        }\n                    });\n                } else if (typeof dependencies === 'object') {\n                    Object.keys(dependencies).forEach(dependency => {\n                        if (dependency && dependencies[dependency] !== undefined && result) {\n                            const installed = this.state.installed[dependency];\n                            const checkVersion = typeof dependencies[dependency] !== 'string';\n                            try {\n                                result = installed ? (checkVersion ? semver.satisfies(installed.version, dependency[dependency], { includePrerelease: true }) : true) : false;\n                            } catch (e) {\n                                result = true;\n                            }\n                        }\n                    });\n                } else {\n                    console.error(`[ADAPTERS] Invalid dependencies for ${value}: ${JSON.stringify(dependencies)}`);\n                }\n            }\n\n            if (result && nodeVersion) {\n                try {\n                    result = semver.satisfies(this.state.nodeJsVersion, nodeVersion);\n                } catch (e) {\n                    result = true;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    rightOs(value) {\n        const adapter = this.state.repository[value];\n\n        if (adapter?.os) {\n            return !!adapter.os.find(value => this.state.hostOs === value);\n        }\n\n        return true;\n    }\n\n    openInfoDialog(adapter) {\n        Router.doNavigate('tab-adapters', 'readme', adapter);\n    }\n\n    openUpdateDialog(adapterToUpdate) {\n        this.setState({adapterToUpdate});\n    }\n\n    openInstallVersionDialog(adapterInstallVersion) {\n        this.setState({adapterInstallVersion});\n    }\n\n    closeAdapterUpdateDialog(cb) {\n        this.setState({adapterToUpdate: ''}, () =>\n            cb && cb());\n    }\n\n    renderSetRatingDialog() {\n        if (this.state.showSetRating) {\n            return <RatingDialog\n                t={this.t}\n                lang={this.props.lang}\n                version={this.state.showSetRating.version}\n                adapter={this.state.showSetRating.adapter}\n                repository={this.state.repository}\n                currentRating={this.state.showSetRating.rating}\n                onClose={repository => {\n                    if (repository) {\n                        this.setState({showSetRating: null, repository});\n                    } else {\n                        this.setState({showSetRating: null});\n                    }\n                }}\n                uuid={this.uuid}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getNews(value, all = false) {\n        const adapter   = this.state.repository[value];\n        const installed = this.state.installed[value];\n        const news      = [];\n\n        if (installed && adapter && adapter.news) {\n            Object.keys(adapter.news).forEach(version => {\n                try {\n                    if (semver.gt(version, installed.version) || all) {\n                        news.push({\n                            version: version,\n                            news:    adapter.news[version][this.props.lang] || adapter.news[version].en\n                        });\n                    }\n                } catch (e) {\n                    // ignore it\n                    console.warn(`[ADAPTERS] Cannot compare \"${version}\" and \"${installed.version}\"`);\n                }\n            });\n        }\n\n        return news;\n    }\n\n    handleFilterChange(event) {\n        this.typingTimer && clearTimeout(this.typingTimer);\n\n        this.typingTimer = setTimeout(value => {\n            window.localStorage.setItem('Adapter.search', value || '');\n            this.typingTimer = null;\n            this.filterAdapters(value);\n        }, 300, event.target.value);\n    }\n\n    toggleConnectionTypeFilter() {\n        this.setState({ filterConnectionType: !this.state.filterConnectionType });\n    }\n\n    expandAll() {\n        this.setState(oldState => {\n            const categories = oldState.categories;\n            const categoriesExpanded = oldState.categoriesExpanded;\n\n            categories.forEach(category => categoriesExpanded[category.name] = true);\n\n            window.localStorage.setItem('Adapters.expandedCategories', JSON.stringify(categoriesExpanded));\n\n            return { categoriesExpanded };\n        });\n    }\n\n    collapseAll() {\n        const categoriesExpanded = {};\n\n        window.localStorage.setItem('Adapters.expandedCategories', JSON.stringify(categoriesExpanded));\n\n        this.setState({ categoriesExpanded });\n    }\n\n    listTable() {\n        let list = !this.state.list;\n        if (list) {\n            this.expandAll();\n        }\n        window.localStorage.setItem('Adapters.list', JSON.stringify(list));\n        this.setState({ list });\n    }\n\n    changeViewMode() {\n        this.cache.listOfVisibleAdapter = null;\n        let viewMode = !this.state.viewMode;\n        window.localStorage.setItem('Adapters.viewMode', JSON.stringify(viewMode));\n        this.setState({ viewMode });\n    }\n\n    changeUpdateList() {\n        this.cache.listOfVisibleAdapter = null;\n        let updateList = !this.state.updateList;\n        window.localStorage.setItem('Adapters.updateList', JSON.stringify(updateList));\n        this.setState({ updateList });\n    }\n\n    changeInstalledList(onlyInstalled) {\n        this.cache.listOfVisibleAdapter = null;\n        let installedList = !this.state.installedList ? 1 : this.state.installedList < 2 ? 2 : false;\n        if (!installedList && onlyInstalled) {\n            installedList = 1;\n        }\n        window.localStorage.setItem('Adapters.installedList', JSON.stringify(installedList));\n        this.setState({ installedList });\n    }\n\n    changeFilterTiles(filterTiles) {\n        this.cache.listOfVisibleAdapter = null;\n        window.localStorage.setItem('Adapters.filterTiles', filterTiles);\n        this.setState({ filterTiles });\n    }\n\n    changeCategoriesTiles(categoriesTiles) {\n        this.cache.listOfVisibleAdapter = null;\n        window.localStorage.setItem('Adapters.categoriesTiles', categoriesTiles);\n        this.setState({ categoriesTiles });\n    }\n\n    filterAdapters(search) {\n        this.cache.listOfVisibleAdapter = null;\n        search = search === undefined ? this.state.search : search;\n        search = (search || '').toLowerCase().trim();\n        let filteredList = [];\n        if (search) {\n            this.state.categories.forEach(category => category.adapters.forEach(name => {\n                const adapter = this.state.repository[name];\n                if (!adapter) {\n                    return;\n                }\n\n                const title = ((adapter.title || '').toString() || '').replace('ioBroker Visualisation - ', '');\n                const desc = adapter.desc ? adapter.desc[this.props.lang] || adapter.desc.en || adapter.desc : '';\n\n                if (name.includes(search)) {\n                    filteredList.push(name);\n                } else\n                    if (title && typeof title === 'string' && title.toLowerCase().includes(search)) {\n                        filteredList.push(name);\n                    } else if (desc && typeof desc === 'string' && desc.toLowerCase().includes(search)) {\n                        filteredList.push(name);\n                    } else {\n                        adapter.keywords && adapter.keywords.forEach(value =>\n                            value.includes(search) && filteredList.push(name));\n                    }\n            }));\n        } else {\n            filteredList = null;\n        }\n        this.setState({ filteredList, search });\n    }\n\n    getRow(value, descHidden) {\n        const cached = this.cache.adapters[value];\n        if (cached) {\n            const adapter = this.state.repository[value];\n            const installed = this.state.installed[value];\n\n            if ((cached.title instanceof Object) || !cached.desc) {\n                console.warn('[ADAPTERS] ' + value);\n            }\n\n            return <AdapterRow\n                t={this.t}\n                descHidden={descHidden}\n                key={'adapter-' + value}\n                connectionType={cached.connectionType}\n                dataSource={adapter.dataSource}\n                description={cached.desc}\n                adapter={value}\n                versionDate={cached.daysAgoText}\n                enabledCount={installed && installed.enabled}\n                expertMode={this.props.expertMode}\n                image={cached.image}\n                installedCount={installed && installed.count}\n                installedFrom={installed && installed.installedFrom}\n                installedVersion={installed && installed.version}\n                keywords={adapter.keywords}\n                name={cached.title}\n                license={adapter.license}\n                updateAvailable={cached.updateAvailable}\n                version={adapter.version}\n                hidden={false}\n                rightDependencies={cached.rightDependencies}\n                rightOs={cached.rightOs}\n                sentry={cached.sentry}\n                rebuild={this.rebuildSupported}\n                commandRunning={this.props.commandRunning}\n                rating={adapter.rating}\n                onSetRating={() =>\n                    this.setState({ showSetRating: { adapter: value, version: installed && installed.version, rating: adapter.rating}})}\n                onAddInstance={() =>\n                    licenseDialogFunc(adapter.license === 'MIT', async result =>\n                        result && await this.addInstance(value), (adapter.extIcon || '').split('/master')[0] + '/master/LICENSE')\n                }\n                onDeletion={() => this.openAdapterDeletionDialog(value)}\n                onInfo={() => this.openInfoDialog(value)}\n                onRebuild={() => this.rebuild(value)}\n                onUpdate={() => this.openUpdateDialog(value)}\n                openInstallVersionDialog={() => this.openInstallVersionDialog(value)}\n                onUpload={() => licenseDialogFunc(adapter.license === 'MIT', result =>\n                    result && this.upload(value), (adapter.extIcon || '').split('/master')[0] + '/master/LICENSE')}//\n                allowAdapterDelete={this.state.repository[value] ? this.state.repository[value].allowAdapterDelete : true}\n                allowAdapterInstall={this.state.repository[value] ? this.state.repository[value].allowAdapterInstall : true}\n                allowAdapterUpdate={this.state.repository[value] ? this.state.repository[value].allowAdapterUpdate : true}\n                allowAdapterReadme={this.state.repository[value] ? this.state.repository[value].allowAdapterReadme : true}\n                allowAdapterRating={this.props.adminGuiConfig.admin.adapters ? this.props.adminGuiConfig.admin.adapters.allowAdapterRating : true}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getRows(descHidden) {\n        if (!this.cache.listOfVisibleAdapter) {\n            this.buildCache();\n        }\n\n        let count = 0;\n\n        let rows;\n        if (this.state.list) {\n            rows = this.cache.listOfVisibleAdapter.map(value => {\n                const item = this.getRow(value, descHidden);\n                item && count++;\n                return item;\n            });\n        } else {\n            rows = this.state.categories.map(category => {\n                let showCategory = category.adapters.find(value => this.cache.listOfVisibleAdapter.includes(value));\n                if (!showCategory) {\n                    return null;\n                }\n                const categoryName = category.name;\n                const expanded = this.state.categoriesExpanded[categoryName];\n                count++;\n\n                return <Fragment key={`category-${categoryName} ${category.adapters.length}`}>\n                    <AdapterRow\n                        descHidden={descHidden}\n                        key={'category-' + categoryName + 1}\n                        category\n                        categoryName={categoryName}\n                        count={category.count}\n                        expanded={expanded}\n                        installedCount={category.installed}\n                        name={category.translation}\n                        onToggle={() => this.toggleCategory(categoryName)}\n                        t={this.t}\n                        hidden={false}\n                    />\n\n                    {expanded && category.adapters.map(value => {\n                        const item = this.getRow(value, descHidden);\n                        item && count++;\n                        return item;\n                    })}\n                </Fragment>;\n            });\n        }\n\n        if (!count) {\n            return !this.state.update && <tr><td colSpan={4} style={{ padding: 16, fontSize: 18 }}>{this.t('all items are filtered out')}</td></tr>;\n        } else {\n            return rows;\n        }\n    }\n\n    buildCache() {\n        this.cache.listOfVisibleAdapter = [];\n        this.cache.adapters = {};\n        const now = Date.now();\n        const textDaysAgo0 = this.t('0 %d days ago');\n        const textDaysAgo1 = this.t('1 %d days ago');\n        const textDaysAgo2 = this.t('2 %d days ago');\n        const textDaysAgo = this.t('5 %d days ago');\n\n        const sortPopularFirst    = !this.state.viewMode && this.state.filterTiles === 'Popular first';\n        const sortRecentlyUpdated = !this.state.viewMode && this.state.filterTiles === 'Recently updated';\n\n        // get all visible adapters\n        this.state.categories\n            .filter(cat => this.state.viewMode || !this.state.categoriesTiles || this.state.categoriesTiles === 'All' || cat.name === this.state.categoriesTiles)\n            .forEach(category => category.adapters.forEach(value => {\n                const adapter = this.state.repository[value];\n\n                if (value === 'vis-materialdesign') {\n                    console.log('[ADAPTERS] ' + value);\n                }\n\n                if (adapter && !adapter.controller) {\n                    const connectionType = adapter.connectionType ? adapter.connectionType : '-';\n                    const updateAvailable = this.state.updateAvailable.includes(value);\n                    const installed = this.state.installed[value];\n\n                    let show = !this.state.filteredList || this.state.filteredList.includes(value);\n                    if (show && this.state.filterConnectionType) {\n                        show = connectionType === 'local';\n                    }\n                    if (show && this.state.updateList) {\n                        show = updateAvailable;\n                    }\n                    if (show && this.state.installedList) {\n                        show = this.state.installedList < 2 ? !!(installed && installed.version) : !!(installed && installed.version && !installed.count) ;\n                    }\n                    if (show) {\n                        this.cache.listOfVisibleAdapter.push(value);\n                        const daysAgo10 = Math.round((now - new Date(adapter.versionDate).getTime()) / 8640000);\n                        const daysAgo = Math.round(daysAgo10 / 10);\n\n                        let title = adapter.titleLang || adapter.title;\n                        if (typeof title === 'object') {\n                            title = title[this.props.lang] || title.en;\n                        }\n                        title = ((title || '').toString() || '').replace('ioBroker Visualisation - ', '')\n\n                        const _daysAgo10 = daysAgo % 100 <= 10 || daysAgo % 100 >= 20 ? daysAgo % 10 : 5;\n\n                        this.cache.adapters[value] = {\n                            title,\n                            desc: adapter.desc ? adapter.desc[this.props.lang] || adapter.desc['en'] || adapter.desc : '',\n                            image: installed ? installed.localIcon : adapter.extIcon,\n                            connectionType: adapter.connectionType ? adapter.connectionType : '-',\n                            updateAvailable: this.state.updateAvailable.includes(value),\n                            rightDependencies: this.rightDependencies(value),\n                            rightOs: this.rightOs(value),\n                            sentry: !!(adapter.plugins && adapter.plugins.sentry),\n                            daysAgo: daysAgo10,\n                            stat: sortPopularFirst && adapter.stat,\n                            daysAgoText: sortRecentlyUpdated && (daysAgo || daysAgo === 0) ?\n                                daysAgo === 0 ? textDaysAgo0 :\n                                    (_daysAgo10 === 1 ? textDaysAgo1.replace('%d', daysAgo) :\n                                        (_daysAgo10 === 2 || _daysAgo10 === 3 || _daysAgo10 === 4 ? textDaysAgo2.replace('%d', daysAgo) : textDaysAgo.replace('%d', daysAgo))) : ''\n                        };\n                    }\n                }\n            }));\n\n        this.listOfVisibleAdapterLength = this.cache.listOfVisibleAdapter.length;\n\n        const repo = this.state.repository;\n        const adapters = this.cache.adapters;\n        const installed = this.state.installed;\n\n        this.cache.listOfVisibleAdapter.sort((a, b) => {\n            if (sortPopularFirst) {\n                return repo[b].stat - repo[a].stat;\n            } else\n            if (sortRecentlyUpdated) {\n                if (!adapters[a]) {\n                    return -1;\n                } else if (!adapters[b]) {\n                    return 1;\n                }\n                if (adapters[a].daysAgo === adapters[b].daysAgo) {\n                    return a > b ? 1 : (a < b ? -1 : 0);\n                } else {\n                    return adapters[a].daysAgo - adapters[b].daysAgo;\n                }\n            } else {\n                if (installed[a] && installed[b]) {\n                    return a > b ? 1 : (a < b ? -1 : 0);\n                } else if (installed[a]) {\n                    return -1;\n                } else if (installed[b]) {\n                    return 1;\n                } else {\n                    return a > b ? 1 : (a < b ? -1 : 0);\n                }\n            }\n        });\n\n        // console.log('[ADAPTERS] Update cache!');\n    }\n\n    getTiles() {\n        if (!this.cache.listOfVisibleAdapter) {\n            this.buildCache();\n        }\n\n        if (!this.cache.listOfVisibleAdapter.length) {\n            return !this.state.update && <div style={{\n                margin: 20,\n                fontSize: 26\n            }}>{this.props.t('all items are filtered out')}</div>;\n        } else {\n            return this.cache.listOfVisibleAdapter.map(value => {\n                const adapter   = this.state.repository[value];\n                const installed = this.state.installed[value];\n                const cached    = this.cache.adapters[value];\n\n                if (cached.title instanceof Object || !cached.desc) {\n                    console.warn('[ADAPTERS] ' + adapter);\n                }\n\n                return <AdapterTile\n                    t={this.t}\n                    commandRunning={this.props.commandRunning}\n                    key={'adapter-' + value}\n                    image={cached.image}\n                    name={cached.title}\n                    dataSource={adapter.dataSource}\n                    adapter={value}\n                    stat={cached.stat}\n                    versionDate={cached.daysAgoText}\n                    connectionType={cached.connectionType}\n                    description={cached.desc}\n                    enabledCount={installed && installed.enabled}\n                    expertMode={this.props.expertMode}\n                    installedCount={installed && installed.count}\n                    installedFrom={installed && installed.installedFrom}\n                    installedVersion={installed && installed.version}\n                    keywords={adapter.keywords}\n                    license={adapter.license}\n                    updateAvailable={cached.updateAvailable}\n                    version={adapter.version}\n                    hidden={false}\n                    rightDependencies={cached.rightDependencies}\n                    rightOs={cached.rightOs}\n                    sentry={cached.sentry}\n                    rebuild={this.rebuildSupported}\n                    rating={adapter.rating}\n                    onSetRating={() =>\n                        this.setState({ showSetRating: { adapter: value, version: installed && installed.version, rating: adapter.rating}})}\n                    onAddInstance={() =>\n                        licenseDialogFunc(adapter.license === 'MIT', async result =>\n                            result && await this.addInstance(value), (adapter.extIcon || '').split('/master')[0] + '/master/LICENSE')}//\n                    onDeletion={() => this.openAdapterDeletionDialog(value)}\n                    onInfo={() => this.openInfoDialog(value)}\n                    onRebuild={() => this.rebuild(value)}\n                    onUpdate={() => this.openUpdateDialog(value)}\n                    openInstallVersionDialog={() => this.openInstallVersionDialog(value)}\n                    onUpload={() => licenseDialogFunc(adapter.license === 'MIT', result =>\n                        result && this.upload(value), (adapter.extIcon || '').split('/master')[0] + '/master/LICENSE')}//\n                    allowAdapterDelete={this.state.repository[value] ? this.state.repository[value].allowAdapterDelete : true}\n                    allowAdapterInstall={this.state.repository[value] ? this.state.repository[value].allowAdapterInstall : true}\n                    allowAdapterUpdate={this.state.repository[value] ? this.state.repository[value].allowAdapterUpdate : true}\n                    allowAdapterReadme={this.state.repository[value] ? this.state.repository[value].allowAdapterReadme : true}\n                    allowAdapterRating={this.props.adminGuiConfig.admin.adapters ? this.props.adminGuiConfig.admin.adapters.allowAdapterRating : true}\n                />;\n            });\n        }\n    }\n\n    getUpdater() {\n        if (!this.state.showUpdater) {\n            return null;\n        } else {\n            return <AdaptersUpdaterDialog\n                onSetCommandRunning={commandRunning => this.props.onSetCommandRunning(commandRunning)}\n                t={this.props.t}\n                currentHost={this.props.currentHost}\n                lang={this.props.lang}\n                installed={this.state.installed}\n                repository={this.state.repository}\n                onClose={reload =>\n                    this.setState({ showUpdater: false }, () =>\n                        reload && this.updateAll(true, false))}\n                socket={this.props.socket}\n            />;\n        }\n    }\n\n    getDescWidth() {\n        if (this.props.menuOpened) {\n            return document.body.scrollWidth - SUM - 180 + 15;\n        } else if (this.props.menuClosed) {\n            return document.body.scrollWidth - SUM;\n        } else if (this.props.menuCompact) {\n            return document.body.scrollWidth - SUM - 50 + 15;\n        }\n    }\n\n    getStatistics() {\n        if (this.state.showStatistics) {\n            return <Dialog\n                open={true}\n                onClose={() => this.setState({ showStatistics: false })}\n            >\n                <DialogTitle>{this.t('Statistics')}</DialogTitle>\n                <DialogContent style={{ fontSize: 16 }}>\n                    <div className={this.props.classes.counters}>{this.t('Total adapters')}: <span style={{ paddingLeft: 6, fontWeight: 'bold' }}>{this.allAdapters}</span></div>\n                    <div className={this.props.classes.counters}>{this.t('Installed adapters')}: <span style={{ paddingLeft: 6, fontWeight: 'bold' }}>{this.installedAdapters}</span></div>\n                    <div className={this.props.classes.counters}>{this.t('Last month updated adapters')}: <span style={{ paddingLeft: 6, fontWeight: 'bold' }}>{this.recentUpdatedAdapters}</span></div>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" onClick={() => this.setState({ showStatistics: false })} color=\"primary\" autoFocus startIcon={<CloseIcon />}>\n                        {this.props.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        if (!this.state.init) {\n            return <LinearProgress />;\n        }\n        console.log('[ADAPTERS] Render');\n        if (this.state.dialog === 'readme' && this.state.dialogProp) {\n            const adapter = this.state.repository[this.state.dialogProp] || null;\n\n            if (adapter) {\n                return <TabContainer className={this.props.classes.tabContainer}>\n                    <AdapterInfoDialog\n                        theme={this.props.theme}\n                        themeName={this.props.themeName}\n                        themeType={this.props.themeType}\n                        adapter={this.state.dialogProp}\n                        link={adapter.readme || ''}\n                        socket={this.props.socket}\n                        t={this.t}\n                    />\n                </TabContainer>;\n            }\n        }\n\n        const { classes } = this.props;\n        const descHidden = this.state.descWidth < 50;\n\n        let updateAllButtonAvailable = !this.props.commandRunning && !!this.props.ready && !!this.state.updateList && this.state.updateAvailable.length > 1;\n\n        // it is not possible to update admin in bulk\n        if (updateAllButtonAvailable && this.state.updateAvailable.length === 2 && this.state.updateAvailable.includes('admin')) {\n            updateAllButtonAvailable = false;\n        }\n\n        return <TabContainer>\n            {this.state.update &&\n                <Grid item>\n                    <LinearProgress />\n                </Grid>\n            }\n            <TabHeader>\n                <Tooltip title={this.t('Change view mode')}>\n                    <IconButton onClick={() => this.changeViewMode()}>\n                        {this.state.viewMode ? <ViewModuleIcon /> : <ViewListIcon />}\n                    </IconButton>\n                </Tooltip>\n                <Tooltip title={this.t('Check adapter for updates')}>\n                    <IconButton onClick={() => this.updateAll(true, true)}>\n                        <RefreshIcon />\n                    </IconButton>\n                </Tooltip>\n                {this.state.viewMode && !this.state.list && <><Tooltip title={this.t('expand all')}>\n                    <IconButton onClick={() => this.expandAll()}>\n                        <FolderOpenIcon />\n                    </IconButton>\n                </Tooltip>\n                    <Tooltip title={this.t('collapse all')}>\n                        <IconButton onClick={() => this.collapseAll()}>\n                            <FolderIcon />\n                        </IconButton>\n                    </Tooltip>\n                </>}\n                {this.state.viewMode && <Tooltip title={this.t('list')}>\n                    <IconButton onClick={() => this.listTable()}>\n                        <ListIcon color={this.state.list ? 'primary' : 'inherit'} />\n                    </IconButton>\n                </Tooltip>}\n\n                {/*<Tooltip title={this.t('Filter local connection type')}>\n                    <IconButton onClick={() => this.toggleConnectionTypeFilter()}>\n                        <CloudOffIcon color={this.state.filterConnectionType ? 'primary' : 'inherit'} />\n                    </IconButton>\n                 </Tooltip>*/}\n                {this.state.updateList ?\n                    <IconButton onClick={() => this.changeInstalledList(true)}>\n                        <StarIcon color=\"primary\" style={{ opacity: 0.3, color: this.state.installedList === 2 ? 'red' : undefined }} />\n                    </IconButton>\n                    :\n                    <Tooltip title={this.t(!this.state.installedList ?\n                        'Show only installed' :\n                        (this.state.installedList < 2 ?\n                            'Showed only installed adapters' :\n                            'Showed only installed adapters without instance.'))}>\n                        <IconButton\n                            onClick={() => this.changeInstalledList()}>\n                            <StarIcon style={this.state.installedList === 2 ? {color: 'red'} : null}\n                                      color={this.state.installedList && this.state.installedList < 2 ? 'primary' : 'inherit'}/>\n                        </IconButton>\n                    </Tooltip>\n                }\n                <IsVisible config={this.props.adminGuiConfig} name=\"admin.adapters.filterUpdates\">\n                    <Tooltip title={this.t('Filter adapter with updates')}>\n                        <IconButton onClick={() => this.changeUpdateList()}>\n                            <UpdateIcon color={this.state.updateList ? 'primary' : 'inherit'} />\n                        </IconButton>\n                    </Tooltip>\n                </IsVisible>\n                {updateAllButtonAvailable && <Tooltip title={this.t('Update all adapters')}>\n                    <IconButton onClick={() => this.setState({ showUpdater: true })} classes={{ label: this.props.classes.updateAllButton }}>\n                        <UpdateIcon />\n                        <UpdateIcon className={this.props.classes.updateAllIcon} />\n                    </IconButton>\n                </Tooltip>}\n\n                {this.props.expertMode && this.props.adminGuiConfig.admin.adapters?.gitHubInstall !== false &&\n                    <Tooltip title={this.t('Install from custom URL')}>\n                        <IconButton onClick={() => this.setState({ gitHubInstallDialog: true })}>\n                            <GithubIcon />\n                        </IconButton>\n                    </Tooltip>\n                }\n                <div className={classes.grow} />\n                <TextField\n                    inputRef={this.inputRef}\n                    label={this.t('Filter by name')}\n                    defaultValue={this.state.search}\n                    onChange={event => this.handleFilterChange(event)}\n                    InputProps={{\n                        endAdornment: (\n                            this.state.search ? <InputAdornment position=\"end\">\n                                <IconButton\n                                    size=\"small\"\n                                    onClick={() => {\n                                        window.localStorage.removeItem('Adapter.search');\n                                        this.inputRef.current.value = '';\n                                        this.setState({ search: '' }, () => this.filterAdapters());\n                                    }}\n                                >\n                                    <CloseIcon />\n                                </IconButton>\n                            </InputAdornment> : null\n                        ),\n                    }}\n                />\n\n                {!this.state.viewMode &&\n                    <CustomSelectButton\n                        t={this.t}\n                        icons\n                        contained={this.state.categoriesTiles !== 'All'}\n                        translateSuffix={'_group'}\n                        arrayItem={[{ name: 'All' }, ...this.state.categories]}\n                        onClick={value => this.changeCategoriesTiles(value)}\n                        value={this.state.categoriesTiles} />\n                }\n                {!this.state.viewMode &&\n                    <CustomSelectButton\n                        t={this.t}\n                        arrayItem={this.state.arrayFilter}\n                        onClick={value => this.changeFilterTiles(value)}\n                        value={this.state.filterTiles} />\n                }\n                <div className={classes.grow} />\n                <IsVisible config={this.props.adminGuiConfig} name=\"admin.adapters.statistics\">\n                    <Hidden only={['xs', 'sm']} >\n                        <div className={classes.infoAdapters} onClick={() => this.setState({ showStatistics: true })}>\n                            <div className={clsx(classes.counters, classes.greenText)}>{this.t('Selected adapters')}<div ref={this.countRef} /></div>\n                            <div className={classes.counters}>{this.t('Total adapters')}:<div>{this.allAdapters}</div></div>\n                            <div className={classes.counters}>{this.t('Installed adapters')}:<div>{this.installedAdapters}</div></div>\n                            <div className={classes.counters}>{this.t('Last month updated adapters')}:<div>{this.recentUpdatedAdapters}</div></div>\n                        </div>\n                    </Hidden>\n                </IsVisible>\n            </TabHeader>\n            {this.state.viewMode && <TabContent>\n                {this.props.systemConfig.common.activeRepo !== 'stable' ? <div className={this.props.classes.notStableRepo}>{this.t('Active repo is \"%s\"', this.props.systemConfig.common.activeRepo)}</div> : null}\n                <TableContainer className={clsx(classes.container, this.props.systemConfig.common.activeRepo !== 'stable' ? classes.containerNotFullHeight : classes.containerFullHeight)}>\n                    <Table stickyHeader size=\"small\" className={classes.table}>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell className={classes.emptyBlock}>\n                                </TableCell>\n                                <TableCell className={classes.name}>\n                                    <Typography>{this.t('Name')}</Typography>\n                                </TableCell>\n                                {!descHidden && <TableCell className={classes.description} style={{ width: this.state.descWidth }}>\n                                    <Typography>{this.t('Description')}</Typography>\n                                </TableCell>}\n                                <TableCell className={classes.connectionType} />\n                                <TableCell className={classes.installed}>\n                                    <Typography>{this.t('Installed')}</Typography>\n                                </TableCell>\n                                <TableCell className={classes.available}>\n                                    <Typography>{this.t('Available')}</Typography>\n                                </TableCell>\n                                <TableCell className={classes.license}>\n                                    <Typography>{this.t('License')}</Typography>\n                                </TableCell>\n                                <TableCell className={classes.install}>\n                                    <Typography>{this.t('Install')}</Typography>\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.getRows(descHidden)}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </TabContent>}\n\n            {this.getUpdater()}\n            {this.getStatistics()}\n            {this.renderSetRatingDialog()}\n            {this.renderSlowConnectionWarning()}\n\n            {!this.state.viewMode && <>\n                {this.props.systemConfig.common.activeRepo !== 'stable' ? <div className={this.props.classes.notStableRepo}>{this.t('Active repo is \"%s\"', this.props.systemConfig.common.activeRepo)}</div> : null}\n                <div className={this.props.classes.viewModeDiv}>{this.getTiles()}</div>\n            </>}\n\n            {this.state.addInstanceDialog &&\n                <AddInstanceDialog\n                    open={this.state.addInstanceDialog}\n                    adapter={this.state.addInstanceAdapter}\n                    hosts={this.props.hosts}\n                    instancesWorker={this.props.instancesWorker}\n                    repository={this.state.repository}\n                    dependencies={this.getDependencies(this.state.addInstanceAdapter)}\n                    currentHost={this.state.addInstanceHost}\n                    currentInstance={this.state.addInstanceId}\n                    t={this.t}\n                    onClick={async () =>\n                        await this.addInstance(this.state.addInstanceAdapter, this.state.addInstanceId)}\n                    onClose={() => this.closeAddInstanceDialog()}\n                    onHostChange={event => this.handleHostsChange(event)}\n                    onInstanceChange={event => this.handleInstanceChange(event)}\n                />\n            }\n            {this.state.adapterDeletionDialog &&\n                <AdapterDeletionDialog\n                    open={this.state.adapterDeletionDialog}\n                    adapter={this.state.adapterDeletionAdapter}\n                    t={this.t}\n                    onClick={() => this.delete(this.state.adapterDeletionAdapter)}\n                    onClose={() => this.closeAdapterDeletionDialog()}\n                />\n            }\n            {this.state.gitHubInstallDialog && <GitHubInstallDialog\n                t={this.t}\n                open={this.state.gitHubInstallDialog}\n                categories={this.state.categories}\n                installFromUrl={async (value, debug, customUrl) =>\n                    await this.addInstance(value, undefined, debug, customUrl)}\n                repository={this.state.repository}\n                onClose={() => { this.setState({ gitHubInstallDialog: false }) }}\n            />}\n            {this.state.adapterToUpdate &&\n                <AdapterUpdateDialog\n                    open={true}\n                    adapter={this.state.adapterToUpdate}\n                    adapterObject={this.state.repository[this.state.adapterToUpdate]}\n                    t={this.t}\n                    dependencies={this.getDependencies(this.state.adapterToUpdate)}\n                    rightDependencies={this.rightDependencies(this.state.adapterToUpdate)}\n                    news={this.getNews(this.state.adapterToUpdate)}\n                    onUpdate={version => {\n                        const adapter = this.state.adapterToUpdate;\n                        this.closeAdapterUpdateDialog(() => this.update(adapter, version));\n                    }}\n                    onIgnore={ignoreVersion => {\n                        const adapter = this.state.adapterToUpdate;\n                        this.closeAdapterUpdateDialog(() => {\n                            this.props.socket.getObject('system.adapter.' + adapter)\n                                .then(obj => {\n                                    if (obj) {\n                                        obj.common.ignoreVersion = ignoreVersion;\n                                        return this.props.socket.setObject(obj._id, obj);\n                                    } else {\n                                        window.alert(`Adapter \"${adapter}\" does not exist!`);\n                                    }\n                                })\n                                .then(() => {\n                                    const updateAvailable = [...this.state.updateAvailable];\n                                    const pos = updateAvailable.indexOf(adapter);\n                                    if (pos !== -1) {\n                                        updateAvailable.splice(pos, 1);\n                                        this.setState({ updateAvailable });\n                                    }\n                                });\n                        });\n                    }}\n                    onClose={() => this.closeAdapterUpdateDialog()}\n                />\n            }\n            {this.state.adapterInstallVersion &&\n                <CustomModal\n                    open={true}\n                    title={this.t('Please select specific version of %s', this.state.adapterInstallVersion)}\n                    applyButton={false}\n                    onClose={() => this.setState({adapterInstallVersion: ''})}\n                >\n                    <div className={classes.containerVersion}>\n                        {this.getNews(this.state.adapterInstallVersion, true).map(({ version, news }) => {\n                            return <div className={classes.currentVersion} onClick={() => {\n                                this.update(this.state.adapterInstallVersion, version);\n                                this.setState({adapterInstallVersion: ''});\n                            }}>\n                                <ListItemText\n                                    primary={version}\n                                    secondary={news}\n                                />\n                            </div>\n                        })}\n                    </div>\n                </CustomModal>\n            }\n        </TabContainer>;\n    }\n}\n\nAdapters.propTypes = {\n    onSetCommandRunning: PropTypes.func.isRequired,\n    commandRunning: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    menuClosed: PropTypes.bool,\n    menuCompact: PropTypes.bool,\n    adaptersWorker: PropTypes.object,\n    instancesWorker: PropTypes.object,\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    systemConfig: PropTypes.object,\n    socket: PropTypes.object,\n    hosts: PropTypes.array,\n    currentHost: PropTypes.string,\n    ready: PropTypes.bool,\n    t: PropTypes.func,\n    lang: PropTypes.string,\n    expertMode: PropTypes.bool,\n    executeCommand: PropTypes.func,\n    adminGuiConfig: PropTypes.object,\n};\nexport default withStyles(styles)(Adapters);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { amber, blue, red } from '@material-ui/core/colors';\n\nimport { Grid, LinearProgress, Paper, Switch, Typography } from '@material-ui/core';\n\nimport Router from '@iobroker/adapter-react/Components/Router';\n\nimport Utils from '../Utils';\n\nconst styles = theme => ({\n    log: {\n        height: 400,\n        width: 860,\n        padding: theme.spacing(1),\n        overflowY: 'auto'\n    },\n    logNoSpacing: {\n        height: '100%',\n        width: 'calc(100% - 8px)',\n        marginLeft: 8,\n        padding: theme.spacing(1),\n        overflowY: 'auto'\n    },\n    error: {\n        color: red[500]\n    },\n    info: {\n        color: blue[500]\n    },\n    warn: {\n        color: amber[500]\n    }\n});\n\nclass Command extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            log: [`$ iobroker ${props.cmd || ''}`],\n            init: false,\n            max: null,\n            value: null,\n            progressText: '',\n            moreChecked: true,\n            stopped: false,\n        };\n\n        this.logRef = React.createRef();\n\n        this.t = props.t;\n        const pattern = ['error', 'warn', 'info'];\n        this.regExp = new RegExp(pattern.join('|'), 'i');\n    }\n\n    componentDidMount() {\n        if (this.props.ready && this.props.cmd) {\n            console.log('STARTED: ' + this.props.cmd);\n            this.executeCommand();\n        }\n        const closeOnReady = JSON.parse(window.localStorage.getItem('CommandDialog.closeOnReady')) || false;\n        this.setState({ closeOnReady });\n    }\n\n    componentDidUpdate() {\n        if (!this.state.init && this.props.ready && this.props.cmd) {\n            this.executeCommand();\n        }\n        if (this.props.logsRead && JSON.stringify(this.props.logsRead) !== JSON.stringify(this.state.log)) {\n            this.setState({ log: this.props.logsRead });\n        }\n        this.logRef.current?.scrollIntoView();\n    }\n\n    executeCommand() {\n        this.setState({ init: true }, () => this.props.onSetCommandRunning(true));\n\n        this.props.socket.registerCmdStdoutHandler(this.cmdStdoutHandler.bind(this));\n        this.props.socket.registerCmdStderrHandler(this.cmdStderrHandler.bind(this));\n        this.props.socket.registerCmdExitHandler(this.cmdExitHandler.bind(this));\n\n        const activeCmdId = Math.floor(Math.random() * 0xFFFFFFE) + 1;\n\n        this.setState({ activeCmdId });\n\n        this.props.socket.cmdExec(this.props.currentHost, this.props.cmd, activeCmdId)\n            .catch(error =>\n                console.log(error));\n    }\n\n    cmdStdoutHandler(id, text) {\n        if (this.state.activeCmdId && this.state.activeCmdId === id) {\n\n            const log = this.state.log.slice();\n            log.push(text);\n\n            const upload = text.match(/^upload \\[(\\d+)]/);\n            const gotAdmin = !upload ? text.match(/^got [-_:/\\\\.\\w\\d]+\\/admin$/) : null;\n            const gotWww = !gotAdmin ? text.match(/^got [-_:/\\\\.\\w\\d]+\\/www$/) : null;\n\n            let max = this.state.max;\n            let value = null;\n            let progressText = '';\n\n            if (upload) {\n                max = max || parseInt(upload[1], 10);\n                value = parseInt(upload[1], 10);\n            } else if (gotAdmin) {\n                // upload of admin\n                progressText = this.t('Upload admin started');\n                max = null;\n            } else if (gotWww) {\n                // upload of www\n                progressText = this.t('Upload www started');\n                max = null;\n            }\n\n            this.setState({\n                log,\n                max,\n                value,\n                progressText\n            });\n\n            console.log('cmdStdout');\n        }\n    }\n\n    cmdStderrHandler(id, text) {\n        if (this.state.activeCmdId && this.state.activeCmdId === id) {\n\n            const log = this.state.log.slice();\n            log.push(text);\n\n            this.setState({ log });\n\n            console.log('cmdStderr');\n            console.log(id);\n            console.log(text);\n        }\n    }\n\n    cmdExitHandler(id, exitCode) {\n        if (this.state.activeCmdId && this.state.activeCmdId === id) {\n            const log = this.state.log.slice();\n            if (!window.document.hidden && exitCode === 0 && log.length && log[log.length - 1].endsWith('created') && this.props.callback) {\n                const newArr = log[log.length - 1].split(' ');\n                const adapter = newArr.find(el => el.startsWith('system'));\n                if (adapter) {\n                    // it takes some time to creat the object\n                    setTimeout(_adapter => {\n                        this.props.socket.getObject(_adapter)\n                            .then(obj => {\n                                Utils.fixAdminUI(obj);\n                                obj && obj.common?.adminUI?.config !== 'none' && Router.doNavigate('tab-instances', 'config', _adapter);\n                            });\n                    }, 1000, adapter);\n                }\n            }\n            log.push(`${exitCode !== 0 ? 'ERROR: ' : ''}Process exited with code ${exitCode}`);\n\n            this.setState({ log, stopped: true }, () => {\n                this.props.onSetCommandRunning(false);\n                if (exitCode !== 0) {\n                    this.props.errorFunc && this.props.errorFunc(exitCode, this.state.log);\n                } else {\n                    this.props.performed && this.props.performed();\n                    this.props.onFinished(exitCode, this.state.log);\n                }\n                console.log('cmdExit');\n                console.log(id);\n                console.log(exitCode);\n            });\n        }\n    }\n\n    colorize(text, maxLength) {\n        if (maxLength !== undefined) {\n            text = text.substring(0, maxLength);\n        }\n\n        if (text.search(this.regExp)) {\n            const result = [];\n            const { classes } = this.props;\n\n            while (text.search(this.regExp) >= 0) {\n                const [match] = text.match(this.regExp);\n                const pos = text.search(this.regExp);\n\n                if (pos > 0) {\n                    const part = text.substring(0, pos);\n                    const message = Utils.parseColorMessage(part);\n                    result.push(<span key={result.length}>{typeof message === 'object' ? message.parts.map((item, i) => <span key={i} style={item.style}>{item.text}</span>): message}</span>);\n                    text = text.replace(part, '');\n                }\n\n                const part = text.substr(0, match.length);\n                if (part) {\n                    const message = Utils.parseColorMessage(part);\n                    result.push(<span key={result.length} className={classes[match.toLowerCase()]}>{typeof message === 'object' ? message.parts.map((item, i) => <span key={i} style={item.style}>{item.text}</span>): message}</span>);\n                    text = text.replace(part, '');\n                }\n            }\n\n            if (text) {\n                const message = Utils.parseColorMessage(text);\n                result.push(<span key={result.length}>{typeof message === 'object' ? message.parts.map((item, i) => <span key={i} style={item.style}>{item.text}</span>): message}</span>);\n            }\n\n            return result;\n        }\n\n        return text;\n    }\n\n    getLog() {\n        return this.state.log.map((value, index) => <Typography\n            ref={index === this.state.log.length - 1 ? this.logRef : undefined}\n            key={index}\n            component=\"p\"\n            variant=\"body2\"\n        >\n            {this.colorize(value)}\n        </Typography>);\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Grid\n            style={this.props.noSpacing ? { height: '100%', width: '100%' } : {}}\n            container\n            direction=\"column\"\n            spacing={this.props.noSpacing ? 0 : 2}\n        >\n            {this.props.showElement && <Grid item>\n                {!this.state.stopped && <LinearProgress\n                    style={this.props.commandError ? { backgroundColor: '#f44336' } : null}\n                    variant={this.props.inBackground ? 'determinate' : 'indeterminate'}\n                    value={this.state.max && this.state.value ? 100 - Math.round((this.state.value / this.state.max) * 100) : this.props.commandError ? 0 : 100}\n                />}\n            </Grid>}\n            <div style={{\n                width: '100%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: this.props.inBackground ? 'space-between' : 'flex-end'\n            }}>\n                <Typography\n                    style={this.props.inBackground ? {\n                        width: 'calc(100% - 180px)',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        whiteSpace: 'nowrap'\n                    } : { display: 'none' }}\n                    component=\"div\"\n                >\n                    {this.colorize(this.state.log[this.state.log.length - 1])}\n                </Typography>\n                {this.props.showElement && <Typography component=\"div\" style={{ width: 250 }}>\n                    <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n                        <Grid item>{this.props.t('less')}</Grid>\n                        <Grid item>\n                            <Switch\n                                checked={this.state.moreChecked}\n                                onChange={(event) => this.setState({ moreChecked: event.target.checked })}\n                                color=\"primary\"\n                            />\n                        </Grid>\n                        <Grid item>{this.props.t('more')}</Grid>\n                    </Grid>\n                </Typography>}\n            </div>\n            <Grid item style={this.props.noSpacing ? { height: 'calc(100% - 45px)', width: '100%' } : {}}>\n                {this.state.moreChecked && <Paper className={this.props.noSpacing ? classes.logNoSpacing : classes.log}>\n                    {this.getLog()}\n                </Paper>}\n            </Grid>\n        </Grid>;\n    }\n}\n\nCommand.defaultProps = {\n    onSetCommandRunning: () => { },\n    showElement: true\n};\n\nCommand.propTypes = {\n    noSpacing: PropTypes.bool,\n    currentHost: PropTypes.string.isRequired,\n    callback: PropTypes.bool,\n    socket: PropTypes.object.isRequired,\n    onFinished: PropTypes.func.isRequired,\n    ready: PropTypes.bool.isRequired,\n    t: PropTypes.func.isRequired,\n    inBackground: PropTypes.bool,\n    commandError: PropTypes.bool,\n    errorFunc: PropTypes.func,\n    performed: PropTypes.func,\n    cmd: PropTypes.string.isRequired,\n    onSetCommandRunning: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(Command);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { Button, TextField } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport {TimeIcon} from '@material-ui/pickers/_shared/icons/TimeIcon';\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport {MOBILE_WIDTH} from '../helpers/MobileDialog';\n\nconst styles = theme => ({\n    buttonLabel: {\n        whiteSpace: 'nowrap',\n    },\n    input: {\n        minWidth: 150\n    }\n});\n\nclass SlowConnectionWarningDialog extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            readTimeoutSec: Math.round((this.props.readTimeoutMs || SlowConnectionWarningDialog.getReadTimeoutMs()) / 1000),\n        };\n\n        this.mobile = window.innerWidth < MOBILE_WIDTH;\n    }\n\n    static getReadTimeoutMs() {\n        return parseInt(window.localStorage.getItem('App.readTimeoutMs'), 10) || 15000;\n    }\n\n    static saveReadTimeoutMs(readTimeoutMs) {\n        if (readTimeoutMs) {\n            return window.localStorage.setItem('App.readTimeoutMs', readTimeoutMs.toString());\n        } else {\n            return window.localStorage.removeItem('App.readTimeoutMs');\n        }\n    }\n\n    render() {\n        return <Dialog\n            open={true}\n            maxWidth=\"lg\"\n            onClose={() => this.props.onClose()}\n        >\n            <DialogTitle>{this.props.t('Detected slow connection!')}</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    {this.props.t('Seems that you have slow connection. Do you want to increase timeout interval?')}\n                </DialogContentText>\n                <TextField\n                    classes={{root: this.props.classes.input}}\n                    label={this.props.t('Read timeout')}\n                    value={this.state.readTimeoutSec}\n                    onChange={e => this.setState({readTimeoutSec: e.target.value})}\n                    type=\"number\"\n                    inputProps={{min: 5, max: 600}}\n                    helperText={this.props.t('in seconds')}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    classes={{label: this.props.classes.buttonLabel}}\n                    variant=\"contained\"\n                    onClick={() => {\n                        SlowConnectionWarningDialog.saveReadTimeoutMs(60000);\n                        this.props.onClose(60000);\n                    }}\n                    startIcon={<TimeIcon/>}\n                >\n                    {this.mobile ? this.props.t('1 minute') : this.props.t('Set timeout to 1 minute')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    autoFocus\n                    color=\"primary\"\n                    disabled={!parseInt(this.state.readTimeoutSec, 10)}\n                    onClick={() => {\n                        const readTimeoutMs = parseInt(this.state.readTimeoutSec, 10) * 1000;\n                        SlowConnectionWarningDialog.saveReadTimeoutMs(readTimeoutMs);\n                        this.props.onClose(readTimeoutMs);\n                    }}\n                    startIcon={<CheckIcon/>}\n                >\n                    {this.mobile ? null : this.props.t('Apply')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => this.props.onClose()}\n                    color=\"default\"\n                    startIcon={<CloseIcon />}\n                >\n                    {this.mobile ? null : this.props.t('Cancel')}\n                </Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nSlowConnectionWarningDialog.propTypes = {\n    t: PropTypes.func.isRequired,\n    readTimeoutMs: PropTypes.number,\n    onClose: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(SlowConnectionWarningDialog);\n","import { useState, useEffect } from 'react';\nimport * as Icons from '@material-ui/icons/';\n\nconst ICON_CACHE = {};\n\nlet objIcon = {\n    'All': 'AllInclusive',\n    'messaging': 'Message',\n    'communication': 'WifiTethering',\n    'general': 'Apps',\n    'logic': 'VpnKey',\n    'alarm': 'NotificationsActive',\n    'iot-systems': 'SystemUpdateAlt',\n    'misc-data': 'EmojiSymbols',\n    'multimedia': 'PermMedia',\n    'network': 'SettingsEthernet',\n    'storage': 'Storage',\n    'visualization': 'Visibility',\n    'climate-control': 'SettingsBrightness',\n    'date-and-time': 'DateRange',\n    'energy': 'BatteryChargingFull',\n    'garden': 'FilterVintage',\n    'geoposition': 'LocationOn',\n    'hardware': 'Phonelink',\n    'health': 'Favorite',\n    'household': 'House',\n    'infrastructure': 'Apartment',\n    'lighting': 'EmojiObjects',\n    'protocols': 'DialerSip',\n    'utility': 'PhonelinkSetup',\n    'vehicle': 'AirportShuttle',\n    'visualization-icons': 'BubbleChart',\n    'visualization-widgets': 'Widgets',\n    'weather': 'Brightness6',\n    'metering': 'LinearScale'\n};\n\nconst MaterialDynamicIcon = ({ iconName, className, adapter, socket, onClick, objIconBool }) => {\n    let [url, setUrl] = useState('');\n\n    useEffect(() => {\n        if (adapter && socket) {\n            ICON_CACHE[adapter] = ICON_CACHE[adapter] || socket.getObject(`system.adapter.${adapter}`);\n            ICON_CACHE[adapter].then(obj =>\n                obj?.common?.icon && setUrl(`../../adapter/${adapter}/${obj.common.icon}`));\n        }\n    }, [adapter, socket]);\n\n    if (adapter) {\n        return <img onClick={e => onClick && onClick(e)} src={url || ''} className={className} alt=\"\" />;\n    } else {\n        const Element = Icons[objIconBool ? objIcon[iconName] || 'Help' : (iconName || 'Help')];\n        return <Element\n            className={className}\n            onClick={e => onClick && onClick(e)}\n        />;\n    }\n}\n\nMaterialDynamicIcon.defaultProps = {\n    className: null,\n    iconName: 'Help',\n    objIconBool: false\n};\n\nexport default MaterialDynamicIcon;","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport Button from '@material-ui/core/Button';\nimport { Dialog, DialogActions, DialogContent, DialogTitle, TextField, withStyles } from '@material-ui/core';\n\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport i18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    modalWrapper: {\n        position: 'relative',\n        '[class*=\"MuiPaper-root MuiDialog-paper MuiPaper-elevation24 MuiDialog-paperScrollPaper MuiDialog-paperWidthXl MuiPaper-elevation24 MuiPaper-rounded\"]': {\n            backgroundColor: '#f6f6f6'\n        }\n    },\n    modalDialog: {\n        minWidth: 400\n    },\n    overflowHidden: {\n        display: 'flex',\n        overflow: 'hidden'\n    },\n    titleIcon: {\n        marginRight: 5,\n    }\n});\n\nconst CustomModal = ({ title, fullWidth, help, maxWidth, progress, icon, applyDisabled, applyButton, classes, open, onClose, children, titleButtonApply, titleButtonClose, onApply, textInput, defaultValue, overflowHidden }) => {\n    const [value, setValue] = useState(defaultValue);\n    useEffect(() => {\n        setValue(defaultValue);\n    }, [defaultValue]);\n\n    let Icon = null;\n\n    if (icon) {\n        Icon = icon;\n    }\n\n    return <Dialog\n        open={open}\n        maxWidth={maxWidth || 'md'}\n        fullWidth={!!fullWidth}\n        disableEscapeKeyDown={false}\n        onClose={onClose}\n        classes={{ paper: classes.modalDialog, /*paper: classes.background*/ }}\n        className={classes.modalWrapper}\n    >\n        {title && <DialogTitle>{icon ? <Icon className={classes.titleIcon}/> : null}{title}</DialogTitle>}\n        <DialogContent className={clsx(overflowHidden ? classes.overflowHidden : null)}>\n            {textInput && <TextField\n                // className={className}\n                autoComplete=\"off\"\n                fullWidth\n                autoFocus\n                variant=\"outlined\"\n                size=\"medium\"\n                // rows={10}\n                multiline\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n                // customValue\n            />}\n            {children}\n            {help ? <div>{help}</div> : null}\n        </DialogContent>\n        <DialogActions>\n            {applyButton && <Button\n                startIcon={<CheckIcon/>}\n                disabled={progress || (applyDisabled && defaultValue === value)}\n                onClick={() => onApply(textInput ? value : '')}\n                variant=\"contained\"\n                color=\"primary\"\n            >\n                {i18n.t(titleButtonApply)}\n            </Button>}\n            <Button\n                onClick={onClose}\n                disabled={progress}\n                variant=\"contained\"\n                startIcon={<CloseIcon/>}\n            >\n                {i18n.t(titleButtonClose)}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}\n\nCustomModal.defaultProps = {\n    open: false,\n    onApply: () => { },\n    onClose: () => { },\n    applyButton: true,\n    applyDisabled: false,\n    titleButtonClose: 'Cancel',\n    titleButtonApply: 'Ok',\n    overflowHidden: false,\n    help: ''\n};\n\nCustomModal.propTypes = {\n    icon: PropTypes.object,\n    open: PropTypes.bool,\n    onClose: PropTypes.func,\n    children: PropTypes.any,\n    titleButtonClose: PropTypes.string,\n    titleButtonApply: PropTypes.string,\n    onApply: PropTypes.func,\n    fullWidth: PropTypes.bool,\n    maxWidth: PropTypes.string,\n    help: PropTypes.string,\n};\n\nexport default withStyles(styles)(CustomModal);","export default __webpack_public_path__ + \"static/media/sentry.e732e10c.svg\";","import {Component} from 'react';\n\nexport const MOBILE_WIDTH = 800;\n\nclass MobileDialog extends Component {\n    static isMobile() {\n        return window.innerWidth < MOBILE_WIDTH;\n    }\n\n    componentDidMount() {\n        if (this.state.mobile !== MobileDialog.isMobile()) {\n            this.setState({mobile: MobileDialog.isMobile()});\n        }\n        if (!this._resizeHandlerinstalled) {\n            this._resizeHandlerinstalled = true;\n            window.addEventListener('resize', this.__onResize, false);\n        }\n    }\n\n    componentWillUnmount() {\n        this._timerOnResize && clearTimeout(this._timerOnResize);\n        this._timerOnResize = null;\n        if (this._resizeHandlerinstalled) {\n            window.removeEventListener('resize', this.__onResize, false);\n        }\n    }\n\n    __onResize = () => {\n        this._timerOnResize && clearTimeout(this._timerOnResize);\n        this._timerOnResize = setTimeout(() => {\n            this._timerOnResize = null;\n            if (this.state.mobile !== MobileDialog.isMobile()) {\n                this.setState({mobile: MobileDialog.isMobile()});\n            }\n        }, 200);\n    }\n\n    getButtonTitle(icon, text, moreMobileIcon) {\n        if (icon && text) {\n            if (this.state.mobile) {\n                if (moreMobileIcon) {\n                    return <>{icon} & {moreMobileIcon}</>;\n                } else {\n                    return icon;\n                }\n            } else {\n                return <>{icon}<span style={{marginLeft: 4}}>{text}</span></>;\n            }\n        } else if (icon) {\n            return icon;\n        } else if (text) {\n            return text;\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default MobileDialog;","import React from 'react';\n// import Menu from '@material-ui/core/Menu';\n// import MenuItem from '@material-ui/core/MenuItem';\nimport { IconButton, Tooltip } from '@material-ui/core';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness5Icon from '@material-ui/icons/Brightness5';\nimport Brightness6Icon from '@material-ui/icons/Brightness6';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\n// const themeNames = ['dark', 'blue', 'colored', 'light'];\n\nexport default function ToggleThemeMenu({ themeName, toggleTheme, t, className, style, size }) {\n    // const [anchorEl, setAnchorEl] = useState(null);\n    // const handleClose = (name) => {\n    //     setAnchorEl(null);\n    //     toggleTheme(name);\n    // };\n\n    return <div className={className || undefined} style={style || undefined}>\n        <Tooltip title={t('Change color theme')}>\n            <IconButton onClick={() => toggleTheme()} size={size || 'medium'}>\n                {themeName === 'dark' ? <Brightness4Icon/> : (\n                    themeName === 'blue' ? <Brightness5Icon/> : (\n                        themeName === 'colored' ? <Brightness6Icon/> : <Brightness7Icon/>))\n                }\n            </IconButton>\n        </Tooltip>\n        {/* <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={() => setAnchorEl(null)}\n        >\n            {themeNames.map(name => <MenuItem\n                key={name}\n                selected={name === themeName}\n                onClick={() => handleClose(name)}>\n                {t(name)}\n            </MenuItem>)}\n        </Menu> */}\n    </div>;\n}","import { Component } from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { Grid } from '@material-ui/core';\nimport { Paper } from '@material-ui/core';\n\nconst styles = {\n    root: {\n        width: '100%',\n        height: '100%'\n    },\n    overflowHidden: {\n        overflow: 'hidden'\n    },\n    container: {\n        height: '100%'\n    }\n};\n\nclass TabContainer extends Component {\n    render() {\n        const { classes } = this.props;\n\n        return <Paper\n            elevation={ !isNaN(this.props.elevation) ? this.props.elevation : 1 }\n            className={ clsx(classes.root, {[classes.overflowHidden]: this.props.overflow !== 'visible'}, this.props.className) }\n        >\n            <Grid\n                container\n                direction=\"column\"\n                wrap=\"nowrap\"\n                className={ classes.container }\n            >\n                { this.props.children }\n            </Grid>\n        </Paper>;\n    }\n}\n\nTabContainer.propTypes = {\n    elevation: PropTypes.number,\n    overflow: PropTypes.string,\n    className: PropTypes.string\n};\n\nexport default withStyles(styles)(TabContainer);","import { Button, Menu, MenuItem, makeStyles, Tooltip } from '@material-ui/core';\nimport React, { useState, } from 'react';\n\nimport MaterialDynamicIcon from '../helpers/MaterialDynamicIcon';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        marginLeft: 10,\n        marginRight: 10\n    },\n    icon: {\n        marginRight: 5\n    }\n}));\n\nconst CustomSelectButton = ({ arrayItem, title, onClick, value, contained, buttonIcon, icons, t, translateSuffix, noTranslation }) => {\n    const [anchorEl, setAnchorEl] = useState(null);\n    translateSuffix = translateSuffix || '';\n    const classes = useStyles();\n\n    return <>\n        <Tooltip title={title || ''}>\n            <Button\n                className={classes.button}\n                variant={contained ? 'contained' : 'outlined'}\n                color=\"primary\"\n                onClick={e => setAnchorEl(e.currentTarget)}\n            >\n                {buttonIcon || (icons && <MaterialDynamicIcon objIconBool iconName={value} className={classes.icon} />)}{typeof value === 'number' ? value : (noTranslation ? value : t(value + translateSuffix))}\n            </Button>\n        </Tooltip>\n        <Menu\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={() => setAnchorEl(null)}\n        >\n            {arrayItem.map(({ name }, idx) => {\n                return <MenuItem\n                    key={name}\n                    selected={value ? name === value : value === 0 ? name === value : idx === 0}\n                    disabled={value ? name === value : value === 0 ? name === value : idx === 0}\n                    className={'tag-card-' + name}\n                    style={{ placeContent: 'space-between' }}\n                    value={name}\n                    onClick={e => {\n                        onClick(name);\n                        setAnchorEl(null);\n                    }}>\n                    {icons && <MaterialDynamicIcon objIconBool iconName={name} className={classes.icon} />}{typeof name === 'number' ? name : (noTranslation ? name : t(name + translateSuffix))}\n                </MenuItem>\n            })}\n        </Menu>\n    </>\n}\n\nCustomSelectButton.defaultProps = {\n    icons: false,\n    translateSuffix: '',\n};\n\nexport default CustomSelectButton;","import * as React from 'react';\n\nexport function useStateLocal(defaultValue, key) {\n    const [state, setState] = React.useState(\n        window.localStorage.getItem(key) ?\n            JSON.parse(window.localStorage.getItem(key))\n            :\n            defaultValue\n    );\n\n    const eventsToInstall = newValue => {\n        window.localStorage.setItem(key, JSON.stringify(newValue));\n        setState(newValue);\n    };\n\n    return [state, eventsToInstall, !!window.localStorage.getItem(key)];\n}","import PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { Grid } from '@material-ui/core';\n\nconst styles = {\n    root: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    overflowAuto: {\n        overflow: 'auto'\n    }\n};\n\nconst TabContent = props => {\n    const { classes } = props;\n\n    return <Grid\n        item\n        className={ clsx(classes.root, {[classes.overflowAuto]: props.overflow === 'auto'}) }\n    >\n        { props.children }\n    </Grid>;\n}\n\nTabContent.propTypes = {\n    /**\n     * The content of the component.\n     */\n    children: PropTypes.node,\n    /**\n     * Overflow behavior\n     */\n    overflow: PropTypes.string\n};\n\nexport default withStyles(styles)(TabContent);","import PropTypes from 'prop-types';\n\nimport { Grid } from '@material-ui/core';\n\nconst TabHeader = props => {\n    return <Grid\n        item\n        container\n        alignItems=\"center\"\n    >\n        { props.children }\n    </Grid>;\n}\n\nTabHeader.propTypes = {\n    /**\n     * The content of the component.\n     */\n    children: PropTypes.node\n};\n\nexport default TabHeader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\nimport {Autocomplete} from '@material-ui/lab';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    indeterminate: {\n        opacity: 0.5\n    }\n});\n\nclass ConfigText extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        this.setState({value});\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const value = ConfigGeneric.getValue(props.data, props.attr);\n        if (value === null || value === undefined || value.toString().trim() !== (state.value ||  '').toString().trim()) {\n            return {value};\n        } else {\n            return null;\n        }\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        let isIndeterminate = Array.isArray(this.state.value) || this.state.value === ConfigGeneric.DIFFERENT_LABEL;\n\n        if (isIndeterminate) {\n            const arr = [...this.state.value].map(item => ({label: item.toString(), value: item}));\n            arr.unshift({label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE});\n\n            return <Autocomplete\n                className={this.props.classes.indeterminate}\n                fullWidth\n                value={arr[0]}\n                getOptionSelected={(option, value) => option.label === value.label}\n                onChange={(_, value) =>\n                    this.onChange(this.props.attr, value ? value.value : '')}\n                options={arr}\n                getOptionLabel={option => option.label}\n                renderInput={params => <TextField\n                    {...params}\n                    error={!!error}\n                    placeholder={this.getText(this.props.schema.placeholder)}\n                    label={this.getText(this.props.schema.label)}\n                    helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n                    disabled={!!disabled}\n                />}\n            />;\n        } else {\n            return <TextField\n                fullWidth\n                value={this.state.value === null || this.state.value === undefined ? '' : this.state.value}\n                error={!!error}\n                disabled={!!disabled}\n                inputProps={{maxLength: this.props.schema.maxLength || this.props.schema.max || undefined}}\n                onChange={e => {\n                    const value = e.target.value;\n                    this.setState({value}, () =>\n                        this.onChange(this.props.attr, (value || '').trim()));\n                }}\n                placeholder={this.getText(this.props.schema.placeholder)}\n                label={this.getText(this.props.schema.label)}\n                helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n            />;\n        }\n    }\n}\n\nConfigText.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigText);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nconst styles = theme => ({\n    error: {\n        color: 'red'\n    }\n});\n\nclass ConfigCheckbox extends ConfigGeneric {\n    renderItem(error, disabled) {\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        let isIndeterminate = Array.isArray(value);\n\n        return <FormControl className={this.props.classes.fullWidth}>\n            <FormControlLabel\n            onClick={e => {\n                e.preventDefault();\n                e.stopPropagation();\n                this.onChange(this.props.attr, !value);\n            }}\n            control={<Checkbox\n                indeterminate={isIndeterminate}\n                checked={!!value}\n                onChange={e => {\n                    if (isIndeterminate) {\n                        this.onChange(this.props.attr, true);\n                    } else {\n                        this.onChange(this.props.attr, e.target.checked);\n                    }\n                }}\n                disabled={!!disabled}\n            />}\n            label={this.getText(this.props.schema.label)}\n        />\n        <FormHelperText className={this.props.classes.error}>{\n            error ? (this.props.schema.validatorErrorText ? I18n.t(this.props.schema.validatorErrorText) : I18n.t('Error')) :\n                null}</FormHelperText>\n        {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>\n    }\n}\n\nConfigCheckbox.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigCheckbox);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        height: '100%',\n        width: '100%',\n    }\n});\n\nclass ConfigStaticImage extends ConfigGeneric {\n    renderItem() {\n        return <img\n            className={this.props.classes.fullWidth}\n            src={this.props.schema.src}\n            onClick={this.props.schema.href ? () => this.props.schema.href && window.open(this.props.schema.href, '_blank') : null}\n            alt=\"\"\n        />;\n    }\n}\n\nConfigStaticImage.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigStaticImage);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport I18n from \"@iobroker/adapter-react/i18n\";\nimport {Autocomplete} from \"@material-ui/lab\";\nimport React from \"react\";\n\nconst styles = theme => ({\n    indeterminate: {\n        opacity: 0.5\n    }\n});\n\nclass ConfigNumber extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        this.setState({value});\n        //this.props.registerOnForceUpdate(this.props.attr, this.onUpdate);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const value = ConfigGeneric.getValue(props.data, props.attr);\n        if (value === null || value === undefined || value.toString() !== parseFloat(state.value).toString()) {\n            return {value};\n        } else {\n            return null;\n        }\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        let isIndeterminate = Array.isArray(this.state.value) || this.state.value === ConfigGeneric.DIFFERENT_LABEL;\n\n        if (isIndeterminate) {\n            const arr = [...this.state.value].map(item => ({label: item.toString(), value: item}));\n            arr.unshift({label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE});\n\n            return <Autocomplete\n                className={this.props.classes.indeterminate}\n                fullWidth\n                value={arr[0]}\n                getOptionSelected={(option, value) => option.label === value.label}\n                onChange={(_, value) =>\n                    this.onChange(this.props.attr, value ? parseFloat(value.value) : this.props.schema.min || 0)}\n                options={arr}\n                getOptionLabel={option => option.label}\n                renderInput={params => <TextField\n                    {...params}\n                    error={!!error}\n                    placeholder={this.getText(this.props.schema.placeholder)}\n                    label={this.getText(this.props.schema.label)}\n                    helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n                    disabled={!!disabled}\n                />}\n            />;\n        } else {\n            if (!error && this.state.value !== null && this.state.value !== undefined) {\n                if (this.props.schema.min !== undefined && this.state.value < this.props.schema.min) {\n                    error = I18n.t('Too small');\n                }\n                if (this.props.schema.max !== undefined && this.state.value > this.props.schema.max) {\n                    error = I18n.t('Too big');\n                }\n            }\n\n            return <TextField\n                type=\"number\"\n                fullWidth\n                inputProps={{min: this.props.schema.min, max: this.props.schema.max, step: this.props.schema.step}}\n                value={this.state.value === null || this.state.value === undefined ? '' : this.state.value}\n                error={!!error}\n                disabled={!!disabled}\n                onChange={e => {\n                    const value = e.target.value;\n                    if (this.props.schema.min !== undefined && value < this.props.schema.min) {\n                        this.onError(this.props.attr, I18n.t('Too small'));\n                    }\n                    if (this.props.schema.max !== undefined && value > this.props.schema.max) {\n                        this.onError(this.props.attr, I18n.t('Too big'));\n                    }\n                    this.setState({value}, () =>\n                        this.onChange(this.props.attr, parseFloat(value) || 0));\n                }}\n                placeholder={this.getText(this.props.schema.placeholder)}\n                label={this.getText(this.props.schema.label)}\n                helperText={error && typeof error === 'string' ? error : this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n            />;\n        }\n    }\n}\n\nConfigNumber.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigNumber);","import PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport { ChromePicker } from 'react-color'\n\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport ClearIcon from '@material-ui/icons/Close';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nimport Utils from '@iobroker/adapter-react/Components/Utils';\nimport ColorPicker from '@iobroker/adapter-react/Components/ColorPicker';\n\nconst styles = theme => ({});\n\nclass ConfigColor extends ConfigGeneric {\n    renderColorDialog() {\n        return !!this.state.showColorDialog && <Dialog\n            onClose={() => {\n                this.setState({showColorDialog: false});\n            }}\n            open={this.state.showColorDialog}>\n            <ChromePicker\n                color={this.state.colorDialogValue}\n                onChange={value => {\n                    this.setState({colorDialogValue: value}, () =>\n                        this.onChange(this.props.attr, ColorPicker.getColor(this.state.colorDialogValue, true)));\n                }}\n            />\n        </Dialog>;\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        let textColor = Utils.isUseBright(value, null);\n        if (textColor === null) {\n            textColor = undefined;\n        }\n        return <>\n            {this.renderColorDialog()}\n            <TextField\n                disabled={!!disabled}\n                style={{minWidth: 100, width: 'calc(100% - 8px)'}}\n                label={this.getText(this.props.schema.label)}\n                value={value || ''}\n                onClick={() => this.setState({showColorDialog: true, colorDialogValue: value})}\n                onChange={e => {\n                    const color = e.target.value;\n                    this.onChange(this.props.attr, color);\n                }}\n                inputProps={{\n                    style: {\n                        //paddingLeft: noPadding ? 0 : 8,\n                        backgroundColor: value,\n                        color: textColor ? '#FFF' : '#000'\n                    }\n                }}\n                InputProps={{\n                    endAdornment: value ?\n                        <IconButton\n                            disabled={!!this.props.onPaste}\n                            size=\"small\"\n                            onClick={e => {\n                                e.stopPropagation();\n                                this.onChange(this.props.attr, '');\n                            }}>\n                            <ClearIcon/>\n                        </IconButton>\n                        : undefined,\n                }}\n                InputLabelProps={{shrink: true}}\n            />\n        </>;\n    }\n}\n\nConfigColor.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigColor);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigIP extends ConfigGeneric {\n\n    componentDidMount() {\n        super.componentDidMount();\n        this.props.socket.getHostByIp(this.props.common.host)\n            .then(ips => {\n                // [{name, address, family}]\n                if (!this.props.schema.listenOnAllPorts) {\n                    ips = ips.filter(item => item.address !== '0.0.0.0' && item.address !== '::');\n                }\n                if (this.props.schema.onlyIp4) {\n                    ips = ips.filter(item => item.family === 'ipv4');\n                } else\n                if (this.props.schema.onlyIp6) {\n                    ips = ips.filter(item => item.family === 'ipv6');\n                }\n                ips.forEach(item => {\n                    if (item.address === '0.0.0.0') {\n                        item.name = '[IPv4] 0.0.0.0 - ' + I18n.t('Listen on all IPs');\n                    } else\n                    if (item.address === '::') {\n                        item.name = '[IPv6] :: - ' + I18n.t('Listen on all IPs');\n                    }\n                });\n                this.setState({ips});\n            });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        const item = this.state.ips?.find(item => item.address === value);\n\n        return <FormControl className={this.props.classes.fullWidth}>\n            <InputLabel>{this.getText(this.props.schema.label)}</InputLabel>\n            <Select\n                error={!!error}\n                disabled={!!disabled}\n                value={value}\n                renderValue={val => item?.name || val}\n                onChange={e => this.onChange(this.props.attr, e.target.value)}\n            >\n                {this.state.ips?.map((item, i) =>\n                    <MenuItem key={i} value={item.address}>{item.name}</MenuItem>)}\n            </Select>\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigIP.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigIP);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigSelect extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n\n        const selectOptions = JSON.parse(JSON.stringify(this.props.schema.options));\n\n        // if __different\n        if (Array.isArray(value)) {\n            this.initialValue = [...value];\n            selectOptions.unshift({label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE});\n            this.setState({value: ConfigGeneric.DIFFERENT_VALUE, selectOptions});\n        } else {\n            this.setState({value, selectOptions});\n        }\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.selectOptions) {\n            return null;\n        }\n\n        const selectOptions = (this.state.selectOptions || []).filter(item => {\n            if (!item.hidden) {\n                return true;\n            } else if (this.props.custom) {\n                return !this.executeCustom(item.hidden, this.props.data, this.props.customObj, this.props.instanceObj);\n            } else {\n                return !this.execute(item.hidden, this.props.schema.default, this.props.data);\n            }\n        });\n\n        // eslint-disable-next-line\n        const item = selectOptions.find(item => item.value == this.state.value); // let \"==\" be and not ===\n\n        return <FormControl className={this.props.classes.fullWidth}>\n            <InputLabel>{this.getText(this.props.schema.label)}</InputLabel>\n            <Select\n                error={!!error}\n                disabled={!!disabled}\n                value={this.state.value || '_'}\n                renderValue={val => this.getText(item?.label, this.props.schema.noTranslation)}\n                onChange={e => {\n                    this.setState({value: e.target.value === '_' ? '' : e.target.value}, () => {\n                        if (this.state.value === ConfigGeneric.DIFFERENT_VALUE) {\n                            this.onChange(this.props.attr, this.initialValue);\n                        } else {\n                            this.onChange(this.props.attr, this.state.value);\n                        }\n                    });\n                }}\n            >\n                {selectOptions.map(item =>\n                    <MenuItem key={item.value} value={item.value} style={item.value === ConfigGeneric.DIFFERENT_VALUE ? {opacity: 0.5} : {}}>{this.getText(item.label, this.props.schema.noTranslation)}</MenuItem>)}\n            </Select>\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigSelect.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigSelect);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport Icon from '@iobroker/adapter-react/Components/Icon';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Utils from '../Utils';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    icon: {\n        width: 16,\n        height: 16,\n        marginRight: 8\n    }\n});\n\nclass ConfigUser extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        this.props.socket.getUsers()\n            .then(users => {\n                const _users = {};\n                const lang = I18n.getLanguage();\n\n                if (this.props.schema.short) {\n                    users.forEach(user => _users[user._id] = {\n                        color: user.common?.color,\n                        icon: user.common?.icon,\n                        name: Utils.getObjectNameFromObj(user, lang)\n                    });\n                } else {\n                    users.forEach(user => _users[user._id.replace(/^system\\.user\\./, '')] = {\n                        color: user.common?.color,\n                        icon: user.common?.icon,\n                        name: Utils.getObjectNameFromObj(user, lang)\n                    });\n                }\n\n                this.setState({users: _users});\n            });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n\n        return <FormControl className={this.props.classes.fullWidth}>\n            <InputLabel>{this.getText(this.props.schema.label)}</InputLabel>\n            <Select\n                error={!!error}\n                disabled={!!disabled}\n                value={value}\n                renderValue={val => <span>{this.state.users && this.state.users[val]?.icon ? <Icon src={this.state.users && this.state.users[val]?.icon} className={this.props.classes.icon} /> : null}{(this.state.users && this.state.users[val]?.name) || val || ''}</span>}\n                style={{ color: (this.state.users && this.state.users[value]?.color) || undefined, backgroundColor: Utils.getInvertedColor(this.state.users && this.state.users[value]?.color, this.props.themeType) }}\n                onChange={e => this.onChange(this.props.attr, e.target.value)}\n            >\n                {this.state.users && Object.keys(this.state.users).map(id => <MenuItem style={{ color: this.state.users[id].color || undefined, backgroundColor: Utils.getInvertedColor(this.state.users[id].color, this.props.themeType) }} key={id} value={id}>\n                    {this.state.users[id].icon ? <Icon src={this.state.users[id].icon} className={this.props.classes.icon} /> : null}\n                    {this.state.users[id].name}\n                </MenuItem>)}\n            </Select>\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigUser.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigUser);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\n\nimport Icon from '@iobroker/adapter-react/Components/Icon';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        height: '100%',\n        width: '100%',\n    }\n});\n\nclass ConfigStaticText extends ConfigGeneric {\n    renderItem(error, disabled) {\n        if (this.props.schema.button) {\n            return <Button\n                variant={this.props.schema.variant || undefined}\n                color={this.props.schema.color || undefined}\n                className={this.props.classes.fullWidth}\n                disabled={disabled}\n                onClick={this.props.schema.href ? () => this.props.schema.href && window.open(this.props.schema.href, '_blank') : null}\n            >\n                {this.props.schema.icon ? <Icon src={this.props.schema.icon} className={this.props.classes.icon}/> : null}\n                {this.getText(this.props.schema.text || this.props.schema.label, this.props.schema.noTranslation)}\n            </Button>\n        } else {\n            const href = this.props.schema.href ? this.getText(this.props.schema.href, true) : null;\n\n            return <span onClick={href ? () => window.open(href, '_blank') : null}\n            >{this.getText(this.props.schema.text || this.props.schema.label)}</span>;\n        }\n    }\n}\n\nConfigStaticText.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigStaticText);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nimport copy from '@iobroker/adapter-react/Components/copy-to-clipboard';\nimport CopyIcon from '@iobroker/adapter-react/icons/IconCopy';\n\nconst styles = theme => ({\n});\n\nclass ConfigPattern extends ConfigGeneric {\n    renderItem(error, disabled) {\n        return <TextField\n            fullWidth\n            disabled={!!disabled}\n            InputProps={{\n                endAdornment: this.props.schema.copyToClipboard ?\n                    <IconButton\n                        size=\"small\"\n                        onClick={e => {\n                            copy(this.getPattern(this.props.schema.pattern));\n                            window.alert('Copied');\n                        }}>\n                        <CopyIcon/>\n                    </IconButton>\n                    : undefined,\n            }}\n            value={this.getPattern(this.props.schema.pattern)}\n            label={this.getText(this.props.schema.label)}\n            helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n        />;\n    }\n}\n\nConfigPattern.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigPattern);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigCertificateSelect extends ConfigGeneric {\n    async componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        let selectOptions = await this.props.socket.getCertificates();\n\n        selectOptions = selectOptions\n            .filter(el => this.props.attr.toLowerCase().endsWith(el.type))\n            .map(el => ({label: el.name, value: el.name}));\n\n        selectOptions.unshift({label: ConfigGeneric.NONE_LABEL, value: ConfigGeneric.NONE_VALUE});\n\n        this.setState({value, selectOptions});\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.selectOptions) {\n            return null;\n        }\n        // eslint-disable-next-line\n        const item = this.state.selectOptions?.find(item => item.value === this.state.value);\n\n        return <FormControl className={this.props.classes.fullWidth}>\n            <InputLabel shrink>{this.getText(this.props.schema.label)}</InputLabel>\n            <Select\n                error={!!error}\n                displayEmpty\n                disabled={!!disabled}\n                value={this.state.value}\n                renderValue={val => this.getText(item?.label, this.props.schema.noTranslation !== false)}\n                onChange={e =>\n                    this.setState({ value: e.target.value }, () =>\n                        this.onChange(this.props.attr, this.state.value))}\n            >\n                {this.state.selectOptions?.map(item =>\n                    <MenuItem\n                        key={item.value}\n                        value={item.value}\n                        style={item.value === ConfigGeneric.NONE_VALUE ? { opacity: 0.5 } : {}}>{\n                            this.getText(item.label, this.props.schema.noTranslation !== false)\n                        }</MenuItem>)}\n            </Select>\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigCertificateSelect.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigCertificateSelect);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport UploadImage from '../UploadImage';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    image: {\n        width: 100\n    }\n});\n\nclass ConfigCertificateSelect extends ConfigGeneric {\n    constructor(props) {\n        super(props);\n        this.imageRef = React.createRef();\n        this.index = Date.now();\n    }\n    async componentDidMount() {\n        super.componentDidMount();\n\n        if (this.props.schema.base64) {\n            const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n            this.setState({ value });\n        } else {\n            this.props.socket.fileExists(this.props.adapterName + '.' + this.props.instance, this.props.attr)\n                .then(exist => {\n                    if (exist && this.imageRef.current) {\n                        this.imageRef.current.src = this._getUrl();\n                        this.imageRef.current.style.display = 'block';\n                    }\n                });\n        }\n    }\n\n    _getUrl(update) {\n        if (update) {\n            this.index = Date.now();\n        }\n        let url = `files/${this.props.adapterName}.${this.props.instance}/${this.props.attr}?t=${this.index}`;\n        if (window.location.port === '3000') {\n            url = window.location.protocol + '//' + window.location.hostname + ':8081/' + url;\n        }\n\n        return url;\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        // eslint-disable-next-line\n        return <FormControl className={this.props.classes.fullWidth}>\n            <InputLabel shrink>{this.getText(this.props.schema.label)}</InputLabel>\n            <UploadImage\n                error={!!error}\n                disabled={disabled}\n                accept={this.props.schema.accept}\n                crop={this.props.schema.crop}\n                maxSize={this.props.schema.maxSize || 256 * 1024}\n                icon={this.state.value || undefined}\n                removeIconFunc={() => {\n                    if (this.props.schema.base64) {\n                        this.setState({ value: null }, () =>\n                            this.onChange(this.props.attr, this.state.value));\n                    } else {\n                        // delete file to /instance/attr\n                        this.props.socket.deleteFile(this.props.adapterName + '.' + this.props.instance, this.props.attr);\n                        // update image\n                        if (this.imageRef.current) {\n                            this.imageRef.current.style.display = 'none';\n                            this.imageRef.current.src = '';\n                        }\n                    }\n                }}\n                onChange={base64 => {\n                    if (this.props.schema.base64) {\n                        this.setState({ value: base64 }, () =>\n                            this.onChange(this.props.attr, this.state.value));\n                    } else {\n                        if (base64.startsWith('data')) {\n                            base64 = base64.split(',')[1];\n                        }\n                        // upload file to /instance/attr\n                        this.props.socket.writeFile64(this.props.adapterName + '.' + this.props.instance, this.props.attr, base64)\n                            .then(() => {\n                                if (this.imageRef.current) {\n                                    this.imageRef.current.style.display = 'block';\n                                    this.imageRef.current.src = this._getUrl(true);\n                                }\n                            });\n                    }\n                }}\n                t={this.props.t}\n            />\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n            {this.props.schema.base64 ?  null : <img\n                src={this._getUrl()}\n                ref={this.imageRef}\n                className={this.props.classes.image}\n                style={{display: 'none'}}\n                alt=\"Background\"\n            />}\n        </FormControl>;\n    }\n}\n\nConfigCertificateSelect.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigCertificateSelect);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigInstanceSelect extends ConfigGeneric {\n    async componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n\n        this.props.socket.getAdapterInstances(this.props.schema.adapter)\n            .then(instances => {\n                const selectOptions = instances.map(instance => ({\n                    value: this.props.schema.long ? instance._id :\n                        (this.props.schema.short ? instance._id.split('.').pop() : instance._id.replace(/^system\\.adapter\\./, '')),\n                    label: `${instance.common.name} [${instance._id.replace(/^system\\.adapter\\./, '')}]`\n                }));\n\n                selectOptions.unshift({ label: ConfigGeneric.NONE_LABEL, value: ConfigGeneric.NONE_VALUE });\n\n                this.setState({ value: value || '', selectOptions });\n            });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.selectOptions) {\n            return null;\n        }\n\n        const item = this.state.selectOptions?.find(item => item.value === this.state.value);\n\n        return <FormControl className={this.props.classes.fullWidth} key={this.props.attr}>\n            <InputLabel shrink>{this.getText(this.props.schema.label)}</InputLabel>\n            <Select\n                error={!!error}\n                displayEmpty\n                disabled={!!disabled}\n                value={this.state.value}\n                renderValue={val => this.getText(item?.label, true)}\n                onChange={e =>\n                    this.setState({ value: e.target.value }, () =>\n                        this.onChange(this.props.attr, this.state.value))}\n            >\n                {this.state.selectOptions.map(item =>\n                    <MenuItem key={item.value} value={item.value} style={item.value === ConfigGeneric.NONE_VALUE ? { opacity: 0.5 } : {}}>{\n                        this.getText(item.label, true)\n                    }</MenuItem>)}\n            </Select>\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigInstanceSelect.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigInstanceSelect);","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { lighten, withStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { IconButton, InputAdornment, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TableSortLabel, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloseIcon from '@material-ui/icons/Close';\nimport UpIcon from '@material-ui/icons/ArrowUpward';\nimport DownIcon from '@material-ui/icons/ArrowDownward';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport ConfigPanel from './ConfigPanel';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    root: {\n        width: '100%',\n    },\n    paper: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n        backgroundColor: `rgba(255, 255, 255, 0.1)`,\n    },\n    table: {\n        minWidth: 750,\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n    addIcon: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    highlight:\n        theme.palette.type === 'light'\n            ? {\n                color: theme.palette.secondary.main,\n                backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n            }\n            : {\n                color: theme.palette.text.primary,\n                backgroundColor: theme.palette.secondary.dark,\n            },\n    title: {\n        flex: '1 1 100%',\n    },\n    rootTool: {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(1),\n    },\n    silver: {\n        opacity: 0.2\n    },\n    flex: {\n        display: 'flex'\n    },\n    filteredOut: {\n        padding: 10,\n        display: 'flex',\n        textAlign: 'center'\n    },\n    buttonEmpty: {\n        width: 30,\n        display: 'inline-block'\n    },\n    buttonCell: {\n        whiteSpace: 'nowrap',\n    }\n});\n\nfunction objectToArray(object, nameOfFirstAttr, nameOfSecondAttr) {\n    nameOfFirstAttr  = nameOfFirstAttr || 'key';\n\n    const array = [];\n    Object.keys(object).forEach(key => {\n        const item = {};\n        item[nameOfFirstAttr] = key;\n\n        if (nameOfSecondAttr) {\n            item[nameOfSecondAttr] = object[key]\n            array.push(item);\n        } else {\n            array.push(Object.assign(item, object[key]));\n        }\n    });\n\n    return array;\n}\n\nfunction arrayToObject(array, nameOfFirstAttr, nameOfSecondAttr) {\n    nameOfFirstAttr  = nameOfFirstAttr  || 'key';\n\n    const object = {};\n\n    array.forEach(row => {\n        let key = row[nameOfFirstAttr];\n        if (key === null || key === undefined) {\n            key = '';\n        }\n        delete row[nameOfFirstAttr];\n\n        if (nameOfSecondAttr) {\n            object[key] = row[nameOfSecondAttr];\n        } else {\n            object[key] = row;\n        }\n    });\n\n    return object;\n}\n\nclass ConfigTable extends ConfigGeneric {\n    constructor(props) {\n        super(props)\n        this.filterRefs = {};\n        this.props.schema.items.forEach(el => {\n            if (el.filter) {\n                this.filterRefs[el.attr] = createRef();\n            }\n        });\n    }\n\n    async componentDidMount() {\n        super.componentDidMount();\n        let value = ConfigGeneric.getValue(this.props.data, this.props.attr) || [];\n\n        // if the list is given as an object\n        if (this.props.schema.objKeyName) {\n            value = objectToArray(value, this.props.schema.objKeyName, this.props.schema.objValueName);\n        }\n\n        const visibleValue = value.map((_, i) => i);\n\n        this.setState({ value, visibleValue, orderBy: /*this.props.schema.items.length ? this.props.schema.items[0].attr : */'', order: 'asc' });\n    }\n\n    componentWillUnmount() {\n        this.typingTimer && clearTimeout(this.typingTimer)\n        this.typingTimer = null;\n        super.componentWillUnmount();\n    }\n\n    itemTable(attrItem, data, idx) {\n        const { value, systemConfig } = this.state;\n        const { schema } = this.props;\n        const schemaFind = schema.items.find(el => el.attr === attrItem);\n\n        if (!schemaFind) {\n            return null;\n        }\n\n        const schemaItem = {\n            items: {\n                [attrItem]: schemaFind\n            }\n        };\n\n        return <ConfigPanel\n            socket={this.props.socket}\n            adapterName={this.props.adapterName}\n            instance={this.props.instance}\n            common={this.props.common}\n            alive={this.props.alive}\n            themeType={this.props.themeType}\n            themeName={this.props.themeName}\n            data={data}\n            table\n            custom\n            schema={schemaItem}\n            systemConfig={systemConfig}\n            customs={this.props.customs}\n            onChange={(attr, valueChange) => {\n                const newObj = JSON.parse(JSON.stringify(value));\n                newObj[idx][attr] = valueChange;\n                this.setState({ value: newObj }, () =>\n                    this.onChangeWrapper(newObj,true));\n            }}\n            onError={(error, attr) => this.onError(error, attr)}\n        />;\n    }\n\n    static descendingComparator(a, b, orderBy) {\n        if (b[orderBy] < a[orderBy]) {\n            return -1;\n        } else\n            if (b[orderBy] > a[orderBy]) {\n                return 1;\n            } else {\n                return 0;\n            }\n    }\n\n    static getComparator(order, orderBy) {\n        return order === 'desc'\n            ? (a, b) =>  ConfigTable.descendingComparator(a, b, orderBy)\n            : (a, b) => -ConfigTable.descendingComparator(a, b, orderBy);\n    }\n\n    handleRequestSort = (property, orderCheck = false) => {\n        const { order, orderBy } = this.state;\n        if (orderBy) {\n            const isAsc = orderBy === property && order === 'asc';\n            const newOrder = orderCheck ? order : (isAsc ? 'desc' : 'asc');\n            const newValue = this.stableSort(newOrder, property);\n            this.setState({ order: newOrder, orderBy: property }, () =>\n                this.applyFilter(false, newValue));\n        }\n    }\n\n    stableSort = (order, orderBy) => {\n        const { value } = this.state;\n        const comparator = ConfigTable.getComparator(order, orderBy);\n        const stabilizedThis = value.map((el, index) => [el, index]);\n\n        stabilizedThis.sort((a, b) => {\n            const order = comparator(a[0], b[0]);\n            if (order !== 0) {\n                return order;\n            } else {\n                return a[1] - b[1];\n            }\n        });\n\n        return stabilizedThis.map(el => el[0]);\n    }\n\n    enhancedTableHead(buttonsWidth) {\n        const { schema, classes } = this.props;\n        const { order, orderBy } = this.state;\n        return <TableHead>\n            <TableRow>\n                {schema.items.map(headCell => (\n                    <TableCell\n                        style={{ width: typeof headCell.width === 'string' && headCell.width.endsWith('%') ? 'auto' : headCell.width }}\n                        key={headCell.attr}\n                        align=\"left\"\n                        sortDirection={orderBy === headCell.attr ? order : false}\n                    >\n                        <div className={classes.flex}>\n                            {headCell.sort && <TableSortLabel\n                                active\n                                className={clsx(orderBy !== headCell.attr && classes.silver)}\n                                direction={orderBy === headCell.attr ? order : 'asc'}\n                                onClick={() => this.handleRequestSort(headCell.attr)}\n                            />}\n                            {headCell.filter ?\n                                <TextField\n                                    ref={this.filterRefs[headCell.attr]}\n                                    onChange={el => this.applyFilter()}\n                                    InputProps={{\n                                        endAdornment: (\n                                            this.filterRefs[headCell.attr]?.current?.children[0]?.children[0]?.value && <InputAdornment position=\"end\">\n                                                <IconButton\n                                                    size=\"small\"\n                                                    onClick={(e) => {\n                                                        this.filterRefs[headCell.attr].current.children[0].children[0].value = '';\n                                                        this.applyFilter();\n                                                    }}\n                                                >\n                                                    <CloseIcon />\n                                                </IconButton>\n                                            </InputAdornment>\n                                        ),\n                                    }} fullWidth placeholder={headCell.title} />\n                                : headCell.title}\n                        </div>\n                    </TableCell>\n                ))}\n                {!schema.noDelete && <TableCell style={{ paddingLeft: 20, width: buttonsWidth }} padding=\"checkbox\">\n                    <IconButton disabled size=\"small\">\n                        <DeleteIcon />\n                    </IconButton>\n                </TableCell>}\n            </TableRow>\n        </TableHead>;\n    }\n\n    onDelete = index =>\n        () => {\n            const newValue = JSON.parse(JSON.stringify(this.state.value));\n            let visibleValue = JSON.parse(JSON.stringify(this.state.visibleValue));\n            newValue.splice(index, 1);\n            const pos = visibleValue.indexOf(index);\n            if (pos !== -1) {\n                visibleValue.splice(pos, 1);\n                visibleValue = visibleValue.map(i => i > index ? i - 1 : i);\n            }\n\n            this.setState({ value: newValue, visibleValue }, () =>\n                this.onChangeWrapper(newValue));\n        };\n\n    onChangeWrapper = (newValue, updateVisible = false) => {\n        this.typingTimer && clearTimeout(this.typingTimer);\n\n        this.typingTimer = setTimeout((value, updateVisible) => {\n            this.typingTimer = null;\n\n            if (this.props.schema.objKeyName) {\n                const objValue = arrayToObject(JSON.parse(JSON.stringify(value)), this.props.schema.objKeyName, this.props.schema.objValueName);\n                this.onChange(this.props.attr, objValue);\n            } else {\n                this.onChange(this.props.attr, value);\n            }\n\n            if (updateVisible) {\n                this.applyFilter(false, value);\n                this.handleRequestSort(this.state.orderBy, true);\n            }\n        }, 300, newValue, updateVisible);\n    }\n\n    onAdd = () => {\n        const { schema } = this.props;\n        const newValue = JSON.parse(JSON.stringify(this.state.value));\n        const visibleValue = JSON.parse(JSON.stringify(this.state.visibleValue));\n\n        const newItem = schema.items.reduce((accumulator, currentValue) => {\n            accumulator[currentValue.attr] = currentValue.default === undefined ? null : currentValue.default;\n            return accumulator;\n        }, {});\n\n        newValue.push(newItem);\n        visibleValue.push(newValue.length - 1);\n\n        this.setState({ value: newValue, visibleValue }, () =>\n            this.onChangeWrapper(newValue));\n    }\n\n    isAnyFilterSet() {\n        return Object.keys(this.filterRefs).find(attr => this.filterRefs[attr].current?.children[0].children[0].value);\n    }\n\n    applyFilter = (clear = false, value = this.state.value) => {\n        let visibleValue = value.map((_, i) => i);\n        Object.keys(this.filterRefs).forEach(attr => {\n            let valueInputRef = this.filterRefs[attr].current.children[0].children[0].value;\n            if (!clear && valueInputRef) {\n                valueInputRef = valueInputRef.toLowerCase();\n                visibleValue = visibleValue.filter(idx => value[idx] && value[idx][attr] && value[idx][attr].toLowerCase().includes(valueInputRef));\n            } else {\n                this.filterRefs[attr].current.children[0].children[0].value = '';\n            }\n        });\n\n        if (JSON.stringify(visibleValue) !== JSON.stringify(this.state.visibleValue)) {\n            this.setState({ visibleValue });\n        }\n    }\n\n    onMoveUp(idx) {\n        const value = JSON.parse(JSON.stringify(this.state.value));\n        const item = value[idx];\n        value.splice(idx, 1);\n        value.splice(idx - 1, 0, item);\n        this.setState({ value }, () =>\n            this.onChangeWrapper(value));\n    }\n\n    onMoveDown(idx) {\n        const value = JSON.parse(JSON.stringify(this.state.value));\n        const item = value[idx];\n        value.splice(idx, 1);\n        value.splice(idx + 1, 0, item);\n        this.setState({ value }, () =>\n            this.onChangeWrapper(value));\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        const { classes, schema } = this.props;\n        const { value, visibleValue } = this.state;\n\n        if (!value) {\n            return null;\n        }\n\n        const doAnyFilterSet = this.isAnyFilterSet();\n\n        return <Paper className={classes.paper}>\n            <div className={classes.addIcon}>\n                {schema.label ? <Toolbar\n                    variant=\"dense\"\n                    className={classes.rootTool}\n                >\n                    <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n                        {this.getText(schema.label)}\n                    </Typography>\n                </Toolbar> : null}\n                {!schema.noDelete && !doAnyFilterSet ? <Tooltip title={I18n.t('Add row')}>\n                    <IconButton onClick={this.onAdd}>\n                        <AddIcon />\n                    </IconButton>\n                </Tooltip> : null}\n            </div>\n            <TableContainer>\n                <Table className={classes.table} size=\"small\">\n                    {this.enhancedTableHead(!doAnyFilterSet && !this.state.orderBy ? 120 : 64)}\n                    <TableBody>\n                        {visibleValue.map((idx, i) =>\n                            <TableRow\n                                hover\n                                key={idx}\n                            >\n                                {schema.items.map(headCell =>\n                                    <TableCell key={headCell.attr + idx} align=\"left\">\n                                        {this.itemTable(headCell.attr, value[idx], idx)}\n                                    </TableCell>\n                                )}\n                                {!schema.noDelete && <TableCell align=\"left\" className={classes.buttonCell}>\n                                    {!doAnyFilterSet && !this.state.orderBy ? (i ? <Tooltip title={I18n.t('Move up')}>\n                                        <IconButton size=\"small\" onClick={() => this.onMoveUp(idx)}>\n                                            <UpIcon />\n                                        </IconButton>\n                                    </Tooltip> : <div className={classes.buttonEmpty}/> ) : null}\n                                    {!doAnyFilterSet && !this.state.orderBy ? (i < visibleValue.length - 1 ? <Tooltip title={I18n.t('Move down')}>\n                                        <IconButton size=\"small\" onClick={() => this.onMoveDown(idx)}>\n                                            <DownIcon />\n                                        </IconButton>\n                                    </Tooltip> : <div className={classes.buttonEmpty}/> ) : null}\n                                    <Tooltip title={I18n.t('Delete current row')}>\n                                        <IconButton size=\"small\" onClick={this.onDelete(idx)}>\n                                            <DeleteIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </TableCell>}\n                            </TableRow>)}\n                    </TableBody>\n                </Table>\n                {!visibleValue.length && value.length ?\n                    <div className={classes.filteredOut}>\n                        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n                            {I18n.t('All items are filtered out')}\n                            <IconButton\n                                size=\"small\"\n                                onClick={e => this.applyFilter(true)}\n                            >\n                                <CloseIcon />\n                            </IconButton>\n                        </Typography>\n                    </div> : null}\n            </TableContainer>\n            {schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </Paper>;\n    }\n}\n\nConfigTable.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigTable);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Icon from '@iobroker/adapter-react/Components/Icon';\nimport DialogError from '@iobroker/adapter-react/Dialogs/Error';\nimport DialogMessage from '@iobroker/adapter-react/Dialogs/Message';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport IconWarning from '@material-ui/icons/Warning';\nimport IconError from '@material-ui/icons/Error';\nimport IconInfo from '@material-ui/icons/Info';\nimport ConfirmDialog from '@iobroker/adapter-react/Dialogs/Confirm';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    icon: {\n        width: 24,\n        height: 24,\n        marginRight: 4\n    }\n});\n\nclass ConfigSendto extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n\n        this.setState( {_error: '', _message: ''});\n    }\n\n    renderErrorDialog() {\n        if (this.state._error) {\n            return <DialogError text={this.state._error} classes={undefined} onClose={() => this.setState({_error: ''})} />;\n        } else {\n            return null;\n        }\n    }\n\n    renderMessageDialog() {\n        if (this.state._message) {\n            return <DialogMessage text={this.state._message} classes={undefined} onClose={() => this.setState({_error: ''})} />;\n        } else {\n            return null;\n        }\n    }\n\n    _onClick() {\n        this.props.onCommandRunning(true);\n\n        let data = this.props.schema.data;\n        if (data === undefined && this.props.schema.jsonData) {\n            data = this.getPattern(this.props.schema.jsonData, {}, this.props.data);\n            try {\n                data = JSON.parse(data);\n            } catch (e) {\n                console.error('Cannot parse json data: ' + data);\n            }\n        }\n        if (data === undefined) {\n            data = null;\n        }\n\n        this.props.socket.sendTo(\n            this.props.adapterName + '.' + this.props.instance,\n            this.props.schema.command || 'send',\n            data\n        )\n            .then(response => {\n                if (response?.error) {\n                    if (this.props.schema.error && this.props.schema.error[response.error]) {\n                        let error = this.getText(this.props.schema.error[response.error]);\n                        if (response.args) {\n                            response.args.forEach(arg => error = error.replace('%s', arg));\n                        }\n                        this.setState({_error: error});\n                    } else {\n                        this.setState({_error: response.error ? I18n.t(response.error) : I18n.t('Error')});\n                    }\n                } else {\n                    if (response?.result && this.props.schema.result && this.props.schema.result[response.result]) {\n                        let text = this.getText(this.props.schema.result[response.result]);\n                        if (response.args) {\n                            response.args.forEach(arg => text = text.replace('%s', arg));\n                        }\n                        window.alert(text);\n                    } else {\n                        if (response?.result) {\n                            window.alert(typeof response.result === 'object' ? JSON.stringify(response.result) : response.result);\n                        } else {\n                            window.alert(I18n.t('Ok'));\n                        }\n                    }\n                }\n            })\n            .catch(e => {\n                if (this.props.schema.error && this.props.schema.error[e.toString()]) {\n                    this.setState({_error: this.getText(this.props.schema.error[e.toString()])});\n                } else {\n                    this.setState({_error: I18n.t(e.toString()) || I18n.t('Error')});\n                }\n            })\n            .then(() => this.props.onCommandRunning(false))\n    }\n\n    renderConfirmDialog() {\n        if (!this.state.confirmDialog) {\n            return null;\n        }\n        const confirm = this.state.confirmData || this.props.schema.confirm;\n        let icon = null;\n        if (confirm.type === 'warning') {\n            icon = <IconWarning />;\n        } else if (confirm.type === 'error') {\n            icon = <IconError />;\n        } else if (confirm.type === 'info') {\n            icon = <IconInfo />;\n        }\n\n        return <ConfirmDialog\n            title={ this.getText(confirm.title) || I18n.t('Please confirm') }\n            text={ this.getText(confirm.text) }\n            ok={ this.getText(confirm.ok) || I18n.t('Ok') }\n            cancel={ this.getText(confirm.cancel) || I18n.t('Cancel') }\n            icon={icon}\n            onClose={isOk =>\n                this.setState({ confirmDialog: false}, () =>\n                    isOk && this._onClick())\n            }\n        />;\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        return <div className={this.props.classes.fullWidth}>\n            <Button\n                variant={this.props.schema.variant || undefined}\n                color={this.props.schema.color || undefined}\n                className={this.props.classes.fullWidth}\n                disabled={disabled}\n                onClick={() => {\n                    if (this.props.schema.confirm) {\n                        this.setState({confirmDialog: true});\n                    } else {\n                        this._onClick();\n                    }\n                }}\n            >\n                {this.props.schema.icon ? <Icon src={this.props.schema.icon} className={this.props.classes.icon}/> : null}\n                {this.getText(this.props.schema.label, this.props.schema.noTranslation)}\n            </Button>\n            {this.renderErrorDialog()}\n            {this.renderMessageDialog()}\n        </div>;\n    }\n}\n\nConfigSendto.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    commandRunning: PropTypes.bool,\n    onCommandRunning: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigSendto);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { Button, TextField } from '@material-ui/core';\n\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    flex: {\n        display: 'flex'\n    },\n    button: {\n        height: 48,\n        marginLeft: 4,\n        minWidth: 48,\n    }\n});\n\nclass ConfigObjectId extends ConfigGeneric {\n    async componentDidMount() {\n        super.componentDidMount();\n        const { data, attr } = this.props;\n        const value = ConfigGeneric.getValue(data, attr) || '';\n        this.setState({ value, initialized: true});\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.initialized) {\n            return null;\n        }\n        const { classes, schema, socket, attr } = this.props;\n        const { value, showSelectId } = this.state;\n\n        return <FormControl className={classes.fullWidth}>\n            <InputLabel shrink>{this.getText(schema.label)}</InputLabel>\n            <div className={classes.flex}>\n                <TextField\n                    fullWidth\n                    value={value}\n                    error={!!error}\n                    disabled={disabled}\n                    placeholder={this.getText(schema.placeholder)}\n                    label={this.getText(schema.label)}\n                    helperText={this.renderHelp(schema.help, schema.helpLink, schema.noTranslation)}\n                    onChange={e => {\n                        const value = e.target.value;\n                        this.setState({ value }, () =>\n                            this.onChange(attr, value))\n                    }}\n                />\n                <Button\n                    className={this.props.classes.button}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onClick={() => this.setState({ showSelectId: true })}\n                >...</Button>\n            </div>\n            {showSelectId ? <DialogSelectID\n                imagePrefix=\"../..\"\n                dateFormat={this.props.dateFormat}\n                isFloatComma={this.props.isFloatComma}\n                dialogName={'admin.' + this.props.adapterName}\n                themeType={this.props.themeType}\n                socket={socket}\n                statesOnly={schema.all === undefined ? true : schema.all}\n                selected={value}\n                onClose={() => this.setState({ showSelectId: false })}\n                onOk={value =>\n                    this.setState({ showSelectId: false, value }, () =>\n                        this.onChange(attr, value))}\n            /> : null}\n        </FormControl>;\n    }\n}\n\nConfigObjectId.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    dateFormat: PropTypes.string,\n    isFloatComma: PropTypes.bool,\n};\n\nexport default withStyles(styles)(ConfigObjectId);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nconst LANGUAGES =[\n    {\n        value: 'en',\n        label: 'English'\n    },\n    {\n        value: 'de',\n        label: 'Deutsch'\n    },\n    {\n        value: 'ru',\n        label: 'русский'\n    },\n    {\n        value: 'pt',\n        label: 'Portugues'\n    },\n    {\n        value: 'nl',\n        label: 'Nederlands'\n    },\n    {\n        value: 'fr',\n        label: 'français'\n    },\n    {\n        value: 'it',\n        label: 'Italiano'\n    },\n    {\n        value: 'es',\n        label: 'Espanol'\n    },\n    {\n        value: 'pl',\n        label: 'Polski'\n    },\n    {\n        value: 'zh-ch',\n        label: '简体中文'\n    }\n];\n\nclass ConfigLanguage extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        const languages = [...LANGUAGES];\n        if (this.props.schema.system) {\n            languages.unshift({value: '', label: I18n.t('System language')});\n        }\n\n        this.setState({value: value || I18n.getLanguage(), selectOptions: languages});\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.selectOptions) {\n            return null;\n        }\n\n        const item = this.state.selectOptions?.find(item => item.value === this.state.value || (!item.value && !this.state.value));\n\n        return <FormControl className={this.props.classes.fullWidth}>\n            <InputLabel>{this.getText(this.props.schema.label)}</InputLabel>\n            <Select\n                error={!!error}\n                disabled={!!disabled}\n                value={this.state.value || '_'}\n                renderValue={val => this.getText(item?.label, this.props.schema.noTranslation)}\n                onChange={e => {\n                    const value = e.target.value === '_' ? '' : e.target.value;\n                    this.setState({value}, () =>\n                        this.onChange(this.props.attr, value));\n                }}\n            >\n                {this.state.selectOptions?.map(item =>\n                    <MenuItem key={item.value} value={item.value}>{item.label}</MenuItem>)}\n            </Select>\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigLanguage.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigLanguage);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport ChipInput from 'material-ui-chip-input';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigLanguage extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const { data, attr } = this.props;\n        const value = ConfigGeneric.getValue(data, attr);\n        this.setState({ value: value || [] });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        const { attr,schema } = this.props;\n        const { value } = this.state;\n        return <FormControl className={this.props.classes.fullWidth}>\n            <ChipInput\n                value={value}\n                disabled={!!disabled}\n                label={this.getText(schema.label)}\n                error={!!error}\n                onAdd={chip => {\n                        const newValue = JSON.parse(JSON.stringify(value));\n                        newValue.push(chip);\n                        this.setState({ value: newValue, prevValue: '' }, () => {\n                            this.onChange(attr, newValue);\n                        })\n                }}\n                onDelete={(chip, index) => {\n                    const newValue = JSON.parse(JSON.stringify(value));\n                    newValue.splice(index, 1);;\n                    this.setState({ value: newValue, prevValue: '' }, () => {\n                        this.onChange(attr, newValue);\n                    })\n                }}\n            />\n            {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigLanguage.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigLanguage);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%',\n        display: 'inline-block'\n    },\n    halfWidth1: {\n        width: 'calc(50% - ' + theme.spacing(1) / 2 + 'px)',\n        display: 'inline-block',\n        marginRight: theme.spacing(1),\n    },\n    halfWidth2: {\n        width: 'calc(50% - ' + theme.spacing(1) / 2 + 'px)',\n        display: 'inline-block'\n    }\n});\n\nconst PASSWORD_PLACEHOLDER = '____ppp____';\n\nclass ConfigPassword extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        this.setState({\n            _repeat: value ? PASSWORD_PLACEHOLDER : '',\n            _visible: false,\n            value: value ? PASSWORD_PLACEHOLDER : '',\n            _notEqual: false\n        });\n    }\n\n    onChangePassword(password, repeatPassword) {\n        if (password === undefined) {\n            password = this.state.value;\n        }\n        if (repeatPassword === undefined) {\n            repeatPassword = this.state._repeat;\n        }\n        const _notEqual = this.props.schema.repeat && repeatPassword !== password;\n        this.setState({value: password, _repeat: repeatPassword, _notEqual}, () => {\n            if (_notEqual) {\n                this.onError(this.props.attr, I18n.t('Passwords are not equal!'));\n            } else {\n                this.onError(this.props.attr); // clear error\n                this.onChange(this.props.attr, password);\n            }\n        });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (this.state._notEqual === undefined) {\n            return null;\n        }\n\n        const password = <TextField\n            fullWidth\n            type={this.state._visible && this.state.value !== PASSWORD_PLACEHOLDER ? 'text' : 'password'}\n            value={this.state.value}\n            error={!!error || this.state._notEqual}\n            disabled={!!disabled}\n            onChange={e => this.onChangePassword(e.target.value)}\n            label={this.getText(this.props.schema.label)}\n            inputProps={{\n                autoComplete: 'new-password',\n                form: {autoComplete: 'off'},\n                maxLength: this.props.schema.maxLength || this.props.schema.max || undefined\n            }}\n            helperText={this.state._notEqual ? I18n.t('Passwords are not equal!') : this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n            InputProps={{endAdornment: this.state.value && this.state.value !== PASSWORD_PLACEHOLDER ? <InputAdornment position='end'>\n                    <IconButton\n                        tabIndex={-1}\n                        onClick={e => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            this.setState({_visible: !this.state._visible});\n                        }}\n                        edge='end'\n                    >\n                        {this.state._visible ? <VisibilityOff/> : <Visibility/>}\n                    </IconButton>\n                </InputAdornment> : undefined\n            }}\n        />;\n\n        if (this.props.schema.repeat) {\n            const passwordRepeat = <TextField\n                fullWidth\n                type={this.state._visible && this.state._repeat !== PASSWORD_PLACEHOLDER ? 'text' : 'password'}\n                value={this.state._repeat}\n                error={!!error || this.state._notEqual}\n                disabled={!!disabled}\n                onChange={e => this.onChangePassword(undefined, e.target.value)}\n                label={`${this.getText(this.props.schema.label)} (${I18n.t('repeat')})`}\n                inputProps={{\n                    autoComplete: 'new-password',\n                    form: {autoComplete: 'off'},\n                    maxLength: this.props.schema.maxLength || this.props.schema.max || undefined\n                }}\n                helperText={this.state._notEqual ? I18n.t('Passwords are not equal!') : this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n                InputProps={{endAdornment: this.state._repeat && this.state._repeat !== PASSWORD_PLACEHOLDER ? <InputAdornment position='end'>\n                        <IconButton\n                            tabIndex={-1}\n                            onClick={e => {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                this.setState({_visible: !this.state._visible});\n                            }}\n                            edge='end'\n                        >\n                            {this.state._visible ? <VisibilityOff/> : <Visibility/>}\n                        </IconButton>\n                    </InputAdornment> : undefined\n                }}\n            />;\n\n            return <div className={this.props.classes.fullWidth}>\n                <div className={this.props.classes.halfWidth1}>{password}</div>\n                <div className={this.props.classes.halfWidth2}>{passwordRepeat}</div>\n            </div>;\n        } else {\n            return password;\n        }\n    }\n}\n\nConfigPassword.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigPassword);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {Typography} from '@material-ui/core';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    header: {\n        width: '100%',\n        background: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        padding: 4,\n        borderRadius: 3\n    },\n});\n\nclass ConfigStaticHeader extends ConfigGeneric {\n    renderItem() {\n        return <Typography\n            className={this.props.classes.header}\n            component={this.props.schema.size ? 'h' + this.props.schema.size : 'h5'}\n        >\n            {this.getText(this.props.schema.text, this.props.schema.noTranslation)}\n        </Typography>;\n    }\n}\n\nConfigStaticHeader.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigStaticHeader);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%',\n        backgroundColor: theme.palette.type === 'dark' ? '#FFF' : '#000',\n        borderStyle: 'hidden',\n    },\n    primary: {\n        backgroundColor: theme.palette.primary.main\n    },\n    secondary: {\n        backgroundColor: theme.palette.secondary.main\n    }\n});\n\nclass ConfigStaticDivider extends ConfigGeneric {\n    renderItem() {\n        return <hr\n            className={Utils.clsx(\n                this.props.classes.fullWidth,\n                this.props.schema.color === 'primary' && this.props.classes.primary,\n                this.props.schema.color === 'secondary' && this.props.classes.secondary\n            )}\n            style={{\n                height: this.props.schema.color ? this.props.schema.height || 2 : this.props.schema.height || 1,\n                backgroundColor: this.props.schema.color !== 'primary' && this.props.schema.color !== 'secondary' && this.props.schema.color ? this.props.schema.color : undefined,\n            }}\n        />;\n    }\n}\n\nConfigStaticDivider.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigStaticDivider);","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Button from '@material-ui/core/Button';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Icon from '@iobroker/adapter-react/Components/Icon';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport IconWarning from \"@material-ui/icons/Warning\";\nimport IconError from \"@material-ui/icons/Error\";\nimport IconInfo from \"@material-ui/icons/Info\";\nimport ConfirmDialog from \"@iobroker/adapter-react/Dialogs/Confirm\";\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    icon: {\n        width: 24,\n        height: 24,\n        marginRight: 4\n    }\n});\n\nclass ConfigSetState extends ConfigGeneric {\n    async _onClick() {\n        let val = this.props.schema.val;\n        if (typeof val === 'string' && val.includes('${')) {\n            val = this.getPattern(val);\n            const obj = await this.props.socket.getObject(this.props.schema.id);\n            if (obj?.common?.type === 'number') {\n                val = parseFloat(val);\n            } else if (obj?.common?.type === 'boolean') {\n                val = val === 'true' || val === true || val === '1' || val === 1;\n            }\n        }\n\n        try {\n            await this.props.socket.setState(this.props.schema.id, {val, ack: !!this.props.schema.ack});\n            this.props.schema.okText && window.alert(this.getText(this.props.schema.okText));\n        } catch (e) {\n            if (this.props.schema.error && this.props.schema.error[e.toString()]) {\n                window.alert(this.getText(this.props.schema.error[e.toString()]));\n            } else {\n                window.alert(I18n.t(e.toString()) || I18n.t('Error'));\n            }\n        }\n    }\n\n    renderConfirmDialog() {\n        if (!this.state.confirmDialog) {\n            return null;\n        }\n        const confirm = this.state.confirmData || this.props.schema.confirm;\n        let icon = null;\n        if (confirm.type === 'warning') {\n            icon = <IconWarning />;\n        } else if (confirm.type === 'error') {\n            icon = <IconError />;\n        } else if (confirm.type === 'info') {\n            icon = <IconInfo />;\n        }\n\n        return <ConfirmDialog\n            title={ this.getText(confirm.title) || I18n.t('Please confirm') }\n            text={ this.getText(confirm.text) }\n            ok={ this.getText(confirm.ok) || I18n.t('Ok') }\n            cancel={ this.getText(confirm.cancel) || I18n.t('Cancel') }\n            icon={icon}\n            onClose={isOk =>\n                this.setState({ confirmDialog: false}, async () =>\n                    isOk && (await this._onClick()))\n            }\n        />;\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        return <Button\n            variant={this.props.schema.variant || undefined}\n            color={this.props.schema.color || undefined}\n            className={this.props.classes.fullWidth}\n            disabled={disabled}\n            onClick={async () => {\n                if (this.props.schema.confirm) {\n                    this.setState({confirmDialog: true});\n                } else {\n                    await this._onClick();\n                }\n            }}\n        >\n            {this.props.schema.icon ? <Icon src={this.props.schema.icon} className={this.props.classes.icon}/> : null}\n            {this.getText(this.props.schema.label, this.props.schema.noTranslation)}\n        </Button>;\n    }\n}\n\nConfigSetState.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    commandRunning: PropTypes.bool,\n    onCommandRunning: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigSetState);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport { Button } from '@material-ui/core';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport I18n from '@iobroker/adapter-react/i18n';\nimport CustomModal from '../CustomModal';\n\nimport AceEditor from 'react-ace';\nimport 'ace-builds/webpack-resolver';\nimport 'ace-builds/src-noconflict/mode-json';\nimport 'ace-builds/src-noconflict/theme-clouds_midnight';\nimport 'ace-builds/src-noconflict/theme-chrome';\nimport 'ace-builds/src-noconflict/ext-language_tools';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    flex: {\n        display: 'flex'\n    },\n    button: {\n        height: 48,\n        // marginLeft: 4,\n        minWidth: 48,\n    },\n    wrapper: {\n        width: 'calc(100vw - 40px)',\n        height: 'calc(100vh - 188px)',\n    }\n});\n\nclass ConfigJsonEditor extends ConfigGeneric {\n    async componentDidMount() {\n        super.componentDidMount();\n        const { data, attr } = this.props;\n        const value = ConfigGeneric.getValue(data, attr) || {};\n        this.setState({ value, initialized: true });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.initialized) {\n            return null;\n        }\n        const { classes, schema, data, attr } = this.props;\n        const { value, showSelectId } = this.state;\n        return <FormControl className={classes.fullWidth}>\n            <div className={classes.flex}>\n                <Button\n                    className={classes.button}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onClick={() => this.setState({ showSelectId: true })}\n                >{I18n.t('Json editor')}</Button>\n            </div>\n            {showSelectId ? <CustomModal\n                title={this.getText(schema.label)}\n                open={showSelectId}\n                overflowHidden\n                onClose={() => this.setState({ showSelectId: false, value: ConfigGeneric.getValue(data, attr) || {} })}\n                onApply={() => this.setState({ showSelectId: false }, () => this.onChange(attr, value))}\n            >\n                <div className={classes.wrapper}>\n                    <AceEditor\n                        mode=\"json\"\n                        theme={this.props.themeName === 'dark' ? 'clouds_midnight' : 'chrome'}\n                        value={value}\n                        width=\"100%\"\n                        height=\"100%\"\n                        onChange={newValue => this.setState({ value: newValue })}\n                        name=\"ConfigJsonEditor\"\n                        fontSize={14}\n                        setOptions={{\n                            enableBasicAutocompletion: true,\n                            enableLiveAutocompletion: true,\n                            enableSnippets: true\n                        }}\n                        editorProps={{ $blockScrolling: true }}\n                    />\n                </div>\n            </CustomModal> : null}\n            {schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n        </FormControl>;\n    }\n}\n\nConfigJsonEditor.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigJsonEditor);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport TextField from \"@material-ui/core/TextField\";\nimport React from \"react\";\nimport {CircularProgress} from \"@material-ui/core\";\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\n/*\nto use this option, your adapter must implement listUart message\n\nadapter.on('message', obj => {\n   if (obj) {\n       switch (obj.command) {\n           case 'command':\n               if (obj.callback) {\n                   try {\n                       const serialport = require('serialport');\n                       if (serialport) {\n                           // read all found serial ports\n                           serialport.list()\n                               .then(ports => {\n                                   adapter.log.info('List of port: ' + JSON.stringify(ports));\n                                   adapter.sendTo(obj.from, obj.command, ports.map(item =>\n                                        ({label: item.path, value: item.path})), obj.callback);\n                               })\n                               .catch(e => {\n                                   adapter.sendTo(obj.from, obj.command, [], obj.callback);\n                                   adapter.log.error(e)\n                               });\n                       } else {\n                           adapter.log.warn('Module serialport is not available');\n                           adapter.sendTo(obj.from, obj.command, [{label: 'Not available', value: ''}], obj.callback);\n                       }\n                   } catch (e) {\n                       adapter.sendTo(obj.from, obj.command, [{label: 'Not available', value: ''}], obj.callback);\n                   }\n               }\n\n               break;\n       }\n   }\n});\n */\n\nclass ConfigSelectSendTo extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        if (this.props.alive) {\n            let data = this.props.schema.data;\n            if (data === undefined && this.props.schema.jsonData) {\n                data = this.getPattern(this.props.schema.jsonData, {}, this.props.data);\n                try {\n                    data = JSON.parse(data);\n                } catch (e) {\n                    console.error('Cannot parse json data: ' + data);\n                }\n            }\n\n            if (data === undefined) {\n                data = null;\n            }\n\n            this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, this.props.schema.command || 'send', data)\n                .then(list => {\n                    this.setState({list});\n                });\n        } else {\n            const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n            this.setState({value});\n        }\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.props.alive) {\n            return <TextField\n                fullWidth\n                value={this.state.value === null || this.state.value === undefined ? '' : this.state.value}\n                error={!!error}\n                disabled={!!disabled}\n                onChange={e => {\n                    const value = e.target.value;\n                    this.setState({value}, () =>\n                        this.onChange(this.props.attr, (value || '').trim()));\n                }}\n                placeholder={this.getText(this.props.schema.placeholder)}\n                label={this.getText(this.props.schema.label)}\n                helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n            />;\n        } else\n        if (!this.state.list) {\n            return <CircularProgress size=\"small\"/>;\n        } else {\n            const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n\n            const selectOptions = (this.state.list || []).filter(item => {\n                if (!item.hidden) {\n                    return true;\n                } else if (this.props.custom) {\n                    return !this.executeCustom(item.hidden, this.props.schema.default, this.props.data, this.props.instanceObj);\n                } else {\n                    return !this.execute(item.hidden, this.props.schema.default, this.props.data);\n                }\n            });\n\n            const item = selectOptions.find(item => item.value === value);\n\n            return <FormControl className={this.props.classes.fullWidth}>\n                <InputLabel>{this.getText(this.props.schema.label)}</InputLabel>\n                <Select\n                    error={!!error}\n                    disabled={!!disabled}\n                    value={value}\n                    renderValue={val => item?.label || val}\n                    onChange={e => this.onChange(this.props.attr, e.target.value)}\n                >\n                    {selectOptions.map((item, i) =>\n                        <MenuItem key={i} value={item.value}>{item.label}</MenuItem>)}\n                </Select>\n                {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\n            </FormControl>;\n        }\n    }\n}\n\nConfigSelectSendTo.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    adapterName: PropTypes.string,\n    alive: PropTypes.bool,\n    instance: PropTypes.number,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigSelectSendTo);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport {TextField} from \"@material-ui/core\";\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    icon: {\n        width: 16,\n        height: 16,\n        marginRight: 8\n    }\n});\n\nfunction convertID2Topic(id, prefix, namespace) {\n    let topic;\n    if (namespace && id.substring(0, namespace.length) === namespace) {\n        topic = id.substring(namespace.length + 1);\n    } else {\n        topic = id;\n    }\n    topic = topic.replace(/\\./g, '/').replace(/_/g, ' ');\n    return topic;\n}\n\nclass ConfigTopic extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        if (!value && this.props.customObj && this.props.customObj._id) {\n            let topic = convertID2Topic(this.props.customObj._id, null, this.props.adapterName + '.' + this.props.instance);\n            this.setState({value: topic});\n        } else {\n            this.setState({value: value || ''});\n        }\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        return <TextField\n            fullWidth\n            inputProps={{maxLength: this.props.schema.maxLength || this.props.schema.max || undefined}}\n            value={this.state.value}\n            error={!!error}\n            disabled={disabled}\n            placeholder={this.getText(this.props.schema.placeholder)}\n            label={this.getText(this.props.schema.label)}\n            helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n            onChange={e => {\n                const value = e.target.value;\n                this.setState({ value }, () =>\n                    this.onChange(this.props.attr, value));\n            }}\n        />;\n    }\n}\n\nConfigTopic.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    customObj: PropTypes.object,\n};\n\nexport default withStyles(styles)(ConfigTopic);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {Autocomplete} from '@material-ui/lab';\nimport TextField from \"@material-ui/core/TextField\";\n\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigAutocomplete extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n\n        const selectOptions = this.props.schema.options.map(item => typeof item === 'string' ? {label: item, value: item} : JSON.parse(JSON.stringify(item)));\n\n        // if __different\n        if (Array.isArray(value)) {\n            selectOptions.unshift({label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE});\n            this.setState({value: ConfigGeneric.DIFFERENT_VALUE, selectOptions});\n        } else {\n            this.setState({value, selectOptions});\n        }\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.selectOptions) {\n            return null;\n        }\n        let item;\n        let options = JSON.parse(JSON.stringify(this.state.selectOptions));\n        let isIndeterminate = Array.isArray(this.state.value) || this.state.value === ConfigGeneric.DIFFERENT_LABEL;\n\n        if (isIndeterminate) {\n            [...this.state.value]\n                .filter(val => !options.find(it => it.value === val))\n                .forEach(item => options.push({label: item.toString(), value: item}));\n\n            item = {label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE};\n            options.unshift(item);\n        } else {\n            // eslint-disable-next-line\n            item = this.state.value !== null && this.state.value !== undefined && options.find(item => item.value == this.state.value); // let \"==\" be and not ===\n            if (this.state.value !== null && this.state.value !== undefined && !item) {\n                item = {value: this.state.value, label: this.state.value};\n                options.push(item);\n            }\n        }\n\n        return <Autocomplete\n            className={this.props.classes.indeterminate}\n            fullWidth\n            freeSolo={!!this.props.schema.freeSolo}\n            value={item}\n            //getOptionSelected={(option, value) => option.value === value.value}\n            onChange={(_, value) => {\n                const val = typeof value === 'object' ? (value ? value.value : '') : value;\n                this.setState({value: val}, () => this.onChange(this.props.attr, val));\n            }}\n            options={options}\n            getOptionLabel={option => option.label}\n            renderInput={params => <TextField\n                {...params}\n                error={!!error}\n                // inputProps are important and will be given in params\n                // inputProps={{maxLength: this.props.schema.maxLength || this.props.schema.max || undefined}}\n                placeholder={this.getText(this.props.schema.placeholder)}\n                label={this.getText(this.props.schema.label)}\n                helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n                disabled={!!disabled}\n            />}\n        />;\n    }\n}\n\nConfigAutocomplete.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigAutocomplete);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {Autocomplete} from '@material-ui/lab';\nimport TextField from '@material-ui/core/TextField';\n\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigAutocompleteSendTo extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        const selectOptions = this.props.schema.options ?\n            this.props.schema.options.map(item => typeof item === 'string' ? {label: item, value: item} : JSON.parse(JSON.stringify(item)))\n            :\n            [];\n\n        if (this.props.alive) {\n            let data = this.props.schema.data;\n            if (data === undefined && this.props.schema.jsonData) {\n                data = this.getPattern(this.props.schema.jsonData);\n                try {\n                    data = JSON.parse(data);\n                } catch (e) {\n                    console.error('Cannot parse json data: ' + data);\n                }\n            }\n\n            if (data === undefined) {\n                data = null;\n            }\n\n            this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, this.props.schema.command || 'send', data)\n                .then(list => {\n                    if (list && Array.isArray(list)) {\n                        list.forEach(item =>\n                            selectOptions.push(typeof item === 'string' ? {label: item, value: item} : JSON.parse(JSON.stringify(item))));\n                    }\n\n                    // if __different\n                    if (Array.isArray(value)) {\n                        selectOptions.unshift({label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE});\n                        this.setState({value: ConfigGeneric.DIFFERENT_VALUE, selectOptions});\n                    } else {\n                        this.setState({value, selectOptions});\n                    }\n                });\n        } else {\n            // if __different\n            if (Array.isArray(value)) {\n                selectOptions.unshift({label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE});\n                this.setState({value: ConfigGeneric.DIFFERENT_VALUE, selectOptions});\n            } else {\n                this.setState({value, selectOptions});\n            }\n        }\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (!this.state.selectOptions) {\n            return null;\n        }\n        let item;\n        let options = JSON.parse(JSON.stringify(this.state.selectOptions));\n        let isIndeterminate = Array.isArray(this.state.value) || this.state.value === ConfigGeneric.DIFFERENT_LABEL;\n\n        if (isIndeterminate) {\n            [...this.state.value]\n                .filter(val => !options.find(it => it.value === val))\n                .forEach(item => options.push({label: item.toString(), value: item}));\n\n            item = {label: ConfigGeneric.DIFFERENT_LABEL, value: ConfigGeneric.DIFFERENT_VALUE};\n            options.unshift(item);\n        } else {\n            // eslint-disable-next-line\n            item = this.state.value !== null && this.state.value !== undefined &&\n                // eslint-disable-next-line\n                options.find(item => item.value == this.state.value); // let \"==\" be and not ===\n\n            if (this.state.value !== null && this.state.value !== undefined && !item) {\n                item = {value: this.state.value, label: this.state.value};\n                options.push(item);\n            }\n            item = item || null;\n        }\n\n        if (!options.length) {\n            return <TextField\n                fullWidth\n                value={this.state.value === null || this.state.value === undefined ? '' : this.state.value}\n                error={!!error}\n                disabled={!!disabled}\n                inputProps={{maxLength: this.props.schema.maxLength || this.props.schema.max || undefined}}\n                onChange={e => {\n                    const value = e.target.value;\n                    this.setState({value}, () =>\n                        this.onChange(this.props.attr, (value || '').trim()));\n                }}\n                placeholder={this.getText(this.props.schema.placeholder)}\n                label={this.getText(this.props.schema.label)}\n                helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n            />;\n        } else {\n            return <Autocomplete\n                value={item}\n                fullWidth\n                freeSolo={!!this.props.schema.freeSolo}\n                options={options}\n                getOptionLabel={option => option.label}\n                className={this.props.classes.indeterminate}\n                onChange={(_, value) => {\n                    const val = typeof value === 'object' ? (value ? value.value : '') : value;\n                    this.setState({value: val}, () => this.onChange(this.props.attr, val));\n                }}\n                renderInput={(params) =>\n                    <TextField\n                        {...params}\n                        // inputProps are important and will be given in params\n                        // inputProps={{maxLength: this.props.schema.maxLength || this.props.schema.max || undefined}}\n                        error={!!error}\n                        placeholder={this.getText(this.props.schema.placeholder)}\n                        label={this.getText(this.props.schema.label)}\n                        helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n                        disabled={!!disabled}\n                    />}\n            />;\n        }\n    }\n}\n\nConfigAutocompleteSendTo.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigAutocompleteSendTo);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport { KeyboardTimePicker } from '@material-ui/pickers';\n\nconst styles = theme => ({\n    indeterminate: {\n        opacity: 0.5\n    }\n});\n\nclass ConfigTimePicker extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        this.setState({ value });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        return <KeyboardTimePicker\n            fullWidth\n            margin=\"normal\"\n            format=\"HH:mm:ss\"\n            error={!!error}\n            disabled={!!disabled}\n            value={this.state.value === null || this.state.value === undefined ? new Date() : this.state.value}\n            onChange={value => {\n                this.setState({ value }, () =>\n                    this.onChange(this.props.attr, value));\n            }}\n            InputLabelProps={{\n                shrink: true,\n            }}\n            placeholder={this.getText(this.props.schema.placeholder)}\n            label={this.getText(this.props.schema.label)}\n            helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n        />\n    }\n}\n\nConfigTimePicker.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigTimePicker);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { KeyboardDatePicker } from '@material-ui/pickers';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    indeterminate: {\n        opacity: 0.5\n    }\n});\n\nclass ConfigDatePicker extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        const value = ConfigGeneric.getValue(this.props.data, this.props.attr);\n        this.setState({ value });\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        return <KeyboardDatePicker\n            fullWidth\n            margin=\"normal\"\n            format={this.props.systemConfig.dateFormat.toLowerCase().replace('mm','MM')}\n            error={!!error}\n            disabled={!!disabled}\n            value={this.state.value === null || this.state.value === undefined ? new Date() : this.state.value}\n            KeyboardButtonProps={{\n                'aria-label': 'change date',\n            }}\n            inputProps={{ maxLength: this.props.schema.maxLength || this.props.schema.max || undefined }}\n            onChange={value => {\n                this.setState({ value }, () =>\n                    this.onChange(this.props.attr, value));\n            }}\n            InputLabelProps={{\n                shrink: true,\n            }}\n            placeholder={this.getText(this.props.schema.placeholder)}\n            label={this.getText(this.props.schema.label)}\n            helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n        />;\n    }\n}\n\nConfigDatePicker.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(ConfigDatePicker);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { Button, TextField } from '@material-ui/core';\n\nimport DialogCron from '@iobroker/adapter-react/Dialogs/Cron';\nimport I18n from '@iobroker/adapter-react/i18n';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    },\n    flex: {\n        display: 'flex'\n    },\n    button: {\n        height: 48,\n        marginLeft: 4,\n        minWidth: 48,\n    }\n});\n\nclass ConfigCRON extends ConfigGeneric {\n    async componentDidMount() {\n        super.componentDidMount();\n        const { data, attr } = this.props;\n        const value = ConfigGeneric.getValue(data, attr) || '';\n        this.setState({ value});\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        const { classes, schema, attr } = this.props;\n        const { value, showDialog } = this.state;\n\n        return <FormControl className={classes.fullWidth}>\n            <InputLabel shrink>{this.getText(schema.label)}</InputLabel>\n            <div className={classes.flex}>\n                <TextField\n                    fullWidth\n                    value={value}\n                    error={!!error}\n                    disabled={disabled}\n                    placeholder={this.getText(schema.placeholder)}\n                    label={this.getText(schema.label)}\n                    helperText={this.renderHelp(schema.help, schema.helpLink, schema.noTranslation)}\n                    onChange={e => {\n                        const value = e.target.value;\n                        this.setState({ value }, () =>\n                            this.onChange(attr, value))\n                    }}\n                />\n                <Button\n                    className={this.props.classes.button}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onClick={() => this.setState({ showDialog: true })}\n                >...</Button>\n            </div>\n            {showDialog ? <DialogCron\n                title={I18n.t('Define schedule')}\n                simple={schema.simple}\n                complex={schema.complex}\n                cron={value}\n                language={I18n.getLanguage()}\n                onClose={() => this.setState({ showDialog: false })}\n                cancel={I18n.t('Cancel')}\n                ok={I18n.t('Ok')}\n                onOk={value =>\n                    this.setState({ showDialog: false, value }, () =>\n                        this.onChange(attr, value))}\n            /> : null}\n        </FormControl>;\n    }\n}\n\nConfigCRON.propTypes = {\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    dateFormat: PropTypes.string,\n    isFloatComma: PropTypes.bool,\n};\n\nexport default withStyles(styles)(ConfigCRON);","import PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nimport I18n from '@iobroker/adapter-react/i18n';\nimport Utils from '@iobroker/adapter-react/Components/Utils';\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n    },\n    notAlive: {\n        color: '#a30000'\n    }\n});\n\nclass ConfigAlive extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n\n        const instance = this.getInstance();\n\n        this.props.socket.getState(instance + '.alive')\n            .then(state => this.setState({alive: !!(state && state.val), instance}));\n    }\n\n    getInstance() {\n        let instance = this.props.schema.instance || (this.props.adapterName + '.' + this.props.instance);\n        if (instance.includes('${')) {\n            instance = this.getPattern(instance);\n        }\n        if (instance && !instance.startsWith('system.adapter.')) {\n            instance = 'system.adapter.' + instance;\n        }\n        return instance;\n    }\n\n    renderItem() {\n        if (this.getInstance() !== this.state.instance) {\n            setTimeout(() => {\n                const instance = this.getInstance();\n                if (instance) {\n                    this.props.socket.getState(instance + '.alive')\n                        .then(state => this.setState({alive: !!(state && state.val), instance}));\n                } else {\n                    this.setState({alive: null, instance})\n                }\n            }, 200);\n        }\n\n        if (this.state.alive !== false && this.state.alive !== true) {\n            return null;\n        }\n\n        const instance = this.state.instance.replace(/^system.adapter./, '');\n        return <div className={Utils.clsx(this.props.classes.root, !this.state.alive && this.props.classes.notAlive)}>\n            {this.state.alive ?\n                this.props.schema.textAlive !== undefined ? (this.props.schema.textAlive ? I18n.t(this.props.schema.textAlive, instance) : '') : I18n.t('Instance %s is alive', instance)\n                :\n                this.props.schema.textNotAlive !== undefined ? (this.props.schema.textNotAlive ? I18n.t(this.props.schema.textNotAlive, instance) : '') : I18n.t('Instance %s is not alive', instance)\n            }\n        </div>;\n    }\n}\n\nConfigAlive.propTypes = {\n    socket: PropTypes.object.isRequired,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n};\n\nexport default withStyles(styles)(ConfigAlive);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport copy from '@iobroker/adapter-react/Components/copy-to-clipboard';\nimport CopyIcon from '@iobroker/adapter-react/icons/IconCopy';\n\nimport ConfigGeneric from './ConfigGeneric';\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%'\n    }\n});\n\nclass ConfigTextSendTo extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n\n        this.askInstance();\n    }\n\n    askInstance() {\n        if (this.props.alive) {\n            let data = this.props.schema.data;\n            if (data === undefined && this.props.schema.jsonData) {\n                data = this.getPattern(this.props.schema.jsonData);\n                try {\n                    data = JSON.parse(data);\n                } catch (e) {\n                    console.error('Cannot parse json data: ' + data);\n                }\n            }\n\n            if (data === undefined) {\n                data = null;\n            }\n\n            this.props.socket.sendTo(this.props.adapterName + '.' + this.props.instance, this.props.schema.command || 'send', data)\n                .then(text => this.setState({text: text || '', context: this.getContext()}));\n        }\n    }\n\n    getContext() {\n        const context = {};\n        if (Array.isArray(this.props.schema.alsoDependsOn)) {\n            this.props.schema.alsoDependsOn.forEach(attr =>\n                context[attr] = ConfigGeneric.getValue(this.props.data, attr));\n        }\n        return JSON.stringify(context);\n    }\n\n    renderItem(error, disabled, defaultValue) {\n        if (this.state.text === undefined) {\n            return null;\n        }\n\n        if (this.props.alive) {\n            const context = this.getContext();\n            if (context !== this.state.context) {\n                setTimeout(() => {\n                    this.askInstance();\n                }, 300);\n            }\n        }\n\n        if (this.props.schema.container === 'text') {\n            return <TextField\n                fullWidth\n                InputProps={{\n                    endAdornment: this.props.schema.copyToClipboard ?\n                        <IconButton\n                            size=\"small\"\n                            onClick={e => {\n                                copy(this.state.text);\n                                window.alert('Copied');\n                            }}>\n                            <CopyIcon/>\n                        </IconButton>\n                        : undefined,\n                }}\n                value={this.state.text}\n                label={this.getText(this.props.schema.label)}\n                helperText={this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}\n            />;\n        } else {\n            return <div className={this.props.classes.fullWidth}>{this.state.text}</div>;\n        }\n    }\n}\n\nConfigTextSendTo.propTypes = {\n    socket: PropTypes.object.isRequired,\n    data: PropTypes.object.isRequired,\n    schema: PropTypes.object,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n};\n\nexport default withStyles(styles)(ConfigTextSendTo);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\nimport Grid from '@material-ui/core/Grid';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport ConfigGeneric from './ConfigGeneric';\nimport ConfigText from './ConfigText';\nimport ConfigCheckbox from './ConfigCheckbox';\nimport ConfigStaticImage from './ConfigStaticImage';\nimport ConfigNumber from './ConfigNumber';\nimport ConfigColor from './ConfigColor';\nimport ConfigIP from './ConfigIP';\nimport ConfigSelect from './ConfigSelect';\nimport ConfigUser from './ConfigUser';\nimport ConfigStaticText from './ConfigStaticText';\nimport ConfigPattern from './ConfigPattern';\nimport ConfigCertificateSelect from './ConfigCertificateSelect';\nimport ConfigImageUpload from './ConfigImageUpload';\nimport ConfigInstanceSelect from './ConfigInstanceSelect';\nimport ConfigTable from './ConfigTable';\nimport ConfigSendto from './ConfigSendto';\nimport ConfigObjectId from './ConfigObjectId';\nimport ConfigLanguage from './ConfigLanguage';\nimport ConfigChip from './ConfigChip';\nimport ConfigPassword from './ConfigPassword';\nimport ConfigStaticHeader from './ConfigStaticHeader';\nimport ConfigStaticDivider from './ConfigStaticDivider';\nimport ConfigSetState from './ConfigSetState';\nimport ConfigJsonEditor from './ConfigJsonEditor';\nimport ConfigSelectSendTo from './ConfigSelectSendTo';\nimport ConfigTopic from './ConfigTopic';\nimport ConfigAutocomplete from './ConfigAutocomplete';\nimport ConfigAutocompleteSendTo from './ConfigAutocompleteSendTo';\nimport ConfigTimePicker from './ConfigTimePicker';\nimport ConfigDatePicker from './ConfigDatePicker';\nimport ConfigCRON from './ConfigCRON';\nimport ConfigAlive from './ConfigAlive';\nimport ConfigTextSendTo from './ConfigTextSendTo';\n\nconst components = {\n    alive: ConfigAlive,\n    autocomplete: ConfigAutocomplete,\n    autocompleteSendTo: ConfigAutocompleteSendTo,\n    certificate: ConfigCertificateSelect,\n    checkbox: ConfigCheckbox,\n    chip: ConfigChip,\n    color: ConfigColor,\n    cron: ConfigCRON,\n    datePicker: ConfigDatePicker,\n    divider: ConfigStaticDivider,\n    header: ConfigStaticHeader,\n    image: ConfigImageUpload,\n    instance: ConfigInstanceSelect,\n    ip: ConfigIP,\n    jsonEditor: ConfigJsonEditor,\n    language: ConfigLanguage,\n    number: ConfigNumber,\n    objectId: ConfigObjectId,\n    password: ConfigPassword,\n    pattern: ConfigPattern,\n    select: ConfigSelect,\n    selectSendTo: ConfigSelectSendTo,\n    sendTo: ConfigSendto,\n    sendto: ConfigSendto,\n    setState: ConfigSetState,\n    staticImage: ConfigStaticImage,\n    staticLink: ConfigStaticText,\n    staticText: ConfigStaticText,\n    table: ConfigTable,\n    text: ConfigText,\n    textSendTo: ConfigTextSendTo,\n    timePicker: ConfigTimePicker,\n    topic: ConfigTopic,\n    user: ConfigUser,\n};\n\nconst styles = theme => ({\n    fullWidth: {\n        width: '100%',\n        //height: '100%',\n    },\n    paper: {\n        margin: 10,\n        height: 'calc(100vh - 235px) !important',\n        width: 'auto !important',\n        overflowY: 'auto',\n        paddingBottom: theme.spacing(1)\n    },\n    padding: {\n        padding: 10,\n    },\n    heading: {\n\n    },\n    primary: {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.type === 'dark' ? 'inherit' : '#FFF'\n    },\n    secondary: {\n        backgroundColor: theme.palette.secondary.main,\n    }\n});\n\nclass ConfigPanel extends ConfigGeneric {\n    componentDidMount() {\n        super.componentDidMount();\n        if (this.props.schema && this.props.schema.collapsable) {\n            this.setState({expanded: window.localStorage.getItem(this.props.adapterName + '.' + this.props.attr) === 'true'});\n        }\n    }\n\n    renderItems(items, disabled) {\n        const classes = this.props.classes || {};\n\n        return Object.keys(items).map(attr => {\n            if (this.props.multiEdit && items[attr].noMultiEdit) {\n                return null;\n            }\n\n            const type = items[attr].type || 'panel';\n            let ItemComponent;\n            if (type === 'custom') {\n                if (this.props.customs && this.props.customs[items[attr].component]) {\n                    ItemComponent = this.props.customs[items[attr].component];\n                } else {\n                    console.error('Cannot find custom component: ' + items[attr].component);\n                    ItemComponent = ConfigGeneric;\n                }\n            } else if (type === 'panel') {\n                ItemComponent = ConfigPanelStyled;\n            } else {\n                ItemComponent = components[type] || ConfigGeneric;\n            }\n\n            return <ItemComponent\n                key={attr}\n                onCommandRunning={this.props.onCommandRunning}\n                commandRunning={this.props.commandRunning}\n                className={classes.panel}\n                socket={this.props.socket}\n                adapterName={this.props.adapterName}\n                instance={this.props.instance}\n                common={this.props.common}\n                alive={this.props.alive}\n                themeType={this.props.themeType}\n                themeName={this.props.themeName}\n                data={this.props.data}\n                originalData={this.props.originalData}\n                systemConfig={this.props.systemConfig}\n                onError={this.props.onError}\n                onChange={this.props.onChange}\n                customs={this.props.customs}\n                dateFormat={this.props.dateFormat}\n                isFloatComma={this.props.isFloatComma}\n                disabled={disabled}\n\n                registerOnForceUpdate={this.props.registerOnForceUpdate}\n                forceUpdate={this.props.forceUpdate}\n\n                customObj={this.props.customObj}\n                instanceObj={this.props.instanceObj}\n                custom={this.props.custom}\n\n                attr={attr}\n                schema={items[attr]}\n            />;\n        });\n    }\n\n    render() {\n        const schema = this.props.schema;\n\n        if (!schema) {\n            return null;\n        }\n\n        const {disabled, hidden} = this.calculate(schema);\n\n        const items   = this.props.schema.items;\n        const classes = this.props.classes || {};\n\n        if (hidden) {\n            if (schema.hideOnlyControl) {\n                const item = <Grid\n                    item\n                    xs={schema.xs || undefined}\n                    lg={schema.lg || undefined}\n                    md={schema.md || undefined}\n                    sm={schema.sm || undefined}\n                    style={Object.assign(\n                        {},\n                        {marginBottom: 0, /*marginRight: 8, */textAlign: 'left'},\n                        schema.style,\n                        this.props.themaType === 'dark' ? schema.darkStyle : {}\n                    )}\n                />;\n\n                if (schema.newLine) {\n                    return <>\n                        <div style={{flexBasis: '100%', height: 0}} />\n                        {item}\n                    </>\n                } else {\n                    return item;\n                }\n            } else {\n                return null;\n            }\n        } else\n        if (this.props.table) {\n            return this.renderItems(items, disabled);\n        } else\n        if (this.props.custom) {\n            return <Grid\n                key={this.props.attr}\n                container\n                className={classes.fullWidth}\n                spacing={2}\n            >\n                {this.renderItems(items, disabled)}\n            </Grid>;\n        } else {\n            let content;\n            if (schema.collapsable) {\n                content = <Accordion\n                    key={this.props.attr}\n                    className={classes.fullWidth}\n                    expanded={!!this.state.expanded}\n                    onChange={() => {\n                        window.localStorage.setItem(this.props.adapterName + '.' + this.props.attr, this.state.expanded ? 'false' : 'true');\n                        this.setState({expanded: !this.state.expanded});\n                    }}\n                >\n                    <AccordionSummary\n                        expandIcon={<ExpandMoreIcon />}\n                        style={Object.assign({}, schema.style, this.props.themeType ? schema.darkStyle : {})}\n                        className={clsx(classes.fullWidth, schema.color === 'primary' && classes.primary, schema.color === 'secondary' && classes.secondary)}\n                    >\n                        <Typography className={classes.heading}>{this.getText(schema.label)}</Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n                        <Grid container className={classes.fullWidth + ' ' + classes.padding} spacing={2}>\n                            {this.renderItems(items, disabled)}\n                        </Grid>\n                    </AccordionDetails>\n                </Accordion>\n            } else {\n                content = <div\n                    key={this.props.attr}\n                    className={clsx(this.props.className, this.props.isParentTab && classes.paper, classes.fullWidth)}\n                >\n                    <Grid container className={clsx(classes.fullWidth, this.props.isParentTab && classes.padding)} spacing={2}>\n                        {this.renderItems(items, disabled)}\n                    </Grid>\n                </div>;\n            }\n\n            if (!this.props.isParentTab) {\n                const item = <Grid\n                    item\n                    title={this.getText(schema.tooltip)}\n                    xs={schema.xs || undefined}\n                    lg={schema.lg || undefined}\n                    md={schema.md || undefined}\n                    sm={schema.sm || undefined}\n                    style={Object.assign({}, {marginBottom: 0, /*marginRight: 8, */textAlign: 'left'}, schema.style)}>\n                    {content}\n                </Grid>;\n\n                if (schema.newLine) {\n                    return <>\n                        <div style={{flexBasis: '100%', height: 0}} />\n                        {item}\n                    </>\n                } else {\n                    return item;\n                }\n            } else {\n                return content;\n            }\n        }\n    }\n}\n\nConfigPanel.propTypes = {\n    socket: PropTypes.object.isRequired,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    data: PropTypes.object.isRequired,\n    originalData: PropTypes.object,\n    schema: PropTypes.object,\n    customs: PropTypes.object,\n    alive: PropTypes.bool,\n    systemConfig: PropTypes.object,\n    adapterName: PropTypes.string,\n    instance: PropTypes.number,\n    commandRunning: PropTypes.bool,\n    onCommandRunning: PropTypes.func,\n    dateFormat: PropTypes.string,\n    isFloatComma: PropTypes.bool,\n    multiEdit: PropTypes.bool,\n    isParentTab: PropTypes.bool,\n\n    customObj: PropTypes.object,\n    instanceObj: PropTypes.object,\n    custom: PropTypes.bool,\n\n    onError: PropTypes.func,\n    onChange: PropTypes.func,\n    onForceUpdate: PropTypes.func,\n    registerOnForceUpdate: PropTypes.func,\n};\n\nconst ConfigPanelStyled = withStyles(styles)(ConfigPanel);\n\nexport default ConfigPanelStyled;","import { Component, createRef } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { Menu, MenuItem, Tooltip } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport IconClose from '@material-ui/icons/Close';\nimport CropIcon from '@material-ui/icons/Crop';\nimport { FaFileUpload as UploadIcon } from 'react-icons/fa';\nimport { Cropper } from 'react-cropper';\nimport \"cropperjs/dist/cropper.css\";\n\n\nconst styles = theme => ({\n    dropZone: {\n        width: '100%',\n        height: 100,\n        position: 'relative',\n    },\n    dropZoneEmpty: {\n\n    },\n    image: {\n        objectFit: 'contain',\n        margin: 'auto',\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n    },\n\n    uploadDiv: {\n        position: 'relative',\n        width: '100%',\n        height: 300,\n        opacity: 0.9,\n        marginTop: 30,\n        cursor: 'pointer',\n        outline: 'none'\n    },\n    uploadDivDragging: {\n        opacity: 1,\n        background: 'rgba(128,255,128,0.1)'\n    },\n\n    uploadCenterDiv: {\n        margin: 5,\n        border: '3px dashed grey',\n        borderRadius: 5,\n        width: 'calc(100% - 10px)',\n        height: 'calc(100% - 10px)',\n        position: 'relative',\n        display: 'flex'\n    },\n    uploadCenterIcon: {\n        paddingTop: 10,\n        width: 48,\n        height: 48,\n    },\n    uploadCenterText: {\n        fontSize: 16,\n    },\n    uploadCenterTextAndIcon: {\n        textAlign: 'center',\n        position: 'absolute',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n\n    },\n    disabledOpacity: {\n        opacity: 0.3,\n        cursor: 'default'\n    },\n    buttonRemoveWrapper: {\n        position: 'absolute',\n        zIndex: 222,\n        right: 0\n    },\n    buttonCropWrapper: {\n        position: 'absolute',\n        zIndex: 222,\n        right: 0,\n        top: 50\n    },\n    error: {\n        border: '2px solid red'\n    }\n});\n\nclass UploadImage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            uploadFile: false,\n            anchorEl: null,\n            cropHandler: false,\n        };\n        this.cropperRef = createRef();\n    }\n\n    onDrop(acceptedFiles) {\n        const { maxSize, t, onChange } = this.props;\n\n        const file = acceptedFiles[0];\n        const reader = new FileReader();\n\n        reader.onabort = () => console.log('file reading was aborted');\n        reader.onerror = () => console.log('file reading has failed');\n        reader.onload = () => {\n            let ext = 'image/' + file.name.split('.').pop().toLowerCase();\n            if (ext === 'image/jpg') {\n                ext = 'image/jpeg';\n            } else if (ext.includes('svg')) {\n                ext = 'image/svg+xml';\n            }\n            if (file.size > maxSize) {\n                return window.alert(t('File is too big. Max %sk allowed. Try use SVG.', Math.round(maxSize / 1024)));\n            }\n            const base64 = `data:${ext};base64,${btoa(\n                new Uint8Array(reader.result)\n                    .reduce((data, byte) => data + String.fromCharCode(byte), ''))}`;\n\n            onChange(base64);\n        };\n        reader.readAsArrayBuffer(file);\n    }\n\n    render() {\n        const { disabled, maxSize, classes, icon, t, removeIconFunc, accept, error, crop, onChange } = this.props;\n        const { uploadFile, anchorEl, cropHandler } = this.state;\n        return <Dropzone\n            disabled={disabled || cropHandler}\n            key=\"dropzone\"\n            multiple={false}\n            accept={accept}\n            maxSize={maxSize}\n            onDragEnter={() => this.setState({ uploadFile: 'dragging' })}\n            onDragLeave={() => this.setState({ uploadFile: true })}\n            onDrop={(acceptedFiles, errors) => {\n                this.setState({ uploadFile: false });\n                if (!acceptedFiles.length) {\n                    window.alert((errors && errors[0] && errors[0].errors && errors[0].errors[0] && errors[0].errors[0].message) || t('Cannot upload'));\n                } else {\n                    return this.onDrop(acceptedFiles);\n                }\n            }}\n        >\n            {({ getRootProps, getInputProps }) => (\n                <div className={clsx(\n                    classes.uploadDiv,\n                    uploadFile === 'dragging' && classes.uploadDivDragging,\n                    classes.dropZone,\n                    disabled && classes.disabledOpacity,\n                    !icon && classes.dropZoneEmpty\n                )}\n                    {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    <div className={clsx(classes.uploadCenterDiv, error && classes.error)}>\n                        {!icon ? <div className={classes.uploadCenterTextAndIcon}>\n                            <UploadIcon className={classes.uploadCenterIcon} />\n                            <div className={classes.uploadCenterText}>{\n                                uploadFile === 'dragging' ? t('Drop file here') :\n                                    t('Place your files here or click here to open the browse dialog')}</div>\n                        </div>\n                            :\n                            removeIconFunc && !cropHandler && <div className={classes.buttonRemoveWrapper}>\n                                <Tooltip title={t('Clear')}>\n                                    <IconButton onClick={e => {\n                                        removeIconFunc && removeIconFunc();\n                                        e.stopPropagation();\n                                    }}><IconClose />\n                                    </IconButton>\n                                </Tooltip>\n                            </div>\n                        }\n                        {icon && crop && <div className={classes.buttonCropWrapper}>\n                            <Tooltip title={t('Crop')}>\n                                <IconButton onClick={e => {\n                                    if (!cropHandler) {\n                                        this.setState({ cropHandler: true });\n                                    } else {\n                                        this.setState({ anchorEl: e.currentTarget });\n                                    }\n                                    e.stopPropagation();\n                                }}><CropIcon color={cropHandler ? 'primary' : 'inherit'} />\n                                </IconButton>\n                            </Tooltip>\n                            <Menu\n                                id=\"simple-menu\"\n                                anchorEl={anchorEl}\n                                keepMounted\n                                open={Boolean(anchorEl)}\n                                onClose={() => this.setState({ anchorEl: null })}\n                            >\n                                <MenuItem onClick={() => this.setState({ anchorEl: null, cropHandler: false }, () => {\n                                    const imageElement = this.cropperRef?.current?.cropper;\n                                    onChange(imageElement.getCroppedCanvas().toDataURL());\n                                })}>{t('Save')}</MenuItem>\n                                <MenuItem onClick={() => this.setState({ anchorEl: null, cropHandler: false })}>{t('Close')}</MenuItem>\n                            </Menu>\n                        </div>}\n                        {icon && !cropHandler ? <img src={icon} className={classes.image} alt=\"icon\" /> : null}\n\n                        {icon && crop && cropHandler ? <Cropper\n                            ref={this.cropperRef}\n                            className={classes.image}\n                            src={icon}\n                            initialAspectRatio={1}\n                            viewMode={1}\n                            guides={false}\n                            minCropBoxHeight={10}\n                            minCropBoxWidth={10}\n                            background={false}\n                            checkOrientation={false}\n                        /> : null}\n                    </div>\n\n                </div>)}\n        </Dropzone>;\n    }\n}\n\nUploadImage.defaultProps = {\n    disabled: false,\n    maxSize: 10 * 1024,\n    icon: null,\n    removeIconFunc: null,\n    accept: 'image/*',\n    error: false,\n    onChange: base64 => console.log(base64),\n    t: el => el,\n    crop: false\n}\n\nUploadImage.propTypes = {\n    classes: PropTypes.object,\n    maxSize: PropTypes.number,\n    disabled: PropTypes.bool,\n    crop: PropTypes.bool,\n    error: PropTypes.bool,\n    onChange: PropTypes.func,\n    accept: PropTypes.string,\n    t: PropTypes.func,\n};\n\nexport default withStyles(styles)(UploadImage);\n","import { Component } from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport PropTypes from 'prop-types';\n\nimport { Grid } from '@material-ui/core';\nimport { Typography } from '@material-ui/core';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport green from '@material-ui/core/colors/green';\nimport red from '@material-ui/core/colors/red';\n\nconst styles = {\n    checkIcon: {\n        color: green[700]\n    },\n    cancelIcon: {\n        color: red[700]\n    },\n    wrapperContent:{\n        display: 'flex',\n        flexFlow: 'nowrap',\n        alignItems: 'inherit'\n    }\n};\n\nclass State extends Component {\n\n    getIcon() {\n        if (this.props.state) {\n            return <CheckCircleIcon className={ this.props.classes.checkIcon } />;\n        } else {\n            return <CancelIcon className={ this.props.classes.cancelIcon } />;\n        }\n    }\n\n    render() {\n        return <Grid\n            item\n            container\n            className={this.props.classes.wrapperContent}\n            alignItems=\"center\"\n            direction=\"row\"\n            spacing={ 1 }\n        >\n            <Grid item>\n                { this.getIcon() }\n            </Grid>\n            <Grid item>\n                <Typography>\n                    { this.props.children }\n                </Typography>\n            </Grid>\n        </Grid>;\n    }\n}\n\nState.propTypes = {\n    state: PropTypes.bool\n};\n\nexport default withStyles(styles)(State);","export default __webpack_public_path__ + \"static/media/globe.f11bdd28.svg\";","export default __webpack_public_path__ + \"static/media/link.11336b8e.svg\";","import React, { Component } from 'react';\nimport semver from 'semver';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport PropTypes from 'prop-types';\n\nimport { Button } from '@material-ui/core';\nimport { Dialog } from '@material-ui/core';\nimport { DialogActions } from '@material-ui/core';\nimport { DialogContent } from '@material-ui/core';\nimport { DialogTitle } from '@material-ui/core';\nimport { Grid } from '@material-ui/core';\nimport { IconButton } from '@material-ui/core';\nimport { Typography } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport State from '../components/State';\nimport {MOBILE_WIDTH} from '../helpers/MobileDialog';\n\nconst styles = theme => {\n    return ({\n        closeButton: {\n            position: 'absolute',\n            right: theme.spacing(1),\n            top: theme.spacing(1),\n            color: theme.palette.grey[500],\n        },\n        typography: {\n            paddingRight: 30\n        },\n        version: {\n            background: '#4dabf5',\n            borderRadius: 3,\n            paddingLeft: 10,\n            fontWeight: 'bold',\n            color: theme.palette.type === 'dark' ? 'black' : 'white'\n        },\n        wrapperButton: {\n        },\n        '@media screen and (max-width: 465px)': {\n            wrapperButton: {\n                '& *': {\n                    fontSize: 10\n                }\n            },\n        },\n        '@media screen and (max-width: 380px)': {\n            wrapperButton: {\n                '& *': {\n                    fontSize: 9\n                }\n            },\n        },\n    })\n};\n\nclass AdapterUpdateDialog extends Component {\n    constructor(props) {\n        super(props);\n\n        this.t = props.t;\n        this.mobile = window.innerWidth < MOBILE_WIDTH;\n    }\n\n    getDependencies() {\n        const result = [];\n\n        this.props.dependencies && this.props.dependencies.forEach(dependency => {\n            result.push(\n                <State\n                    key={dependency.name}\n                    state={dependency.rightVersion}\n                >\n                    {`${dependency.name}${dependency.version ? ` (${dependency.version})` : ''}: ${dependency.installed ? dependency.installedVersion : '-'}`}\n                </State>\n            );\n        });\n\n        return result;\n    }\n\n    getNews() {\n        const result = [];\n\n        this.props.news && this.props.news.forEach(entry => {\n            const news = (entry.news ? entry.news.split('\\n') : [])\n                .map(line => line\n                    .trim()\n                    .replace(/^\\*\\s?/, '')\n                    .replace(/<!--[^>]*->/, '')\n                    .replace(/<! -[^>]*->/, '')\n                    .trim()\n                )\n                .filter(line => !!line);\n\n            if (this.props.adapterObject?.version && entry.version &&\n                semver.gt(entry.version, this.props.adapterObject?.version)) {\n                return;\n            }\n\n            result.push(\n                <Grid item key={entry.version}>\n                    <Typography className={this.props.classes.version}>\n                        {entry.version}\n                    </Typography>\n                    {news.map((value, index) => {\n                        return <Typography key={`${entry.version}-${index}`} component=\"div\" variant=\"body2\">\n                            { '• ' + value}\n                        </Typography>;\n                    })}\n                </Grid>\n            );\n        });\n\n        return result;\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        const version = this.props.adapterObject?.version;\n\n        const news = this.getNews();\n\n        return <Dialog\n            onClose={this.props.onClose}\n            open={this.props.open}\n        >\n            <DialogTitle disableTypography={true}>\n                <Typography component=\"h2\" variant=\"h6\" classes={{ root: classes.typography }}>\n                    {this.t('Update \"%s\" to v%s', this.props.adapter, version)}\n                    <IconButton className={classes.closeButton} onClick={this.props.onClose}>\n                        <CloseIcon />\n                    </IconButton>\n                </Typography>\n            </DialogTitle>\n            <DialogContent dividers>\n                <Grid\n                    container\n                    direction=\"column\"\n                    spacing={2}\n                    wrap=\"nowrap\"\n                >\n                    {this.props.dependencies && this.props.dependencies.length > 0 &&\n                        this.props.dependencies.find(dependency => !dependency.rightVersion) &&\n                        <Grid item>\n                            <Typography variant=\"h6\" gutterBottom>{this.t('Dependencies')}</Typography>\n                            {this.getDependencies()}\n                        </Grid>\n                    }\n                    {news.length ? <Grid item>\n                        <Typography variant=\"h6\" gutterBottom>{this.t('Change log')}</Typography>\n                        <Grid\n                            container\n                            spacing={2}\n                            direction=\"column\"\n                            wrap=\"nowrap\"\n                        >\n                            {news}\n                        </Grid>\n                    </Grid> : this.t('No change log available')}\n                </Grid>\n            </DialogContent>\n            <DialogActions className={classes.wrapperButton}>\n                {!!this.props.rightDependencies && this.props.onIgnore && version && <Button\n                    variant=\"outlined\"\n                    onClick={() => this.props.onIgnore(version)}\n                    color=\"primary\"\n                >\n                    {this.t('Ignore version %s', version)}\n                </Button>}\n                <Button\n                    variant=\"contained\"\n                    autoFocus\n                    disabled={!this.props.rightDependencies || !version || !this.props.adapterObject}\n                    onClick={() => this.props.onUpdate(version)}\n                    color=\"primary\"\n                    startIcon={<CheckIcon/>}\n                >\n                    {this.mobile ? null : (this.props.textUpdate ? this.props.textUpdate : this.t('Update'))}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => this.props.onClose()}\n                    color=\"default\"\n                    startIcon={<CloseIcon />}\n                >\n                    {this.mobile ? null : this.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nAdapterUpdateDialog.propTypes = {\n    adapter: PropTypes.string.isRequired,\n    adapterObject: PropTypes.object.isRequired,\n    dependencies: PropTypes.array,\n    news: PropTypes.array,\n    onUpdate: PropTypes.func.isRequired,\n    onIgnore: PropTypes.func,\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n    rightDependencies: PropTypes.bool,\n    t: PropTypes.func.isRequired\n}\n\nexport default  withStyles(styles)(AdapterUpdateDialog);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEOSURBVGhD7dixCoJQGMVxDSOoodFACJSmaPQ5mpscfYUeo6WXCFx6gFanpsDRqMWhRYgGIbSWbxFBbdDThfNb9Iz/4XJF/aypbSBPZTEAjQFoDEBjAJryAS0+JXRdNwx578snz7WikFGrOWBk28soktGXm+elQSCjVosAx1nFsYy+XDeb9HCQUYuHGI0BaAxAUz6g23vgeToVWSajbGiaE9eVUdH+Hug24GJZ7ySRUTZdrxfHo4wKXmTqYAAaA9AYgMYANAagMQCNAWgMQGMAGgPQGIDGADTlA5r/jRqmOd/vZfzo7vt5msooG7vubLuVUfHY7V5hKKNWc8Cf4xlAYwAaA9AYgMYANAZgadoX+gw72Zvh2hIAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/wizard-finish.8e587d28.jpg\";","export default __webpack_public_path__ + \"static/media/wizard-welcome.06f62f65.jpg\";","export default __webpack_public_path__ + \"static/media/pin.773680e2.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/longLogo.d88c527f.svg\";","import React from 'react';\nimport withWidth from '@material-ui/core/withWidth';\nimport {withStyles} from '@material-ui/core/styles';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport Utils from '../Utils';\n\nconst styles = theme => ({\n    root: {\n        //border:     '0 solid #FFF',\n        display:    'block',\n        left:       0,\n        top:        0,\n        width:      '100%',\n        height:     '100%',\n        background: 'white',\n        color:      'black',\n        borderRadius: 4,\n        boxShadow: '0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)',\n        border: '0px solid #888'\n    },\n});\n\nclass CustomTab extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            href: '',\n        };\n\n        this.refIframe = React.createRef();\n        this.registered = false;\n\n        CustomTab.getHref(this.props.instancesWorker, this.props.tab, this.props.hostname, this.props.protocol, this.props.port, this.props.hosts,  this.props.adminInstance)\n            .then(href =>\n                this.setState({href}));\n    }\n\n    static getHref(instancesWorker, tab, hostname, protocol, port, hosts, adminInstance) {\n        return instancesWorker.getInstances()\n            .then(instances => {\n                let adapter = tab.replace(/^tab-/, '');\n                let instNum;\n                const m = adapter.match(/-(\\d+)$/);\n                instNum = m ? parseInt(m[1], 10) : null;\n\n                let instance;\n                if (instNum !== null) {\n                    adapter = adapter.replace(/-(\\d+)$/, '');\n                    const name = `system.adapter.${adapter}.${instNum}`;\n                    instance = Object.keys(instances).find(id => id === name);\n                } else {\n                    const name = `system.adapter.${adapter}.`;\n\n                    instance = instances && Object.keys(instances).find(id => id.startsWith(name));\n                }\n                instance = instances && instances[instance];\n\n                if (!instance || !instance.common || !instance.common.adminTab) {\n                    console.error(`Cannot find instance ${tab}`);\n\n                    return '';\n                }\n\n                // calculate href\n                let href = instance.common.adminTab.link;\n\n                if (!href) {\n                    if (instance.common.materializeTab) {\n                        href = `adapter/${adapter}/tab_m.html${instNum !== null && instNum !== undefined ? '?' + instNum : ''}`;\n                    } else {\n                        href = `adapter/${adapter}/tab.html${instNum !== null && instNum !== undefined ? '?' + instNum : ''}`;\n                    }\n                }\n\n                if (!instance.common.adminTab.singleton && instNum !== null && instNum !== undefined) {\n                    href += `${href.includes('?') ? '&' : '?'}instance=${instNum}`;\n                }\n\n                if (href.includes('%')) {\n                    // fix for singletons\n                    if (instNum === null || instNum === undefined) {\n                        instNum = instance._id.split('.').pop();\n                    }\n\n                    // replace\n                    const hrefs = Utils.replaceLink(href, adapter, instNum, {\n                        hostname,\n                        protocol,\n                        objects: instances,\n                        hosts,\n                        adminInstance,\n                        port,\n                    });\n\n                    href = hrefs ? hrefs[0]?.url : '';\n                }\n\n                // add at the end the instance, as some adapters make bullshit like: window.location.search.slice(-1) || 0;\n                href += `${href.includes('?') ? '&' : '?'}newReact=true${instNum !== null && instNum !== undefined ? '&' + instNum : ''}`;\n\n                return href;\n            });\n    }\n\n    componentWillUnmount() {\n        this.registered && this.props.onUnregisterIframeRef(this.refIframe);\n    }\n\n    componentDidMount() {\n        if (!this.registered && this.refIframe.contentWindow) {\n            this.registered = true;\n            this.props.onRegisterIframeRef(this.refIframe);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!this.registered && this.refIframe.contentWindow) {\n            this.registered = true;\n            this.props.onRegisterIframeRef(this.refIframe);\n        }\n    }\n\n    render() {\n        if (!this.state.href) {\n            return <LinearProgress />;\n        }\n\n        if (window.location.port === '3000') {\n            return 'Test it in not development mode!';\n        } else {\n            return <iframe\n                ref={el => this.refIframe = el}\n                title={ this.props.tab }\n                className={ this.props.classes.root }\n                src={ this.state.href }\n                onError={ e => {\n                    e.target.onerror = null;\n                    this.setState({href: this.state.href.replace('tab_m.html', 'tab.html') });\n                }}\n            />;\n        }\n    }\n}\n\nCustomTab.propTypes = {\n    t: PropTypes.func,\n    lang: PropTypes.string,\n    themeName: PropTypes.string,\n    tab: PropTypes.string.isRequired,\n    instancesWorker: PropTypes.object.isRequired,\n\n    hostname: PropTypes.string,\n    protocol: PropTypes.string,\n    port: PropTypes.number,\n    adminInstance: PropTypes.string,\n    hosts: PropTypes.array,\n\n    expertMode: PropTypes.bool,\n    onRegisterIframeRef: PropTypes.func,\n    onUnregisterIframeRef: PropTypes.func,\n};\n\nexport default withWidth()(withStyles(styles)(CustomTab));\n","const ANSI_RESET  = 0;\nconst ANSI_RESET_COLOR  = 39;\nconst ANSI_RESET_BG_COLOR  = 49;\nconst ANSI_BOLD  = 1;\nconst ANSI_RESET_BOLD  = 22;\n\nconst STYLES = {\n    30: {color: 'black'}, // ANSI_BLACK\n    31: {color: 'red'}, // ANSI_RED\n    32: {color: 'green'}, // ANSI_GREEN\n    33: {color: 'yellow'}, // ANSI_YELLOW\n    34: {color: 'blue'}, // ANSI_BLUE\n    35: {color: 'purple'}, // ANSI_PURPLE\n    36: {color: 'cyan'}, // ANSI_CYAN\n    37: {color: 'white'}, // ANSI_WHITE\n\n    90: {color: 'grey'}, // ANSI_BRIGHT_BLACK\n    91: {color: 'lightred'}, // ANSI_BRIGHT_RED\n    92: {color: 'lightgreen'}, // ANSI_BRIGHT_GREEN\n    93: {color: 'lightyellow'}, // ANSI_BRIGHT_YELLOW\n    94: {color: 'lightblue'}, // ANSI_BRIGHT_BLUE\n    95: {color: 'lightpurple'}, // ANSI_BRIGHT_PURPLE\n    96: {color: 'lightcyan'}, // ANSI_BRIGHT_CYAN\n    97: {color: 'white'}, // ANSI_BRIGHT_WHITE\n\n    40: {backgroundColor: 'black'}, // ANSI_BG_BLACK\n    41: {backgroundColor: 'red'}, // ANSI_BG_RED\n    42: {backgroundColor: 'green'}, // ANSI_BG_GREEN\n    43: {backgroundColor: 'yellow'}, // ANSI_BG_YELLOW\n    44: {backgroundColor: 'blue'}, // ANSI_BG_BLUE\n    45: {backgroundColor: 'purple'}, // ANSI_BG_PURPLE\n    46: {backgroundColor: 'cyan'}, // ANSI_BG_CYAN\n    47: {backgroundColor: 'white'}, // ANSI_BG_WHITE\n\n    100: {backgroundColor: 'grey'}, // ANSI_BRIGHT_BG_BLACK\n    101: {backgroundColor: 'lightred'}, // ANSI_BRIGHT_BG_RED\n    102: {backgroundColor: 'lightgreen'}, // ANSI_BRIGHT_BG_GREEN\n    103: {backgroundColor: 'lightyellow'}, // ANSI_BRIGHT_BG_YELLOW\n    104: {backgroundColor: 'lightblue'}, // ANSI_BRIGHT_BG_BLUE\n    105: {backgroundColor: 'lightpurple'}, // ANSI_BRIGHT_BG_PURPLE\n    106: {backgroundColor: 'lightcyan'}, // ANSI_BRIGHT_BG_CYAN\n    107: {backgroundColor: 'white'}, // ANSI_BRIGHT_BG_WHITE\n}\n\nclass Utils {\n\n    /**\n     * Format bytes to MB or GB\n     * @param {!number} bytes\n     * @returns {String}\n     */\n    static formatRam(bytes) {\n\n        const GB = Math.floor(bytes / (1024 * 1024 * 1024) * 10) / 10;\n        bytes %= (1024 * 1024 * 1024);\n        const MB = Math.floor(bytes / (1024 * 1024) * 10) / 10;\n        let text = '';\n\n        if (GB > 1) {\n            text += GB + ' GB';\n        } else {\n            text += MB + ' MB';\n        }\n\n        return text;\n    }\n\n    static formatSpeed(mhz) {\n        return mhz + ' MHz';\n    }\n\n    static formatBytes(bytes) {\n        if (Math.abs(bytes) < 1024) {\n            return bytes + ' B';\n        }\n\n        const units = ['KB','MB','GB'];\n        //const units = ['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];\n        let u = -1;\n\n        do {\n            bytes /= 1024;\n            ++u;\n        } while (Math.abs(bytes) >= 1024 && u < units.length - 1);\n\n        return bytes.toFixed(1) + ' ' + units[u];\n    }\n\n    static getFileExtension(fileName) {\n        const pos = fileName.lastIndexOf('.');\n        if (pos !== -1) {\n            return fileName.substring(pos + 1).toLowerCase();\n        } else {\n            return null;\n        }\n    }\n\n    // Big thanks to : https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n    static invertColor(hex, bw) {\n        if (hex === undefined || hex === null || hex === '' || typeof hex !== 'string') {\n            return '';\n        }\n        if (hex.indexOf('#') === 0) {\n            hex = hex.slice(1);\n        }\n        // convert 3-digit hex to 6-digits.\n        if (hex.length === 3) {\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n        }\n        if (hex.length !== 6) {\n            throw new Error('Invalid HEX color.');\n        }\n        let r = parseInt(hex.slice(0, 2), 16);\n        let g = parseInt(hex.slice(2, 4), 16);\n        let b = parseInt(hex.slice(4, 6), 16);\n\n        if (bw) {\n            // http://stackoverflow.com/a/3943023/112731\n            return (r * 0.299 + g * 0.587 + b * 0.114) > 186\n                ? '#000000'\n                : '#FFFFFF';\n        }\n        // invert color components\n        r = (255 - r).toString(16);\n        g = (255 - g).toString(16);\n        b = (255 - b).toString(16);\n        // pad each with zeros and return\n        return '#' + r.padStart(2, '0') + g.padStart(2, '0') + b.padStart(2, '0');\n    }\n\n    /**\n     * Format number in seconds to time text\n     * @param {!number} seconds\n     * @returns {String}\n     */\n    static formatSeconds(seconds, t) {\n        const days = Math.floor(seconds / (3600 * 24));\n        seconds %= 3600 * 24;\n        let hours = Math.floor(seconds / 3600);\n        if (hours < 10) {\n            hours = '0' + hours;\n        }\n        seconds %= 3600;\n        let minutes = Math.floor(seconds / 60);\n        if (minutes < 10) {\n            minutes = '0' + minutes;\n        }\n        seconds %= 60;\n        seconds = Math.floor(seconds);\n        if (seconds < 10) {\n            seconds = '0' + seconds;\n        }\n        let text = '';\n        if (days) {\n            text += days + ' ' + t('daysShortText') + ' ';\n        }\n        text += hours + ':' + minutes + ':' + seconds;\n\n        return text;\n    }\n\n    // internal use\n    static _replaceLink(link, objects, adapterInstance, attr, placeholder, hosts, hostname, adminInstance) {\n        if (attr === 'protocol') {\n            attr = 'secure';\n        }\n\n        try {\n            const object = objects['system.adapter.' + adapterInstance];\n\n            if (link && object) {\n                if (attr === 'secure') {\n                    link = link.replace(`%${placeholder}%`, object.native[attr] ? 'https' : 'http');\n                } else {\n                    let value = object.native[attr];\n                    // workaround for port\n                    if ((attr === 'webinterfacePort' || attr === 'port') && (!value || value === '0')) {\n                        if (object.native.secure === true) {\n                            value = 443;\n                        } else {\n                            value = 80;\n                        }\n                    }\n\n                    if (attr === 'bind' || attr === 'ip') {\n                        let ip = object.native.bind || object.native.ip;\n                        if (ip === '0.0.0.0') {\n                            ip = Utils.getHostname(object, objects, hosts, hostname, adminInstance);\n                        }\n                        if (!link.includes(`%${placeholder}%`)) {\n                            link = link.replace(`%native_${placeholder}%`, ip || '');\n                        } else {\n                            link = link.replace(`%${placeholder}%`, ip || '');\n                        }\n                    } else if (!link.includes(`%${placeholder}%`)) {\n                        link = link.replace(`%native_${placeholder}%`, value);\n                    } else {\n                        link = link.replace(`%${placeholder}%`, value);\n                    }\n                }\n            } else {\n                console.log('Cannot get link ' + attr);\n                link = link.replace(`%${placeholder}%`, '');\n            }\n        } catch (error) {\n            console.log(error);\n        }\n        return link;\n    }\n\n    static ip2int(ip) {\n        return ip.split('.').reduce((ipInt, octet) => (ipInt << 8) + parseInt(octet, 10), 0) >>> 0;\n    }\n\n    static findNetworkAddressOfHost(obj, localIp) {\n        const networkInterfaces = obj?.native?.hardware?.networkInterfaces;\n        if (!networkInterfaces) {\n            return null;\n        }\n\n        let hostIp;\n        Object.keys(networkInterfaces).forEach(inter => {\n            networkInterfaces[inter].forEach(ip => {\n                if (ip.internal) {\n                    return;\n                } else if (localIp.includes(':') && ip.family !== 'IPv6') {\n                    return;\n                } else if (localIp.includes('.') && !localIp.match(/[^.\\d]/) && ip.family !== 'IPv4') {\n                    return;\n                }\n                if (localIp === '127.0.0.0' || localIp === 'localhost' || localIp.match(/[^.\\d]/)) { // if DNS name\n                    hostIp = ip.address;\n                } else {\n                    if (ip.family === 'IPv4' && localIp.includes('.') &&\n                        (Utils.ip2int(localIp) & Utils.ip2int(ip.netmask)) === (Utils.ip2int(ip.address) & Utils.ip2int(ip.netmask))) {\n                        hostIp = ip.address;\n                    } else {\n                        hostIp = ip.address;\n                    }\n                }\n            });\n        });\n\n        if (!hostIp) {\n            Object.keys(networkInterfaces).forEach(inter => {\n                networkInterfaces[inter].forEach(ip => {\n                    if (ip.internal) {\n                        return;\n                    } else if (localIp.includes(':') && ip.family !== 'IPv6') {\n                        return;\n                    } else if (localIp.includes('.') && !localIp.match(/[^.\\d]/) && ip.family !== 'IPv4') {\n                        return;\n                    }\n                    if (localIp === '127.0.0.0' || localIp === 'localhost' || localIp.match(/[^.\\d]/)) { // if DNS name\n                        hostIp = ip.address;\n                    } else {\n                        hostIp = ip.address;\n                    }\n                });\n            });\n        }\n\n        if (!hostIp) {\n            Object.keys(networkInterfaces).forEach(inter => {\n                networkInterfaces[inter].forEach(ip => {\n                    if (ip.internal) {\n                        return;\n                    }\n                    hostIp = ip.address;\n                });\n            });\n        }\n\n        return hostIp;\n    }\n\n    static getHostname(instanceObj, objects, hosts, currentHostname, adminInstance) {\n        if (!instanceObj || !instanceObj.common) {\n            return null;\n        }\n\n        let hostname;\n        // check if the adapter from the same host as admin\n        const adminHost = objects['system.adapter.' + adminInstance]?.common?.host;\n        if (instanceObj.common.host !== adminHost) {\n            // find IP address\n            const host = hosts.find(obj => obj._id === 'system.host.' + instanceObj.common.host);\n            if (host) {\n                const ip = Utils.findNetworkAddressOfHost(host, currentHostname);\n                if (ip) {\n                    hostname = ip;\n                } else {\n                    console.warn(`Cannot find suitable IP in host ${instanceObj.common.host} for ${instanceObj._id}`);\n                    return null;\n                }\n            } else {\n                console.warn(`Cannot find host ${instanceObj.common.host} for ${instanceObj._id}`);\n                return null\n            }\n        } else {\n            hostname = currentHostname;\n        }\n        return hostname;\n    }\n\n    /**\n     * Format number in seconds to time text\n     * @param {string} link pattern for link\n     * @param {string} adapter admin name\n     * @param {string} instance admin instance\n     * @param {object} context {objects, hostname(of browser), protocol(of browser)}\n     * @returns {array<any>}\n     */\n    static replaceLink(link, adapter, instance, context) {\n        const _urls = [];\n        let port;\n\n        if (link) {\n            const instanceObj = context.objects[`system.adapter.${adapter}.${instance}`];\n            const native      = instanceObj?.native || {};\n\n            let placeholders = link.match(/%(\\w+)%/g);\n\n            if (placeholders) {\n                for (let p = 0; p < placeholders.length; p++) {\n                    let placeholder = placeholders[p];\n\n                    if (placeholder === '%ip%') {\n                        let ip = native.bind || native.ip;\n                        if (!ip || ip === '127.0.0.1' || ip === 'localhost' || ip === '0.0.0.0') {\n                            // Check host\n                            ip = Utils.getHostname(instanceObj, context.objects, context.hosts, context.hostname, context.adminInstance);\n                        }\n\n                        if (_urls.length) {\n                            _urls.forEach(item => item.url = item.url.replace('%ip%', ip));\n                        } else {\n                            link = link.replace('%ip%', ip ||'');\n                        }\n                    } else if (placeholder === '%protocol%') {\n                        let protocol = native.secure === undefined ? native.protocol : native.secure;\n                        if (protocol === true || protocol === 'true') {\n                            protocol = 'https';\n                        } else if (protocol === false || protocol === 'false' || !protocol) {\n                            protocol = 'http';\n                        }\n                        protocol = protocol.replace(/:$/, '');\n\n                        if (_urls.length) {\n                            _urls.forEach(item => item.url = item.url.replace('%protocol%', protocol));\n                        } else {\n                            link = link.replace('%protocol%', protocol);\n                        }\n                    } else if (placeholder === '%instance%') {\n                        link = link.replace('%instance%', instance);\n                        if (_urls.length) {\n                            _urls.forEach(item => item.url = item.url.replace('%instance%', instance));\n                        } else {\n                            link = link.replace('%instance%', instance);\n                        }\n                    } else {\n                        // remove %%\n                        placeholder = placeholder.replace(/%/g, '');\n\n                        if (placeholder.startsWith('native_')) {\n                            placeholder = placeholder.substring(7);\n                        }\n\n                        // like web.0_port or web_protocol\n                        if (!placeholder.includes('_')) {\n                            // if only one instance\n                            const adapterInstance = adapter + '.' + instance;\n                            if (_urls.length) {\n                                _urls.forEach(item =>\n                                    item.url = Utils._replaceLink(item.url, context.objects, adapterInstance, placeholder, placeholder, context.hosts, context.hostname, context.adminInstance));\n                            } else {\n                                link = Utils._replaceLink(link, context.objects, adapterInstance, placeholder, placeholder, context.hosts, context.hostname, context.adminInstance);\n                                port = context.objects['system.adapter.' + adapterInstance]?.native?.port;\n                            }\n                        } else {\n                            const [adapterInstance, attr] = placeholder.split('_');\n\n                            // if instance number not found\n                            if (!adapterInstance.match(/\\.[0-9]+$/)) {\n                                // list all possible instances\n                                let ids;\n                                if (adapter === adapterInstance) {\n                                    // take only this one instance and that's all\n                                    ids = [adapter + '.' + instance];\n                                } else {\n                                    ids = Object.keys(context.objects)\n                                        .filter(id => id.startsWith('system.adapter.' + adapterInstance + '.') && context.objects[id].common.enabled)\n                                        .map(id => id.substring(15));\n                                }\n\n                                // eslint-disable-next-line\n                                ids.forEach(id => {\n                                    if (_urls.length) {\n                                        const item = _urls.find(t => t.instance === id);\n                                        if (item) {\n                                            item.url = Utils._replaceLink(item.url, context.objects, id, attr, placeholder, context.hosts, context.hostname, context.adminInstance);\n                                        } else {\n                                            // add new\n                                            const _link = Utils._replaceLink(link, context.objects, id, attr, placeholder, context.hosts, context.hostname, context.adminInstance);\n                                            const _port = context.objects['system.adapter.' + id]?.native?.port;\n                                            _urls.push({url: _link, port: _port, instance: id});\n                                        }\n                                    } else {\n                                        const _link = Utils._replaceLink(link, context.objects, id, attr, placeholder, context.hosts, context.hostname, context.adminInstance);\n                                        const _port = context.objects['system.adapter.' + id]?.native?.port;\n                                        _urls.push({url: _link, port: _port, instance: id});\n                                    }\n                                });\n                            } else {\n                                link = Utils._replaceLink(link, context.objects, adapterInstance, attr, placeholder, context.hosts, context.hostname, context.adminInstance);\n                                port = context.objects['system.adapter.' + adapterInstance]?.native?.port;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        if (_urls.length) {\n            return _urls;\n        } else {\n            return [{url: link, port}];\n        }\n    }\n\n    static objectMap(object, callback) {\n        let result = [];\n        for (let key in object) {\n            result.push(callback(object[key], key));\n        }\n        return result;\n    }\n\n    static fixAdminUI(obj) {\n        if (obj && obj.common && !obj.common.adminUI) {\n            if (obj.common.noConfig) {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.config = 'none';\n            } else if (obj.common.jsonConfig) {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.config = 'json';\n            } else if (obj.common.materialize) {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.config = 'materialize';\n            } else {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.config = 'html';\n            }\n\n            if (obj.common.jsonCustom) {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.custom = 'json';\n            } else if (obj.common.supportCustoms) {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.custom = 'json';\n            }\n\n            if (obj.common.materializeTab && obj.common.adminTab) {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.tab = 'materialize';\n            } else if (obj.common.adminTab) {\n                obj.common.adminUI = obj.common.adminUI || {};\n                obj.common.adminUI.tab = 'html';\n            }\n\n            obj.common.adminUI && console.warn(`Please add to \"${obj._id.replace(/\\.\\d+$/, '')}\" common.adminUI=${JSON.stringify(obj.common.adminUI)}`);\n        }\n    }\n\n    static parseColorMessage(text) {\n        if (text && (text.includes('\\u001b[') || text.includes('\\u001B['))) {\n            // eslint-disable-next-line\n            let m = text.match(/\\u001b\\[\\d+m/gi);\n            if (m) {\n                const original = text;\n                const result = [];\n                let style = {};\n                for (let i = 0; i < m.length; i++) {\n                    const pos = text.indexOf(m[i]);\n                    if (pos) {\n                        result.push({text: text.substring(0, pos), style: JSON.parse(JSON.stringify(style))});\n                    }\n                    const code = parseInt(m[i].substring(2), 10);\n                    if (STYLES[code]) {\n                        Object.assign(style, STYLES[code]);\n                    } else if (ANSI_RESET_COLOR === code) {\n                        delete style.color;\n                    } else if (ANSI_RESET_BG_COLOR === code) {\n                        delete style.backgroundColor;\n                    } else if (ANSI_RESET_BOLD === code) {\n                        delete style.fontWeight;\n                    } else if (ANSI_BOLD === code) {\n                        style.fontWeight = 'bold';\n                    } else if (ANSI_RESET === code) {\n                        style = {};\n                    }\n                    text = text.substring(m[i].length + pos);\n                }\n                if (text) {\n                    result.push({text, style: JSON.parse(JSON.stringify(style))});\n                }\n\n                return {original, parts: result};\n            } else {\n                return text;\n            }\n        } else {\n            return text;\n        }\n    }\n}\n\nexport default Utils;"],"sourceRoot":""}