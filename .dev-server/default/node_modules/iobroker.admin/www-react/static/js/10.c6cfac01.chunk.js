(this["webpackJsonpsrc-rx"]=this["webpackJsonpsrc-rx"]||[]).push([[10],{1563:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"Schedule");t.default=s},1564:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause");t.default=s},1581:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement("path",{d:"M3 19h6v-7H3v7zm7 0h12v-7H10v7zM3 5v6h19V5H3z"}),"ViewCompact");t.default=s},1582:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/filter.ddf40c28.svg"},1583:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"}),"BugReport");t.default=s},1642:function(e,t,n){"use strict";function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(0)),i=f(n(4)),s=n(769),r=f(n(55)),c=f(n(114)),l=f(n(68)),d=f(n(72)),u=f(n(65)),p=f(n(53)),h=f(n(214)),m=f(n(185)),b=f(n(770)),j=f(n(9));function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,e);var t,n,a,i=v(s);function s(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).props.cron&&"string"===typeof t.props.cron&&"{"!==t.props.cron.replace(/^["']/,"")[0]?n=t.props.cron.replace(/['"]/g,"").trim():"string"===typeof(n=t.props.cron||"{}")&&(n=n.replace(/^["']/,"").replace(/["']\n?$/,"")),t.state={cron:n},t}return t=s,(n=[{key:"handleCancel",value:function(){this.props.onClose()}},{key:"handleOk",value:function(){this.props.onOk(this.state.cron),this.props.onClose()}},{key:"handleClear",value:function(){this.props.onOk(!1),this.props.onClose()}},{key:"render",value:function(){var e=this;return o.default.createElement(u.default,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"md",fullWidth:!0,classes:{paper:this.props.classes.dialogPaper},open:!0,"aria-labelledby":"cron-dialog-title"},o.default.createElement(c.default,{id:"cron-dialog-title"},this.props.title||j.default.t("ra_Define schedule...")),o.default.createElement(l.default,{style:{height:"100%",overflow:"hidden"}},o.default.createElement(b.default,{cronExpression:this.state.cron,onChange:function(t){return e.setState({cron:t})},language:j.default.getLanguage()})),o.default.createElement(d.default,null,!!this.props.clearButton&&o.default.createElement(r.default,{variant:"contained",onClick:function(){return e.handleClear()},startIcon:o.default.createElement(m.default,null)},this.props.clear||j.default.t("ra_Clear")),o.default.createElement(r.default,{variant:"contained",onClick:function(){return e.handleOk()},color:"primary",startIcon:o.default.createElement(p.default,null)},this.props.ok||j.default.t("ra_Ok")),o.default.createElement(r.default,{variant:"contained",onClick:function(){return e.handleCancel()},startIcon:o.default.createElement(h.default,null)},this.props.cancel||j.default.t("ra_Cancel"))))}}])&&g(t.prototype,n),a&&g(t,a),s}(o.default.Component);w.propTypes={classes:i.default.object,onClose:i.default.func,onOk:i.default.func.isRequired,title:i.default.string,cron:i.default.string,cancel:i.default.string,ok:i.default.string,simple:i.default.bool,language:i.default.string,clearButton:i.default.bool};var C=(0,s.withStyles)((function(e){return{headerID:{fontWeight:"bold",fontStyle:"italic"},radio:{display:"inline-block"},dialogPaper:{height:"calc(100% - 96px)"}}}))(w);t.default=C},1643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),o=c(n(4)),i=n(22),s=c(n(78)),r=c(n(60));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e){var t,n,o,i,c,d,u,p,h,m,b=e.value,j=e.removePrefix||"";if("string"===typeof b){var f=e.list||e.options;if(e.list)if(Array.isArray(f)){var g,x,v=f.find((function(e){return e._id===j+b}));if(v)b={name:r.default.getObjectNameFromObj(v,e.lang).replace("system.group.",""),value:v._id,icon:null===(g=v.common)||void 0===g?void 0:g.icon,color:null===(x=v.common)||void 0===x?void 0:x.color};else b={name:b,value:j+b}}else if(f[j+b]){var O,y;b={name:r.default.getObjectNameFromObj(f[j+b],e.lang).replace("system.group.",""),value:f[j+b]._id,icon:null===(O=f[j+b].common)||void 0===O?void 0:O.icon,color:null===(y=f[j+b].common)||void 0===y?void 0:y.color}}else b={name:b,value:j+b};else b={name:b,value:j+b}}else if(b&&"object"===l(b)){var w,C;b={name:r.default.getObjectNameFromObj(b,e.lang).replace("system.group.","").replace("system.user.","").replace("enum.rooms.","").replace("enum.functions.",""),value:b._id,icon:null===(w=b.common)||void 0===w?void 0:w.icon,color:null===(C=b.common)||void 0===C?void 0:C.color}}else b={name:"",value:""};var S=null!==(t=b)&&void 0!==t&&t.color?{border:"1px solid ".concat(r.default.invertColor(null===(n=b)||void 0===n?void 0:n.color)),color:r.default.getInvertedColor(null===(o=b)||void 0===o?void 0:o.color,e.themeType,!0)||void 0,backgroundColor:null===(i=b)||void 0===i?void 0:i.color}:{};return a.default.createElement("div",{style:Object.assign({},e.style,S),className:r.default.clsx(e.className,e.classes.div,null===(c=e.moreClasses)||void 0===c?void 0:c.root),title:e.title||b.value},null!==(d=b)&&void 0!==d&&d.icon?a.default.createElement(s.default,{src:null===(u=b)||void 0===u?void 0:u.icon,className:r.default.clsx(e.classes.icon,null===(p=e.moreClasses)||void 0===p?void 0:p.icon)}):null,a.default.createElement("div",{className:r.default.clsx(e.classes.text,null===(h=e.moreClasses)||void 0===h?void 0:h.text)},null===(m=b)||void 0===m?void 0:m.name))};d.propTypes={t:o.default.func,lang:o.default.string,themeType:o.default.string,value:o.default.oneOfType([o.default.string,o.default.object]),list:o.default.oneOfType([o.default.array,o.default.object]),options:o.default.oneOfType([o.default.array,o.default.object]),className:o.default.string,style:o.default.object,title:o.default.string,removePrefix:o.default.string,moreClasses:o.default.object};var u=(0,i.withStyles)((function(e){return{div:{borderRadius:3,padding:"0 3px",lineHeight:"20px",whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"center"},icon:{width:16,height:16,marginRight:8,verticalAlign:"middle"},text:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"}}}))(d);t.default=u},1644:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"}),"LowPriority");t.default=s},1645:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"}),"Input");t.default=s},1646:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"}),"Lens");t.default=s},1836:function(e,t,n){"use strict";var a=n(19),o=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),s=(0,a(n(27)).default)(i.createElement("path",{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"}),"Devices");t.default=s},2019:function(e,t,n){"use strict";n.r(t);var a=n(81),o=n(26),i=n(52),s=n(29),r=n.n(s),c=n(49),l=n(11),d=n(12),u=n(14),p=n(15),h=n(0),m=n(6),b=n(320),j=n(8),f=n(181),g=n(747),x=n(1467),v=n(278),O=n(153),y=n(279),w=n(1440),C=n(1501),S=n(536),k=n.n(S),N=n(207),I=n.n(N),L=n(1583),M=n.n(L),_=n(140),R=n.n(_),T=n(160),A=n.n(T),E=n(252),H=n.n(E),z=n(1836),F=n.n(z),P=n(366),D=n.n(P),B=n(535),W=n.n(B),G=n(48),U=n.n(G),V=n(1581),J=n.n(V),q=n(1563),K=n.n(q),$=n(1646),Q=n.n($),X=n(638),Y=n.n(X),Z=n(551),ee=n.n(Z),te=n(531),ne=n.n(te),ae=n(187),oe=n(548),ie=n.n(oe),se=n(534),re=n.n(se),ce=n(455),le=n.n(ce),de=n(750),ue=n.n(de),pe=n(432),he=n.n(pe),me=n(79),be=n.n(me),je=n(1829),fe=n(82),ge=n(427),xe=n(521),ve=n(530),Oe=n(496),ye=n(497),we=n(502),Ce=n(331),Se=n(607),ke=n(677),Ne=n(499),Ie=n(113),Le=n(1474),Me=n(80),_e=n(1472),Re=n(1473),Te=n(633),Ae=n(550),Ee=n.n(Ae),He=n(291),ze=n.n(He),Fe=n(1645),Pe=n.n(Fe),De=n(185),Be=n.n(De),We=n(1644),Ge=n.n(We),Ue=n(556),Ve=n.n(Ue),Je=n(426),qe=n.n(Je),Ke=n(1564),$e=n.n(Ke),Qe=n(557),Xe=n.n(Qe),Ye=n(552),Ze=n.n(Ye),et=n(262),tt=n(217),nt=n(1642),at=n.n(nt),ot=n(9),it=n.n(ot),st=n(145),rt=n.n(st),ct=n(1643),lt=n.n(ct),dt=n(537),ut=n.n(dt),pt=n(350),ht=n(92),mt=n(3),bt=Object(j.a)((function(e){return{nowrap:{flexFlow:"nowrap",overflow:"hidden"},width:{width:"100%",overflow:"hidden"}}}))((function(e){return Object(mt.jsxs)(ht.a,{item:!0,container:!0,title:e.icon?"":e.tooltip||"",alignItems:"center",direction:"row",spacing:1,className:e.classes.nowrap,children:[Object(mt.jsx)(ht.a,{item:!0,children:e.icon&&Object(mt.jsx)(v.a,{title:e.tooltip||"",children:e.icon})}),Object(mt.jsx)(ht.a,{className:e.classes.width,item:!0,children:Object(mt.jsx)(v.a,{title:e.tooltip||"",children:Object(mt.jsx)(Me.a,{component:"div",children:e.children})})})]})})),jt=n(549),ft=n(342),gt=n(495),xt=n(494),vt=n(612),Ot=n(277),yt=n(226),wt=n(1477),Ct=n(1505),St=n(161),kt=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;if(!this.props.links||!this.props.links.length)return null;var t=this.props.links[0].port,n=this.props.links.find((function(e){return e.port!==t}));return Object(mt.jsxs)(yt.a,{onClose:function(){return e.props.onClose()},open:!0,children:[Object(mt.jsx)(Ot.a,{children:this.props.t("Links")}),Object(mt.jsx)(gt.a,{children:this.props.links.map((function(t){return Object(mt.jsxs)(xt.a,{button:!0,style:t.color?{backgroundColor:t.color,color:St.a.getInvertedColor(t.color,e.props.themeType,!0)}:{},onClick:function(n){n.stopPropagation(),window.open(t.link,e.props.instanceId),e.props.onClose()},children:[Object(mt.jsx)(wt.a,{children:Object(mt.jsx)(Ct.a,{variant:"rounded",children:Object(mt.jsx)("img",{className:e.props.classes.img,src:e.props.image,alt:e.props.instanceId})})}),Object(mt.jsx)(vt.a,{primary:t.name+(n?" [:"+t.port+"]":"")})]},t.name)}))})]})}}]),n}(h.Component),Nt=Object(j.a)((function(e){return{img:{width:"100%",height:"100%"}}}))(kt),It=n(103),Lt=["silly","debug","info","warn","error"],Mt=[{value:1,desc:"1: Logic adapters"},{value:2,desc:"2: Data provider adapters"},{value:3,desc:"3: Other adapters"}],_t=Object(h.memo)((function(e){var t,n,a,i=e.adminInstance,s=e.classes,r=e.maxCompactGroupNumber,c=e.deletedInstances,l=e.expertMode,d=e.extendObject,u=e.getMemory,p=e.getRestartSchedule,b=e.getSchedule,j=e.hidden,g=e.hosts,x=e.id,O=e.instance,y=e.key,w=e.openConfig,S=e.setCompact,N=e.setCompactGroup,L=e.setHost,M=e.setLogLevel,_=e.setMemoryLimitMB,R=e.setName,T=e.setRestartSchedule,A=e.setSchedule,E=e.setSentry,H=e.setTier,z=e.t,F=e.themeType,P=e.deleting,D=e.item,B=Object(h.useState)(!1),W=Object(o.a)(B,2),G=W[0],U=W[1],V=Object(h.useState)(!1),q=Object(o.a)(V,2),$=q[0],Q=q[1],X=Object(h.useState)(!1),Y=Object(o.a)(X,2),Z=Y[0],ee=Y[1],te=Object(h.useState)(!1),ne=Object(o.a)(te,2),ae=ne[0],oe=ne[1],ie=Object(h.useState)(!1),se=Object(o.a)(ie,2),re=se[0],ce=se[1],le=Object(h.useState)(!1),de=Object(o.a)(le,2),ue=de[0],pe=de[1],he=Object(h.useState)(!1),me=Object(o.a)(he,2),be=me[0],je=me[1],fe=Object(h.useState)(!1),ge=Object(o.a)(fe,2),xe=ge[0],ve=ge[1],Ae=Object(h.useState)(!1),He=Object(o.a)(Ae,2),Fe=He[0],De=He[1],We=Object(h.useState)(!1),Ue=Object(o.a)(We,2),Je=Ue[0],Ke=Ue[1],Qe=Object(h.useState)(!1),Ye=Object(o.a)(Qe,2),et=Ye[0],tt=Ye[1],nt=Object(h.useState)(!1),ot=Object(o.a)(nt,2),st=ot[0],ct=ot[1],dt=Object(h.useState)(!1),ht=Object(o.a)(dt,2),gt=ht[0],xt=ht[1],vt=Object(h.useState)(!1),Ot=Object(o.a)(vt,2),yt=Ot[0],wt=Ot[1],Ct=Object(h.useState)(D.logLevel),St=Object(o.a)(Ct,2),kt=St[0],_t=St[1],Rt=Object(h.useState)(!1),Tt=Object(o.a)(Rt,2),At=Tt[0],Et=Tt[1],Ht=Object(h.useState)(D.compactGroup||0),zt=Object(o.a)(Ht,2),Ft=zt[0],Pt=zt[1],Dt=Object(h.useState)(r),Bt=Object(o.a)(Dt,2),Wt=Bt[0],Gt=Bt[1],Ut=Object(h.useState)(D.tier),Vt=Object(o.a)(Ut,2),Jt=Vt[0],qt=Vt[1],Kt=Object(h.useState)(O.host),$t=Object(o.a)(Kt,2),Qt=$t[0],Xt=$t[1],Yt=Object(h.useState)(!1),Zt=Object(o.a)(Yt,2),en=Zt[0],tn=Zt[1],nn=!1,an="";ue?(a=z("Enter title for %s",O.id),nn=!0):be?(a=z("Edit log level rule for %s",O.id),nn=!0):xe?(a=z("Please confirm"),nn=!0):Fe?(a=z("Edit memory limit rule for %s",O.id),an=z("Default V8 has a memory limit of 512mb on 32-bit systems, and 1gb on 64-bit systems. The limit can be raised by setting --max-old-space-size to a maximum of ~1gb (32-bit) and ~1.7gb (64-bit)"),nn=!0):Je?(a=z("Edit host for %s",O.id),nn=!0):et?(a=z("Edit compact groups for %s",O.id),nn=!0):st&&(a=z("Set tier for %s",O.id),an=z("Tiers define the order of adapters when the system starts."),nn=!0);var on=nn?Object(mt.jsxs)(ft.a,{title:a,help:an,open:!0,applyDisabled:ue||Fe,textInput:ue||Fe,defaultValue:ue?D.name:Fe?D.memoryLimitMB:"",onApply:function(e){be?(M(O,kt,At),je(!1)):ue?(R(O,e),pe(!1)):xe?(ve(!1),c(O)):Fe?(_(O,e),De(!1)):et?(N(O,Ft),tt(!1)):st?(H(O,Jt),ct(!1)):Je&&(L(O,Qt),Ke(!1))},onClose:function(){be?(_t(D.logLevel),Et(!1),je(!1)):ue?pe(!1):xe?ve(!1):Fe?De(!1):et?(Pt(D.compactGroup),Gt(r),tt(!1)):st?(qt(D.tier),ct(!1)):Je&&(Xt(O.host),Ke(!1))},children:[be&&Object(mt.jsxs)(Oe.a,{className:s.logLevel,variant:"outlined",children:[Object(mt.jsx)(ye.a,{children:z("log level")}),Object(mt.jsx)(we.a,{variant:"standard",value:kt,fullWidth:!0,onChange:function(e){return _t(e.target.value)},children:Lt.map((function(e){return Object(mt.jsx)(Ce.a,{value:e,children:z(e)},e)}))})]}),be&&Object(mt.jsxs)(Oe.a,{className:s.formControl,variant:"outlined",children:[Object(mt.jsx)(Se.a,{control:Object(mt.jsx)(ke.a,{checked:At,onChange:function(e){return Et(e.target.checked)}}),label:z("Without restart")}),Object(mt.jsx)(Ne.a,{children:z(At?"Will be reset to the saved log level after restart of adapter":"Log level will be saved permanently")})]}),et&&Object(mt.jsxs)(Oe.a,{className:s.addCompact,variant:"outlined",children:[Object(mt.jsx)(ye.a,{children:z("compact groups")}),Object(mt.jsxs)(we.a,{variant:"standard",autoWidth:!0,onClose:function(e){return ee(!1)},onOpen:function(e){return ee(!0)},open:Z,value:1===Ft?"default":"0"===Ft?"controller":Ft&&Ft||"default",onChange:function(e){return Pt(e.target.value)},children:[Object(mt.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},className:s.selectStyle,children:Object(mt.jsx)(Ie.a,{onClick:function(e){ee(!1),Pt(Wt+1),Gt(Wt+1)},variant:"outlined",stylevariable:"outlined",children:z("Add compact group")})}),Object(mt.jsx)(Ce.a,{value:"controller",children:z("with controller")}),Object(mt.jsx)(Ce.a,{value:"default",children:z("default group")}),Array(Wt-1).fill().map((function(e,t){return Object(mt.jsx)(Ce.a,{value:t+2,children:t+2},t)}))]})]}),st&&Object(mt.jsxs)(Oe.a,{className:s.logLevel,variant:"outlined",children:[Object(mt.jsx)(ye.a,{children:z("Tiers")}),Object(mt.jsx)(we.a,{variant:"standard",value:Jt,fullWidth:!0,onChange:function(e){return qt(e.target.value)},children:Mt.map((function(e){return Object(mt.jsx)(Ce.a,{value:e.value,children:z(e.desc)},e.value)}))})]}),xe&&z("Are you sure you want to delete the instance %s?",O.id),Je&&Object(mt.jsx)(ut.a,{themeType:F,value:Qt,list:g,removePrefix:"system.host.",fullWidth:!0,className:s.hostInfo,onChange:function(e){return Xt(e)}})]}):null,sn=yt?Object(mt.jsx)(rt.a,{title:z("Please confirm"),text:z("stop_admin",i),ok:z("Stop admin"),onClose:function(e){e&&d(yt,{common:{enabled:!1}}),wt(!1)}}):null,rn=!$&&!G||P?null:Object(mt.jsxs)("div",{className:Object(m.default)(s.collapse,$?"":s.collapseOff,P&&s.deleting),children:[Object(mt.jsxs)(Le.a,{classes:{root:s.cardContent},className:s.overflowAuto,children:[Object(mt.jsx)("div",{className:s.collapseIcon,children:Object(mt.jsx)("div",{className:s.close,onClick:function(){return Q(!1)}})}),Object(mt.jsxs)(Me.a,{gutterBottom:!0,component:"span",variant:"body2",children:[Object(mt.jsx)("span",{className:s.instanceName,children:O.id}),D.running&&"daemon"===O.mode&&Object(mt.jsx)(jt.a,{state:D.connectedToHost,children:z("Connected to host")}),D.running&&"daemon"===O.mode&&Object(mt.jsx)(jt.a,{state:D.alive,children:z("Heartbeat")}),D.running&&null!==D.connected&&Object(mt.jsx)(jt.a,{state:!!D.connected,children:"string"===typeof D.connected?z("Connected:")+" "+(D.connected||"-"):z("Connected to device or service")}),Object(mt.jsxs)(bt,{tooltip:z("Installed"),children:["v",O.version]}),D.running&&Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ve.a,{}),tooltip:z("RAM usage"),children:("daemon"===O.mode&&D.running?u(x):"-.--")+" MB"}),D.running&&l&&Object(mt.jsx)("div",{className:s.displayFlex,children:Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Xe.a,{}),tooltip:z("events"),children:Object(mt.jsxs)("div",{className:s.displayFlex,children:[Object(mt.jsx)(v.a,{title:z("input events"),children:Object(mt.jsxs)("div",{className:s.marginRight5,children:["\u21e5",D.inputOutput.stateInput]})}),"/",Object(mt.jsx)(v.a,{title:z("output events"),children:Object(mt.jsxs)("div",{className:s.marginLeft5,children:["\u21a6",D.inputOutput.stateOutput]})})]})})}),l&&Object(mt.jsxs)("div",{className:s.displayFlex,children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ve.a,{className:s.memoryIcon}),tooltip:z("RAM limit"),children:(D.memoryLimitMB?D.memoryLimitMB:"-.--")+" MB"}),Object(mt.jsx)(v.a,{title:z("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(){return De(!0)},children:Object(mt.jsx)(qe.a,{})})})]}),l&&Object(mt.jsxs)("div",{className:s.displayFlex,children:[Object(mt.jsx)(bt,{icon:D.loglevelIcon,tooltip:D.logLevelObject===D.logLevel?"".concat(z("loglevel")," ").concat(D.logLevel):"".concat(z("saved:")," ").concat(D.logLevelObject," / ").concat(z("actual:")," ").concat(D.logLevel),children:D.logLevelObject===D.logLevel?D.logLevel:"".concat(D.logLevelObject," / ").concat(D.logLevel)}),Object(mt.jsx)(v.a,{title:z("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(){return je(!0)},children:Object(mt.jsx)(qe.a,{})})})]}),D.modeSchedule&&Object(mt.jsxs)("div",{className:s.displayFlex,children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(K.a,{}),tooltip:z("schedule_group"),children:b(x)||"-"}),Object(mt.jsx)(v.a,{title:z("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(){return ce(!0)},children:Object(mt.jsx)(qe.a,{})})})]}),l&&"daemon"===O.mode&&Object(mt.jsxs)("div",{className:s.displayFlex,children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(K.a,{className:s.scheduleIcon}),tooltip:z("restart"),children:p(x)||"-"}),Object(mt.jsx)(v.a,{title:z("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(){return oe(!0)},children:Object(mt.jsx)(qe.a,{})})})]}),l&&D.checkCompact&&D.compact&&D.supportCompact&&Object(mt.jsxs)("div",{className:s.displayFlex,children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(J.a,{className:s.marginRight,color:"inherit"}),tooltip:z("compact groups"),children:1===D.compactGroup?"default":"0"===D.compactGroup?"controller":D.compactGroup&&D.compactGroup||"default"}),Object(mt.jsx)(v.a,{title:z("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(e){tt(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}),l&&Object(mt.jsxs)("div",{className:s.displayFlex,children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ge.a,{className:s.marginRight,color:"inherit"}),tooltip:z("Start order (tier)"),children:"admin"===O.adapter?z("Always first"):(null===(t=Mt.find((function(e){return e.value===D.tier})))||void 0===t?void 0:t.desc)||Mt[2]}),"admin"!==O.adapter?Object(mt.jsx)(v.a,{title:z("Edit start order (tier)"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(e){ct(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})}):null]}),g.length>1||g.length&&(null===(n=g[0].common)||void 0===n?void 0:n.name)!==O.host?Object(mt.jsxs)("div",{className:Object(m.default)(s.displayFlex,s.maxWidth300),children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ze.a,{className:s.marginRight}),tooltip:z("Host for this instance"),children:Object(mt.jsx)(lt.a,{value:O.host,list:g,removePrefix:"system.host.",themeType:F})}),Object(mt.jsx)(v.a,{title:z("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(e){Ke(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}):null,Object(mt.jsx)(It.a,{config:D,name:"allowInstanceSettings",children:Object(mt.jsx)(C.a,{smUp:!0,children:Object(mt.jsx)(f.a,{disabled:!O.config,size:"small",className:Object(m.default)(s.button,!O.config&&s.hiddenOpacity),onClick:function(){return w(x)},children:Object(mt.jsx)(ze.a,{})})})})]})]}),Object(mt.jsxs)("div",{className:s.footerBlock,children:[Object(mt.jsx)(It.a,{config:D,name:"allowInstanceDelete",children:Object(mt.jsx)("div",{className:s.displayFlex,children:Object(mt.jsx)(v.a,{title:z("Delete"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(){return ve(!0)},children:Object(mt.jsx)(Be.a,{})})})})}),l&&D.checkSentry&&Object(mt.jsx)("div",{className:s.displayFlex,children:Object(mt.jsx)(v.a,{title:"sentry",children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(){return E(O)},children:Object(mt.jsx)(_e.a,{className:Object(m.default)(s.sentry,!D.sentry&&s.contrast0),component:"img",image:pt.default})})})}),D.supportCompact&&l&&D.checkCompact&&Object(mt.jsx)("div",{className:s.displayFlex,children:Object(mt.jsx)(v.a,{title:z("compact groups"),children:Object(mt.jsx)(f.a,{size:"small",className:s.button,onClick:function(){return S(O)},children:Object(mt.jsx)(J.a,{color:D.compact?"primary":"inherit"})})})})]})]}),cn=gt?Object(mt.jsx)(Nt,{image:O.image,instanceId:O.id,links:O.links,onClose:function(){return xt(!1)},t:z,themeType:F}):null,ln=(ae||re)&&Object(mt.jsx)(at.a,{title:ae&&z("Edit restart rule for %s",O.id)||re&&z("Edit schedule rule for %s",O.id),clearButton:!0,cron:ae?p(x):b(x),language:it.a.getLanguage(),onOk:function(e){ae?T(O,e):re&&A(O,e)},onClose:function(){ae?oe(!1):re&&ce(!1)}});return Object(mt.jsxs)(Re.a,{className:Object(m.default)(s.root,j?s.hidden:""),children:[on,sn,ln,rn,cn,Object(mt.jsxs)("div",{className:Object(m.default)(s.imageBlock,(!D.connectedToHost||!D.alive)&&s.instanceStateNotAlive1,D.connectedToHost&&D.alive&&!1===D.connected&&s.instanceStateAliveNotConnected1,D.connectedToHost&&D.alive&&!1!==D.connected&&s.instanceStateAliveAndConnected1),children:[Object(mt.jsx)(_e.a,{className:s.img,component:"img",image:O.image||"img/no-image.png"}),Object(mt.jsx)("div",{className:s.adapter,children:O.id}),Object(mt.jsx)("div",{className:s.versionDate}),Object(mt.jsx)(Te.a,{onMouseOver:function(){return U(!0)},onMouseOut:function(){return U(!1)},onClick:function(){return Q(!0)},className:s.fab,color:"primary","aria-label":"add",children:Object(mt.jsx)(Ee.a,{})})]}),Object(mt.jsxs)(Le.a,{className:s.cardContentH5,children:[Object(mt.jsx)(Me.a,{gutterBottom:!0,variant:"h5",component:"h5",children:Object(mt.jsxs)("div",{onMouseMove:function(){return tn(!0)},onMouseEnter:function(){return tn(!0)},onMouseLeave:function(){return tn(!1)},className:s.displayFlex,children:[D.name,Object(mt.jsx)(v.a,{title:z("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(s.button,!en&&s.hiddenOpacity),onClick:function(){return pe(!0)},children:Object(mt.jsx)(qe.a,{})})})]})}),Object(mt.jsx)("div",{className:s.marginTop10,children:Object(mt.jsxs)(Me.a,{component:"span",className:s.enableButton,children:[Object(mt.jsx)(v.a,{title:z("Start/stop"),children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{size:"small",onClick:function(e){e.stopPropagation(),D.running&&O.id===i||d("system.adapter."+O.id,{common:{enabled:!D.running}})},onFocus:function(e){return e.stopPropagation()},className:Object(m.default)(s.button,O.canStart?D.running?s.enabled:s.disabled:s.hide),children:D.running?Object(mt.jsx)($e.a,{}):Object(mt.jsx)(k.a,{})})})}),Object(mt.jsx)(C.a,{xsDown:!0,children:Object(mt.jsx)(v.a,{title:O.config?z("Settings"):"",children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{disabled:!O.config,size:"small",className:Object(m.default)(s.button,!O.config&&s.hiddenOpacity),onClick:function(){return w(x)},children:Object(mt.jsx)(ze.a,{})})})})}),Object(mt.jsx)(v.a,{title:z("Restart"),children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{size:"small",onClick:function(e){d("system.adapter."+O.id,{}),e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},className:Object(m.default)(s.button,!O.canStart&&s.hide),disabled:!D.running,children:Object(mt.jsx)(I.a,{})})})}),Object(mt.jsx)(It.a,{config:D,name:"allowInstanceLink",children:Object(mt.jsx)(v.a,{title:z("Instance link %s",O.id),children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(s.button,(!O.links||!O.links[0])&&s.hide),disabled:!D.running,onClick:function(e){e.stopPropagation(),1===O.links.length?window.open(O.links[0].link,O.id):xt(!0)},onFocus:function(e){return e.stopPropagation()},children:Object(mt.jsx)(Pe.a,{})})})})})]})})]})]},y)})),Rt=Object(j.a)((function(e){return{root:{position:"relative",margin:10,width:300,minHeight:200,background:e.palette.background.default,boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .14),0 3px 1px -2px rgba(0, 0, 0, .12),0 1px 5px 0 rgba(0, 0, 0, .2)",display:"flex",flexDirection:"column",transition:"box-shadow 0.5s","&:hover":{boxShadow:"0 8px 17px 0 rgba(0, 0, 0, .2),0 6px 20px 0 rgba(0, 0, 0, .19)"}},imageBlock:{background:"silver",minHeight:60,display:"flex",padding:"0 10px 0 10px",position:"relative",justifyContent:"space-between",transition:"background 0.5s"},img:{width:45,height:45,margin:"auto 0",position:"relative","&:after":{content:'""',position:"absolute",zIndex:2,top:0,left:0,width:"100%",height:"100%",background:'url("img/no-image.png") 100% 100% no-repeat',backgroundSize:"cover",backgroundColor:"#fff"}},installed:{background:"#77c7ff8c"},fab:{position:"absolute",bottom:-20,width:40,height:40,right:20},greenText:{color:e.palette.success.dark},collapse:{height:"100%",backgroundColor:"dark"===e.palette.type?"#4a4a4a":"#d4d4d4",position:"absolute",width:"100%",zIndex:3,marginTop:"auto",bottom:0,transition:"height 0.3s",justifyContent:"space-between",display:"flex",flexDirection:"column"},collapseOff:{height:0},close:{width:"20px",height:"20px",opacity:"0.9",cursor:"pointer",position:"relative",marginLeft:"auto",marginBottom:10,transition:"all 0.6s ease","&:hover":{transform:"rotate(90deg)"},"&:before":{position:"absolute",left:"9px",content:'""',height:"20px",width:"3px",backgroundColor:"#ff4f4f",transform:"rotate(45deg)"},"&:after":{position:"absolute",left:"9px",content:'""',height:"20px",width:"3px",backgroundColor:"#ff4f4f",transform:"rotate(-45deg)"}},footerBlock:{background:e.palette.background.default,padding:10,display:"flex",justifyContent:"space-between"},hidden:{display:"none"},buttonUpdate:{border:"1px solid",padding:"0px 7px",borderRadius:5,display:"flex",alignItems:"center",cursor:"pointer",transition:"background 0.5s","&:hover":{background:"#00800026"}},versionDate:{alignSelf:"center"},adapter:{width:"100%",fontWeight:"bold",fontSize:16,verticalAlign:"middle",paddingLeft:8,paddingTop:16,color:"dark"===e.palette.type?"#333":"#555"},hide:{visibility:"hidden"},button:{padding:"5px",transition:"opacity 0.2s",height:34},hiddenOpacity:{opacity:0,cursor:"default"},enabled:{color:et.a[400],"&:hover":{backgroundColor:et.a[200]}},disabled:{color:tt.a[400],"&:hover":{backgroundColor:tt.a[200]}},cardContent:{marginTop:16,paddingTop:0},sentry:{width:24,height:24,objectFit:"fill",filter:"invert(0%) sepia(90%) saturate(1267%) hue-rotate(-260deg) brightness(99%) contrast(97%)"},cardContentH5:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},marginTop10:{marginTop:10},memoryIcon:{color:"#dc8e00"},displayFlex:{display:"flex"},logLevel:{width:"100%",marginBottom:5},hostInfo:{width:"100%"},overflowAuto:{overflow:"auto"},collapseIcon:{position:"sticky",right:0,top:0,background:"dark"===e.palette.type?"#4a4a4a":"#d4d4d4",zIndex:2},addCompact:{width:"100%",marginBottom:5},addCompactButton:{display:"flex",margin:5,justifyContent:"space-around"},scheduleIcon:{color:"#dc8e00"},marginRight5:{marginRight:5},marginLeft5:{marginLeft:5},enableButton:{display:"flex",justifyContent:"space-between"},instanceStateNotAlive1:{backgroundColor:"rgba(192, 192, 192, 0.7)"},instanceStateAliveNotConnected1:{backgroundColor:"rgba(255, 177, 0, 0.4)"},instanceStateAliveAndConnected1:{backgroundColor:"rgba(0, 255, 0, 0.4)"},instanceName:{fontSize:16,padding:4,paddingBottom:15,fontWeight:"bold"},deleting:{position:"relative","&:before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:100,opacity:".3 !important",background:"repeating-linear-gradient(135deg, #333, #333 10px, #888 10px, #888 20px)"}}}}))(_t),Tt=n(1464),At=n(1465),Et=n(1466),Ht=n(258),zt=n(261),Ft=n(218),Pt=n(492),Dt=n(240),Bt=n.n(Dt),Wt=["silly","debug","info","warn","error"],Gt=[{value:1,desc:"1: Logic adapters"},{value:2,desc:"2: Data provider adapters"},{value:3,desc:"3: Other adapters"}],Ut=Object(j.a)((function(e){return{root:{position:"relative",margin:10,width:300,minHeight:200,background:e.palette.background.default,boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .14),0 3px 1px -2px rgba(0, 0, 0, .12),0 1px 5px 0 rgba(0, 0, 0, .2)",display:"flex",flexDirection:"column",transition:"box-shadow 0.5s","&:hover":{boxShadow:"0 8px 17px 0 rgba(0, 0, 0, .2),0 6px 20px 0 rgba(0, 0, 0, .19)"}},row:{paddingLeft:8,paddingRight:16,padding:0},imageBlock:{background:"silver",minHeight:60,display:"flex",padding:"0 10px 0 10px",position:"relative",justifyContent:"space-between",transition:"background 0.5s"},img:{width:45,height:45,margin:"auto 0",position:"relative","&:after":{content:'""',position:"absolute",zIndex:2,top:0,left:0,width:"100%",height:"100%",background:'url("img/no-image.png") 100% 100% no-repeat',backgroundSize:"cover",backgroundColor:"#fff"}},installed:{background:"#77c7ff8c"},update:{background:"#10ff006b"},fab:{position:"absolute",bottom:-20,width:40,height:40,right:20},greenText:{color:e.palette.success.dark},collapse:{height:"100%",backgroundColor:"silver",position:"absolute",width:"100%",zIndex:3,marginTop:"auto",bottom:0,transition:"height 0.3s",justifyContent:"space-between",display:"flex",flexDirection:"column"},collapseOff:{height:0},close:{width:"20px",height:"20px",opacity:"0.9",cursor:"pointer",position:"relative",marginLeft:"auto",marginBottom:10,transition:"all 0.6s ease","&:hover":{transform:"rotate(90deg)"},"&:before":{position:"absolute",left:"9px",content:'""',height:"20px",width:"3px",backgroundColor:"#ff4f4f",transform:"rotate(45deg)"},"&:after":{position:"absolute",left:"9px",content:'""',height:"20px",width:"3px",backgroundColor:"#ff4f4f",transform:"rotate(-45deg)"}},footerBlock:{background:e.palette.background.default,padding:10,display:"flex",justifyContent:"space-between"},hidden:{display:"none"},invisible:{opacity:0},buttonUpdate:{border:"1px solid",padding:"0px 7px",borderRadius:5,display:"flex",alignItems:"center",cursor:"pointer",transition:"background 0.5s","&:hover":{background:"#00800026"}},versionDate:{alignSelf:"center"},adapter:{width:"100%",fontWeight:"bold",fontSize:16,verticalAlign:"middle",paddingLeft:8,paddingTop:16,color:"dark"===e.palette.type?"#333":"#555"},hide:{visibility:"hidden"},button:{padding:5,transition:"opacity 0.2s",height:34},hiddenOpacity:{opacity:0,cursor:"default"},enabled:{color:et.a[400],"&:hover":{backgroundColor:et.a[200]}},disabled:{color:tt.a[400],"&:hover":{backgroundColor:tt.a[200]}},instanceName:{fontSize:16,paddingLeft:32,paddingBottom:5,fontWeight:"bold"},cardContent:{marginTop:16,paddingTop:0},smallAvatar:{width:24,height:24},statusIndicator:{marginTop:8},statusIcon_green:{border:"2px solid grey",borderRadius:2},statusIcon_red:{border:"2px solid grey",borderRadius:20},statusIcon_orange:{border:0,borderRadius:0},statusIcon_orangeDevice:{border:0,borderRadius:0},statusIcon_blue:{border:"2px solid grey",borderRadius:20},statusIcon_gray:{border:"2px solid grey",borderRadius:20},statusIcon_grey:{border:"2px solid grey",borderRadius:20},instanceIcon:{height:42,width:42},table:{minWidth:650},tableRow:{"&:nth-of-type(odd)":{backgroundColor:Ht.a[300]},"&:nth-of-type(even)":{backgroundColor:Ht.a[200]}},state:{width:e.spacing(2),height:e.spacing(2),borderRadius:"100%"},green:{color:et.a[700]},red:{color:tt.a[700]},grey:{color:Ht.a[700]},blue:{color:"#0055a9"},orange:{color:zt.a[400]},orangeDevice:{color:zt.a[300]},transparent:{color:"transparent",backgroundColor:"transparent"},paper:{height:"100%"},iframe:{height:"100%",width:"100%",border:0},silly:{},debug:{backgroundColor:Ht.a[700]},info:{backgroundColor:Ft.a[700]},warn:{backgroundColor:Pt.a[700]},error:{backgroundColor:tt.a[700]},grow:{flexGrow:1},tableRender:{tableLayout:"fixed",minWidth:960,"& td":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},cards:{display:"flex",flexFlow:"wrap",justifyContent:"center"},sentry:{width:24,height:24,objectFit:"fill",filter:"invert(0%) sepia(90%) saturate(1267%) hue-rotate(-260deg) brightness(99%) contrast(97%)"},hidden1250:{display:"flex",width:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},visible1250:{display:"flex",width:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},visible1050:{display:"none"},hidden1050:{display:"flex"},hidden800:{display:"flex"},visible800:{display:"none"},hidden570:{display:"flex"},visible570:{display:"none"},"@media screen and (max-width: 1500px)":{hidden1250:{display:"none !important"},visible1250:{display:"flex !important"}},"@media screen and (max-width: 1300px)":{hidden1230:{display:"none !important"}},"@media screen and (max-width: 1120px)":{hidden1050:{display:"none !important"},visible1050:{display:"flex !important"}},"@media screen and (max-width: 800px)":{hidden800:{display:"none !important"},visible800:{display:"flex !important"},instanceIcon:{height:28,width:28,marginLeft:4,marginTop:8}},hidden380:{display:"flex"},"@media screen and (max-width: 650px)":{hidden570:{display:"none !important"},visible570:{display:"flex !important"}},"@media screen and (max-width: 380px)":{hidden380:{display:"none !important"},instanceId:{width:"70px !important",minWidth:"70px !important"}},"@media screen and (max-width: 480px)":{gridStyle:{minWidth:"auto !important",marginLeft:10},instanceId:{width:100},maxWidth300:{width:"250px !important"}},"@media screen and (max-width: 335px)":{gridStyle:{marginLeft:0}},displayFlex:{display:"flex"},secondaryHeading:{maxWidth:200,fontSize:12},secondaryHeadingDiv:{display:"flex",alignItems:"center",width:200},secondaryHeadingDivDiv:{whiteSpace:"nowrap",overflow:"hidden",padding:5,textOverflow:"ellipsis",maxWidth:200},formControl:{width:"100%",marginBottom:5},formControl2:{marginBottom:5,marginTop:5,width:"100%"},gridStyle:{display:"flex",minWidth:270,lineHeight:"42px",justifyContent:"space-around"},wrapperAvatar:{maxWidth:130},instanceId:{overflow:"hidden",alignSelf:"center",fontSize:16,marginLeft:5,maxWidth:150,minWidth:100,whiteSpace:"nowrap",textOverflow:"ellipsis",flexGrow:2},marginLeft:{marginLeft:5},marginRight:{marginRight:5},selectStyle:{display:"flex",margin:5,justifyContent:"space-around"},selectWrapper:{display:"flex",alignItems:"flex-end"},scheduleIcon:{color:"#dc8e00"},ram:{color:"#dc8e00"},contrast0:{filter:"contrast(0%)"},paddingRight200:{},instanceStateNotEnabled1:{backgroundColor:"rgba(192, 192, 192, 0.2)"},instanceStateNotEnabled2:{backgroundColor:"rgba(192, 192, 192, 0.15)"},instanceStateNotAlive1:{backgroundColor:"rgba(255,14,14,0.2)"},instanceStateNotAlive2:{backgroundColor:"rgba(255,14,14, 0.15)"},instanceStateAliveNotConnected1:{backgroundColor:"rgba(255, 177, 0, 0.1)"},instanceStateAliveNotConnected2:{backgroundColor:"rgba(255, 177, 0, 0.15)"},instanceStateAliveAndConnected1:{backgroundColor:"rgba(0, 255, 0, 0.1)"},instanceStateAliveAndConnected2:{backgroundColor:"rgba(0, 255, 0, 0.15)"},maxWidth300:{width:300},width150:{width:150},deleting:{position:"relative","&:before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:100,opacity:".3 !important",background:"repeating-linear-gradient(135deg, #333, #333 10px, #888 10px, #888 20px)"}},desktopRow:{minHeight:0},desktopIcon:{height:32,width:32,marginTop:4},desktopRowContent:{marginTop:2,marginBottom:2},desktopButton:{paddingRight:12,paddingTop:4,paddingBottom:4,paddingLeft:4}}}))((function(e){var t,n,a,i,s=e.adminInstance,r=e.classes,c=e.maxCompactGroupNumber,l=e.deletedInstances,d=e.expanded,u=e.expertMode,p=e.extendObject,b=e.getInstanceStatus,j=e.getMemory,g=e.getModeIcon,x=e.getRestartSchedule,O=e.getSchedule,y=e.onExpandRow,w=e.hosts,S=e.id,N=e.idx,L=e.instance,M=e.key,_=e.openConfig,R=e.setCompact,T=e.setCompactGroup,A=e.setHost,E=e.setLogLevel,H=e.setMemoryLimitMB,z=e.setName,F=e.setRestartSchedule,P=e.setSchedule,D=e.setSentry,B=e.setTier,W=e.t,G=e.themeType,U=e.deleting,V=e.item,q=Object(h.useState)(!1),$=Object(o.a)(q,2),Q=$[0],X=$[1],Y=Object(h.useState)(!1),Z=Object(o.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(h.useState)(!1),ae=Object(o.a)(ne,2),oe=ae[0],ie=ae[1],se=Object(h.useState)(!1),re=Object(o.a)(se,2),ce=re[0],le=re[1],de=Object(h.useState)(!1),ue=Object(o.a)(de,2),pe=ue[0],he=ue[1],me=Object(h.useState)(!1),be=Object(o.a)(me,2),je=be[0],fe=be[1],ge=Object(h.useState)(!1),xe=Object(o.a)(ge,2),ve=xe[0],Le=xe[1],Re=Object(h.useState)(!1),Te=Object(o.a)(Re,2),Ae=Te[0],Ee=Te[1],He=Object(h.useState)(!1),Fe=Object(o.a)(He,2),De=Fe[0],We=Fe[1],Ue=Object(h.useState)(!1),Je=Object(o.a)(Ue,2),Ke=Je[0],Qe=Je[1],Ye=Object(h.useState)(!1),et=Object(o.a)(Ye,2),tt=et[0],nt=et[1],ot=Object(h.useState)(!1),st=Object(o.a)(ot,2),ct=st[0],dt=st[1],gt=Object(h.useState)(V.logLevel),xt=Object(o.a)(gt,2),vt=xt[0],Ot=xt[1],yt=Object(h.useState)(!1),wt=Object(o.a)(yt,2),St=wt[0],kt=wt[1],Lt=Object(h.useState)(V.compactGroup||0),Mt=Object(o.a)(Lt,2),_t=Mt[0],Rt=Mt[1],Ht=Object(h.useState)(c),zt=Object(o.a)(Ht,2),Ft=zt[0],Pt=zt[1],Dt=Object(h.useState)(V.tier),Ut=Object(o.a)(Dt,2),Vt=Ut[0],Jt=Ut[1],qt=Object(h.useState)(L.host),Kt=Object(o.a)(qt,2),$t=Kt[0],Qt=Kt[1],Xt=Object(h.useState)(!1),Yt=Object(o.a)(Xt,2),Zt=Yt[0],en=Yt[1],tn=window.innerWidth>1e3,nn=!1,an="";ce?(i=W("Enter title for %s",L.id),nn=!0):pe?(i=W("Edit log level rule for %s",L.id),nn=!0):je?(i=W("Please confirm"),nn=!0):ve?(i=W("Edit memory limit rule for %s",L.id),an=W("Default V8 has a memory limit of 512mb on 32-bit systems, and 1gb on 64-bit systems. The limit can be raised by setting --max-old-space-size to a maximum of ~1gb (32-bit) and ~1.7gb (64-bit)"),nn=!0):Ae?(i=W("Edit host for %s",L.id),nn=!0):De?(i=W("Edit compact groups for %s",L.id),nn=!0):Ke&&(i=W("Set tier for %s",L.id),an=W("Tiers define the order of adapters when the system starts."),nn=!0);var on=nn?Object(mt.jsxs)(ft.a,{title:i,help:an,open:!0,applyDisabled:ce||ve,textInput:ce||ve,defaultValue:ce?V.name:ve?V.memoryLimitMB:"",onApply:function(e){pe?(E(L,vt,St),he(!1)):ce?(z(L,e),le(!1)):je?(fe(!1),l(L)):ve?(H(L,e),Le(!1)):De?(T(L,_t),We(!1)):Ke?(B(L,Vt),Qe(!1)):Ae&&(A(L,$t),Ee(!1))},onClose:function(){pe?(Ot(V.logLevel),kt(!1),he(!1)):ce?le(!1):je?fe(!1):ve?Le(!1):De?(Rt(V.compactGroup),Pt(c),We(!1)):Ke?(Jt(V.tier),Qe(!1)):Ae&&(Qt(L.host),Ee(!1))},children:[pe&&Object(mt.jsxs)(Oe.a,{className:r.formControl,variant:"outlined",children:[Object(mt.jsx)(ye.a,{children:W("log level")}),Object(mt.jsx)(we.a,{variant:"standard",value:vt,fullWidth:!0,onChange:function(e){return Ot(e.target.value)},children:Wt.map((function(e){return Object(mt.jsx)(Ce.a,{value:e,children:W(e)},e)}))})]}),pe&&Object(mt.jsxs)(Oe.a,{className:r.formControl,variant:"outlined",children:[Object(mt.jsx)(Se.a,{control:Object(mt.jsx)(ke.a,{checked:St,onChange:function(e){return kt(e.target.checked)}}),label:W("Without restart")}),Object(mt.jsx)(Ne.a,{children:W(St?"Will be reset to the saved log level after restart of adapter":"Log level will be saved permanently")})]}),De&&Object(mt.jsxs)(Oe.a,{className:r.formControl2,variant:"outlined",children:[Object(mt.jsx)(ye.a,{children:W("compact groups")}),Object(mt.jsxs)(we.a,{variant:"standard",autoWidth:!0,onClose:function(e){return X(!1)},onOpen:function(e){return X(!0)},open:Q,value:1===_t?"default":"0"===_t||0===_t?"controller":_t&&_t||"default",onChange:function(e){return Rt(e.target.value)},children:[Object(mt.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},className:r.selectStyle,children:Object(mt.jsx)(Ie.a,{onClick:function(e){X(!1),Rt(Ft+1),Pt(Ft+1)},variant:"outlined",stylevariable:"outlined",children:W("Add compact group")})}),Object(mt.jsx)(Ce.a,{value:"controller",children:W("with controller")}),Object(mt.jsx)(Ce.a,{value:"default",children:W("default group")}),Array(Ft-1).fill().map((function(e,t){return Object(mt.jsx)(Ce.a,{value:t+2,children:t+2},t)}))]})]}),Ke&&Object(mt.jsxs)(Oe.a,{className:r.formControl,variant:"outlined",children:[Object(mt.jsx)(ye.a,{children:W("Tiers")}),Object(mt.jsx)(we.a,{variant:"standard",value:Vt,fullWidth:!0,onChange:function(e){return Jt(e.target.value)},children:Gt.map((function(e){return Object(mt.jsx)(Ce.a,{value:e.value,children:W(e.desc)},e.value)}))})]}),je&&W("Are you sure you want to delete the instance %s?",L.id),Ae&&Object(mt.jsx)(ut.a,{themeType:G,value:$t,list:w,removePrefix:"system.host.",fullWidth:!0,className:r.formControl,onChange:function(e){return Qt(e)}})]}):null,sn=b(S),rn=ct?Object(mt.jsx)(Nt,{image:L.image,instanceId:L.id,links:L.links,onClose:function(){return dt(!1)},t:W,themeType:G}):null,cn=tt?Object(mt.jsx)(rt.a,{title:W("Please confirm"),text:W("stop_admin",s),ok:W("Stop admin"),onClose:function(e){e&&p(tt,{common:{enabled:!1}}),nt(!1)}}):null,ln=["daemon"===L.mode?Object(mt.jsx)(jt.a,{state:V.connectedToHost,children:W("Connected to host")},1):"","daemon"===L.mode?Object(mt.jsx)(jt.a,{state:V.alive,children:W("Heartbeat")},2):"",null!==V.connected?Object(mt.jsx)(jt.a,{state:!!V.connected,children:"string"===typeof V.connected?W("Connected:")+" "+(V.connected||"-"):W("Connected to device or service")},3):""];return Object(mt.jsxs)(Tt.a,{square:!0,classes:{root:U?r.deleting:""},expanded:d===L.id&&!U,onChange:function(){ee||oe||pe||ce||je||ve||De||Ke||Ae||y(L.id)},children:[rn,Object(mt.jsxs)(At.a,{classes:{root:r.row,content:tn?r.desktopRowContent:void 0,expandIcon:tn?r.desktopButton:void 0},className:Object(m.default)((!V.running||"daemon"!==L.mode)&&(N%2===0?r.instanceStateNotEnabled1:r.instanceStateNotEnabled2),V.running&&"daemon"===L.mode&&(!V.connectedToHost||!V.alive)&&(N%2===0?r.instanceStateNotAlive1:r.instanceStateNotAlive2),V.running&&V.connectedToHost&&V.alive&&!1===V.connected&&(N%2===0?r.instanceStateAliveNotConnected1:r.instanceStateAliveNotConnected2),V.running&&V.connectedToHost&&V.alive&&!1!==V.connected&&r.instanceStateAliveAndConnected1,tn&&r.desktopRow),expandIcon:Object(mt.jsx)(Bt.a,{}),children:[on,cn,(ee||oe)&&Object(mt.jsx)(at.a,{title:ee&&W("Edit restart rule for %s",L.id)||oe&&W("Edit schedule rule for %s",L.id),clearButton:!0,cron:ee?x(S):O(S),language:it.a.getLanguage(),onOk:function(e){ee?F(L,e):oe&&P(L,e)},onClose:function(){ee?te(!1):oe&&ie(!1)}}),Object(mt.jsxs)(ht.a,{container:!0,spacing:1,alignItems:"center",direction:"row",wrap:"nowrap",children:[Object(mt.jsxs)("div",{className:r.gridStyle,children:[Object(mt.jsx)(v.a,{title:Object(mt.jsx)("span",{style:{display:"flex",flexDirection:"column"},children:ln}),children:Object(mt.jsx)("div",{className:Object(m.default)(r.smallAvatar,r.statusIndicator,"daemon"===L.mode||"schedule"===L.mode?r[sn]:r.transparent,V.connectedToHost&&V.alive&&!1===V.connected&&r.orangeDevice),children:g(L.mode,sn,r["statusIcon_"+sn])})}),Object(mt.jsx)(Ct.a,{variant:"square",alt:L.id,src:L.image,className:Object(m.default)(r.instanceIcon,tn&&r.desktopIcon)}),Object(mt.jsx)("div",{className:r.instanceId,children:L.id})]}),Object(mt.jsx)(v.a,{title:W("Start/stop"),children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{size:"small",onClick:function(e){e.stopPropagation(),e.preventDefault(),V.running&&L.id===s?nt("system.adapter."+L.id):p("system.adapter."+L.id,{common:{enabled:!V.running}})},onFocus:function(e){return e.stopPropagation()},className:Object(m.default)(r.button,L.canStart?V.running?r.enabled:r.disabled:r.hide),children:V.running?Object(mt.jsx)($e.a,{}):Object(mt.jsx)(k.a,{})})})}),Object(mt.jsx)(It.a,{config:V,name:"allowInstanceSettings",children:Object(mt.jsx)(C.a,{xsDown:!0,children:Object(mt.jsx)("div",{children:Object(mt.jsx)(v.a,{title:L.config?W("Settings"):"",children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{disabled:!L.config,size:"small",className:Object(m.default)(r.button,!L.config&&r.hiddenOpacity),onClick:function(){return _(S)},children:Object(mt.jsx)(ze.a,{})})})})})})}),Object(mt.jsx)(v.a,{title:W("Restart"),children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{size:"small",onClick:function(e){p("system.adapter."+L.id,{}),e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},className:Object(m.default)(r.button,!L.canStart&&r.hide),disabled:!V.running,children:Object(mt.jsx)(I.a,{})})})}),Object(mt.jsx)(It.a,{config:V,name:"allowInstanceLink",children:Object(mt.jsx)(v.a,{title:W("Instance link %s",L.id),children:Object(mt.jsx)("div",{children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(r.button,(!L.links||!L.links[0])&&r.hide),disabled:!V.running,onClick:function(e){e.stopPropagation(),1===L.links.length?window.open(L.links[0].link,L.id):dt(!0)},onFocus:function(e){return e.stopPropagation()},children:Object(mt.jsx)(Pe.a,{})})})})}),Object(mt.jsx)(Me.a,{className:Object(m.default)(r.secondaryHeading,r.hidden800),component:"div",children:Object(mt.jsxs)("div",{onMouseMove:function(){return en(!0)},onMouseEnter:function(){return en(!0)},onMouseLeave:function(){return en(!1)},className:r.secondaryHeadingDiv,children:[Object(mt.jsx)("div",{className:r.secondaryHeadingDivDiv,children:V.name}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(r.button,!Zt&&r.hiddenOpacity),onClick:function(e){le(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]})}),u&&Object(mt.jsx)("div",{className:Object(m.default)(r.hidden1250,("daemon"!==L.mode||!V.running)&&r.invisible),children:Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Xe.a,{}),tooltip:W("events"),children:Object(mt.jsxs)("div",{className:r.displayFlex,children:[Object(mt.jsx)(v.a,{title:W("input events"),children:Object(mt.jsxs)("div",{className:r.marginRight,children:["\u21e5",V.inputOutput.stateInput]})}),"/",Object(mt.jsx)(v.a,{title:W("output events"),children:Object(mt.jsxs)("div",{className:r.marginLeft,children:["\u21a6",V.inputOutput.stateOutput]})})]})})}),u&&Object(mt.jsx)(v.a,{title:V.logLevelObject===V.logLevel?"".concat(W("loglevel")," ").concat(V.logLevel):"".concat(W("saved:")," ").concat(V.logLevelObject," / ").concat(W("actual:")," ").concat(V.logLevel),children:Object(mt.jsx)(Ct.a,{className:Object(m.default)(r.smallAvatar,r.hidden380,r[V.logLevel]),children:V.loglevelIcon})}),Object(mt.jsx)(ht.a,{item:!0,className:Object(m.default)(r.hidden1050,r.width150,("daemon"!==L.mode||!V.running)&&r.invisible),children:Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ve.a,{}),tooltip:W("RAM usage"),children:("daemon"===L.mode&&V.running?j(S):"-.--")+" MB"})}),w.length>1||w.length&&(null===(t=w[0].common)||void 0===t?void 0:t.name)!==L.host?Object(mt.jsx)(ht.a,{item:!0,className:Object(m.default)(r.hidden1230),children:Object(mt.jsx)(lt.a,{value:L.host,list:w,removePrefix:"system.host.",themeType:G})}):null]}),Object(mt.jsx)("div",{className:r.hidden570,children:Object(mt.jsx)(v.a,{title:"sentry",children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(r.button,u&&V.checkSentry?null:r.hide),onClick:function(e){e.stopPropagation(),D(L)},children:Object(mt.jsx)(_e.a,{className:Object(m.default)(r.sentry,!V.sentry&&r.contrast0),component:"img",image:pt.default})})})}),V.supportCompact?Object(mt.jsx)("div",{className:r.hidden570,children:Object(mt.jsx)(v.a,{title:W("compact groups"),children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(r.button,u&&V.checkCompact?null:r.hide),onClick:function(e){e.stopPropagation(),R(L)},children:Object(mt.jsx)(J.a,{color:V.compact?"primary":"inherit"})})})}):null]}),Object(mt.jsx)(Et.a,{children:Object(mt.jsxs)(ht.a,{container:!0,direction:"row",children:[Object(mt.jsxs)(ht.a,{item:!0,container:!0,direction:"row",xs:10,children:[Object(mt.jsxs)(ht.a,{item:!0,container:!0,direction:"column",xs:12,sm:6,md:4,children:[Object(mt.jsx)("span",{className:r.instanceName,children:L.id}),V.running&&"daemon"===L.mode&&Object(mt.jsx)(jt.a,{state:V.connectedToHost,children:W("Connected to host")}),V.running&&"daemon"===L.mode&&Object(mt.jsx)(jt.a,{state:V.alive,children:W("Heartbeat")}),V.running&&null!==V.connected&&Object(mt.jsx)(jt.a,{state:!!V.connected,children:"string"===typeof V.connected?W("Connected:")+" "+(V.connected||"-"):W("Connected to device or service")})]}),Object(mt.jsx)(ht.a,{container:!0,item:!0,direction:"column",xs:12,sm:6,md:4,children:Object(mt.jsxs)(bt,{tooltip:W("Installed"),children:["v",L.version]})}),Object(mt.jsxs)(ht.a,{container:!0,item:!0,direction:"column",xs:12,sm:6,md:4,className:r.paddingRight200,children:[u&&Object(mt.jsxs)("div",{className:Object(m.default)(r.displayFlex,r.maxWidth300),children:[Object(mt.jsx)(bt,{icon:V.loglevelIcon,tooltip:V.logLevelObject===V.logLevel?"".concat(W("loglevel")," ").concat(V.logLevel):"".concat(W("saved:")," ").concat(V.logLevelObject," / ").concat(W("actual:")," ").concat(V.logLevel),children:V.logLevelObject===V.logLevel?V.logLevel:"".concat(V.logLevelObject," / ").concat(V.logLevel)}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){he(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}),V.running&&u&&Object(mt.jsx)("div",{className:r.visible1250,children:Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Xe.a,{}),tooltip:W("events"),children:Object(mt.jsxs)("div",{className:r.displayFlex,children:[Object(mt.jsx)(v.a,{title:W("input events"),children:Object(mt.jsxs)("div",{className:r.marginRight,children:["\u21e5",V.inputOutput.stateInput]})}),"/",Object(mt.jsx)(v.a,{title:W("output events"),children:Object(mt.jsxs)("div",{className:r.marginLeft,children:["\u21a6",V.inputOutput.stateOutput]})})]})})}),Object(mt.jsx)(ht.a,{item:!0,className:r.visible1050,children:Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ve.a,{}),tooltip:W("RAM usage"),children:("daemon"===L.mode&&V.running?j(S):"-.--")+" MB"})}),V.modeSchedule&&Object(mt.jsxs)("div",{className:Object(m.default)(r.displayFlex,r.maxWidth300),children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(K.a,{}),tooltip:W("schedule_group"),children:O(S)||"-"}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){ie(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}),u&&"daemon"===L.mode&&Object(mt.jsxs)("div",{className:Object(m.default)(r.displayFlex,r.maxWidth300),children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(K.a,{className:r.scheduleIcon}),tooltip:W("restart"),children:x(S)||"-"}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){te(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}),u&&Object(mt.jsxs)("div",{className:Object(m.default)(r.displayFlex,r.maxWidth300),children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ve.a,{className:r.ram}),tooltip:W("RAM limit"),children:(V.memoryLimitMB?V.memoryLimitMB:"-.--")+" MB"}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){Le(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}),u&&V.checkCompact&&V.compact&&V.supportCompact&&Object(mt.jsxs)("div",{className:Object(m.default)(r.displayFlex,r.maxWidth300),children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(J.a,{className:r.marginRight,color:"inherit"}),tooltip:W("compact groups"),children:1===V.compactGroup?"default":"0"===V.compactGroup?"controller":V.compactGroup&&V.compactGroup||"default"}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){We(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}),u&&Object(mt.jsxs)("div",{className:Object(m.default)(r.displayFlex,r.maxWidth300),children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ge.a,{className:r.marginRight,color:"inherit"}),tooltip:W("Start order (tier)"),children:"admin"===L.adapter?W("Always first"):(null===(n=Gt.find((function(e){return e.value===V.tier})))||void 0===n?void 0:n.desc)||Gt[2]}),"admin"!==L.adapter?Object(mt.jsx)(v.a,{title:W("Edit start order (tier)"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){Qe(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})}):null]}),Object(mt.jsxs)("div",{className:Object(m.default)(r.maxWidth300,r.visible800),children:[Object(mt.jsx)(bt,{children:V.name}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){le(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}),w.length>1||w.length&&(null===(a=w[0].common)||void 0===a?void 0:a.name)!==L.host?Object(mt.jsxs)("div",{className:Object(m.default)(r.displayFlex,r.maxWidth300),children:[Object(mt.jsx)(bt,{icon:Object(mt.jsx)(Ze.a,{className:r.marginRight}),tooltip:W("Host for this instance"),children:Object(mt.jsx)(lt.a,{value:L.host,list:w,removePrefix:"system.host.",themeType:G})}),Object(mt.jsx)(v.a,{title:W("Edit"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){Ee(!0),e.stopPropagation()},children:Object(mt.jsx)(qe.a,{})})})]}):null]})]}),Object(mt.jsxs)("div",{className:r.displayFlex,children:[Object(mt.jsx)(It.a,{config:V,name:"allowInstanceDelete",children:Object(mt.jsx)(C.a,{smUp:!0,children:Object(mt.jsx)(v.a,{title:W("Settings"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(){return _(S)},children:Object(mt.jsx)(ze.a,{})})})})}),Object(mt.jsx)(It.a,{config:V,name:"allowInstanceDelete",children:Object(mt.jsx)(v.a,{title:W("Delete"),children:Object(mt.jsx)(f.a,{size:"small",className:r.button,onClick:function(e){fe(!0),e.stopPropagation()},children:Object(mt.jsx)(Be.a,{})})})}),Object(mt.jsx)("div",{className:r.visible570,children:Object(mt.jsx)(v.a,{title:"sentry",children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(r.button,u&&V.checkSentry?null:r.hide),onClick:function(e){e.stopPropagation(),D(L)},children:Object(mt.jsx)(_e.a,{className:Object(m.default)(r.sentry,!V.sentry&&r.contrast0),component:"img",image:pt.default})})})}),V.supportCompact?Object(mt.jsx)("div",{className:r.visible570,children:Object(mt.jsx)(v.a,{title:W("compact groups"),children:Object(mt.jsx)(f.a,{size:"small",className:Object(m.default)(r.button,u&&V.checkCompact?null:r.hide),onClick:function(e){e.stopPropagation(),R(L)},children:Object(mt.jsx)(J.a,{color:V.compact?"primary":"inherit"})})})}):null]})]})})]},M)})),Vt=n(498),Jt=n(50),qt=n.n(Jt),Kt=n(227),$t=n(228),Qt=n(133),Xt=n(1430),Yt=n(53),Zt=n.n(Yt),en=n(121),tn=n.n(en),nn=n(60),an=n.n(nn),on=n(1582),sn=null,rn=Object(Qt.a)((function(e){return{root:{width:"100%",padding:10},paper:{width:"100%",maxHeight:800},overflowHidden:{display:"flex",overflow:"hidden"},pre:{overflow:"auto",whiteSpace:"pre-wrap",margin:0},rowBlock:{display:"flex",width:"100%",justifyContent:"space-between",margin:"10px 0"},select:{minWidth:200},checkbox:{minWidth:160},statusIcon_1:{border:"2px solid grey",borderRadius:20,color:"grey"},statusIcon_2:{border:"2px solid grey",borderRadius:20,color:"#d32f2f"},statusIcon_3:{border:0,borderRadius:0,color:"#ffa726"},statusIcon_4:{border:"2px solid grey",borderRadius:20,color:"#0055a9"},statusIcon_5:{border:"2px solid grey",borderRadius:20},statusIcon_6:{border:"2px solid grey",borderRadius:20},menuWrapper:{display:"flex",alignItems:"center"},iconWrapper:{marginRight:10},textWrapper:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},square:{width:24,height:24,marginRight:10,filter:"invert(0%) sepia(90%) saturate(300%) hue-rotate(-537deg) brightness(99%) contrast(97%)"},statusIcon_green:{border:"2px solid grey",borderRadius:2},statusIcon_red:{border:"2px solid grey",borderRadius:20},statusIcon_orange:{border:0,borderRadius:0},statusIcon_orangeDevice:{border:0,borderRadius:0},statusIcon_blue:{border:"2px solid grey",borderRadius:20},statusIcon_gray:{border:"2px solid grey",borderRadius:20},statusIcon_grey:{border:"2px solid grey",borderRadius:20},green:{color:et.a[700]},red:{color:tt.a[700]},grey:{color:Ht.a[700]},blue:{color:"#0055a9"},orange:{color:zt.a[400]},orangeDevice:{color:zt.a[300]},icon:{width:18,height:18,marginRight:e.spacing(1),display:"inline-block"},menuValue:{whiteSpace:"nowrap"}}})),cn=["none","daemon","schedule","once"],ln=function(e,t){return 1===e||2===e?Object(mt.jsx)(Q.a,{className:t}):3===e?Object(mt.jsx)(A.a,{className:t}):4===e?Object(mt.jsx)(K.a,{className:t}):5===e?Object(mt.jsx)("div",{style:{width:20,height:20,margin:2,borderRadius:2},className:t,children:Object(mt.jsx)("div",{style:{width:"calc(100% - 2px)",height:"calc(100% - 2px)",borderRadius:2,margin:1,backgroundColor:"#66bb6a"}})}):null},dn={none:{text:"none",_class:"",status:""},disabled:{text:"disabled",_class:"statusIcon_grey",status:"grey"},not_alive:{text:"enabled, but not alive",_class:"statusIcon_red",status:"red"},alive_not_connected:{text:"enabled, alive, but not connected to controller",_class:"statusIcon_orange",status:"orange"},alive_no_device:{text:"enabled, alive, but not connected to device or service",_class:"statusIcon_orangeDevice",status:"orange"},ok:{text:"enabled and OK",_class:"statusIcon_green",status:"green"}},un=function(e){var t=e.cb,n=e.filterMode,a=e.filterStatus,i=rn(),s=Object(h.useState)(!0),r=Object(o.a)(s,2),c=r[0],l=r[1],d=Object(h.useState)(n),u=Object(o.a)(d,2),p=u[0],m=u[1],b=Object(h.useState)(a),j=Object(o.a)(b,2),f=j[0],g=j[1],x=function(){l(!1),sn&&(document.body.removeChild(sn),sn=null)};return Object(mt.jsx)(Xt.a,{theme:tn()(an.a.getThemeName()),children:Object(mt.jsxs)(yt.a,{onClose:x,open:c,classes:{paper:i.paper},children:[Object(mt.jsx)(Ot.a,{style:{display:"flex"},children:Object(mt.jsxs)("div",{style:{display:"flex"},children:[Object(mt.jsx)(Ct.a,{variant:"square",className:i.square,src:on.default}),it.a.t("Filter instances")]})}),Object(mt.jsx)($t.a,{className:i.overflowHidden,dividers:!0,children:Object(mt.jsxs)(Re.a,{className:i.root,children:[Object(mt.jsxs)("div",{className:i.rowBlock,children:[Object(mt.jsx)(Se.a,{className:i.checkbox,control:Object(mt.jsx)(ke.a,{checked:!!p,onChange:function(e){return e.target.checked?m("daemon"):m(null)}}),label:it.a.t("Filter by mode")}),Object(mt.jsx)(we.a,{disabled:!p,variant:"standard",value:p||"none",className:i.select,onChange:function(e){"none"===e.target.value?m(null):m(e.target.value)},children:cn.map((function(e){return Object(mt.jsx)(Ce.a,{value:e,children:it.a.t(e)},e)}))})]}),Object(mt.jsxs)("div",{className:i.rowBlock,children:[Object(mt.jsx)(Se.a,{className:i.checkbox,control:Object(mt.jsx)(ke.a,{checked:!!f,onChange:function(e){return e.target.checked?g("ok"):g(null)}}),label:it.a.t("Filter by status")}),Object(mt.jsx)(we.a,{disabled:!f,variant:"standard",value:f||"none",className:i.select,onChange:function(e){"none"===e.target.value?g(null):g(e.target.value)},children:Object.keys(dn).map((function(e,t){return Object(mt.jsx)(Ce.a,{value:e,children:Object(mt.jsxs)("div",{className:i.menuWrapper,children:[dn[e].status?Object(mt.jsx)("div",{className:i.iconWrapper,children:ln(t,i["statusIcon_".concat(t)])}):null,Object(mt.jsx)("div",{className:i.textWrapper,children:it.a.t(dn[e].text)})]})},e)}))})]})]})}),Object(mt.jsxs)(Kt.a,{children:[Object(mt.jsx)(Ie.a,{variant:"contained",autoFocus:!0,disabled:p===n&&a===f,onClick:function(){x(),t&&t({filterMode:p,filterStatus:f})},color:"primary",startIcon:Object(mt.jsx)(Zt.a,{}),children:it.a.t("Apply")}),Object(mt.jsx)(Ie.a,{variant:"contained",onClick:function(){x(),t&&t(!1)},startIcon:Object(mt.jsx)(U.a,{}),children:it.a.t("Close")})]})]})})},pn=n(324),hn=Object(j.a)((function(e){return{root:{position:"relative",margin:10,width:300,minHeight:200,background:e.palette.background.default,boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .14),0 3px 1px -2px rgba(0, 0, 0, .12),0 1px 5px 0 rgba(0, 0, 0, .2)",display:"flex",flexDirection:"column",transition:"box-shadow 0.5s","&:hover":{boxShadow:"0 8px 17px 0 rgba(0, 0, 0, .2),0 6px 20px 0 rgba(0, 0, 0, .19)"}},row:{paddingLeft:8,flexDirection:"row-reverse",minHeight:"48px !important",height:48,fontWeight:"bold",fontSize:16},iconStyle:{marginRight:10},wrapperName:{margin:"0 10px",display:"flex",alignItems:"center"},wrapperChildren:{width:"100%"},accordionDetails:{padding:0},accordion:{margin:"1px 0 !important"}}}))((function(e){var t=e.name,n=e.key,a=e.children,o=e.classes,i=e.expanded,s=e.onExpand;return Object(mt.jsxs)(Tt.a,{expanded:!!i,onChange:function(){return s(!i)},classes:{root:o.accordion},square:!0,children:[Object(mt.jsx)(At.a,{classes:{root:o.row},expandIcon:Object(mt.jsx)(Bt.a,{}),children:Object(mt.jsxs)("div",{className:o.wrapperName,children:[Object(mt.jsx)(pn.a,{objIconBool:!0,iconName:t,className:o.iconStyle}),t]})}),Object(mt.jsx)(Et.a,{className:o.accordionDetails,children:Object(mt.jsx)("div",{className:o.wrapperChildren,children:a})})]},n)})),mn=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).translate=function(e,t,n){return void 0!==t?a.props.t(e,t,n):(a.wordCache[e]||(a.wordCache[e]=a.props.t(e)),a.wordCache[e])},a.getInstances=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,o,i,s,c,l,d,u,p,h,m,b,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),o=[],e.next=4,a.props.instancesWorker.getInstances();case 4:if(i=e.sent,Object.keys(i).forEach((function(e){return o.push(i[e])})),s="".concat(a.props.currentHost,".memRss"),e.t0=a.states[s],e.t0){e.next=12;break}return e.next=11,a.props.socket.getState(s);case 11:e.t0=e.sent;case 12:a.states[s]=e.t0,c=a.states[s],l=1,d=c?c.val:0,u=0;case 17:if(!(u<o.length)){e.next=35;break}if((p=o[u])&&p.common){e.next=21;break}return e.abrupt("return");case 21:if(!p.common.enabled||"daemon"!==p.common.mode){e.next=32;break}if(s=p._id+".memRss",e.t1=a.states[s],e.t1){e.next=28;break}return e.next=27,a.props.socket.getState(s);case 27:e.t1=e.sent;case 28:a.states[s]=e.t1,h=a.states[s],d+=h?h.val:0,l++;case 32:u++,e.next=17;break;case 35:m={},o.sort((function(e,t){var n=e._id.split("."),a=t._id.split("."),o=parseInt(n[n.length-1],10),i=parseInt(a[a.length-1],10),s=n[n.length-2],r=a[a.length-2];return s===r?o>i?1:o<i?-1:0:s>r?1:s<r?-1:0})),b=1,j={},o.forEach((function(e){var t=e?e.common:null,n=e._id.split("."),o=n[n.length-1];t.compactGroup&&"number"===typeof t.compactGroup&&b<t.compactGroup&&(b=t.compactGroup);var s={};s.id=e._id.replace("system.adapter.",""),s.obj=e,s.compact=!!t.compact,s.host=t.host,s.name=t.titleLang?t.titleLang[a.props.lang]||t.titleLang.en||t.title||"":t.title,s.image=t.icon?"adapter/"+t.name+"/"+t.icon:"img/no-image.png",s.enabled=t.enabled,s.name&&"object"===typeof s.name&&(s.name=s.name[a.props.lang]||s.name.en||"");var r=t.localLinks||t.localLink||"";r&&"string"===typeof r&&(r={_default:r});var c=r?Object.keys(r):[];c.forEach((function(e){s.links=s.links||[];var n=r[e];"string"===typeof n&&(n={link:n});var l=fe.a.replaceLink(n.link,t.name,o,{objects:i,hostname:a.props.hostname,protocol:a.props.protocol,port:a.props.port,hosts:a.props.hosts,adminInstance:a.props.adminInstance})||[];1===l.length?s.links.push({name:"_default"===e?1===c.length?"":a.t("default"):a.t(e),link:l[0].url,port:l[0].port,color:n.color}):l.length>1&&l.forEach((function(t){s.links.push({name:"_default"===e?1===c.length?"":a.t("default"):a.t(e),link:t.url,port:t.port,color:n.color})}))})),s.canStart=!t.onlyWWW,s.config="none"!==t.adminUI.config,s.jsonConfig="json"===t.adminUI.config,s.materialize="materialize"===t.adminUI.config,s.compactMode=t.runAsCompactMode||!1,s.mode=t.mode||null,s.loglevel=t.loglevel||null,s.adapter=t.name||null,s.version=t.version||null,m[e._id]=s})),console.log("getInstances: "+(Date.now()-n)),a.state.deleting&&!m["system.adapter."+a.state.deleting]&&(j.deleting=null),j.maxCompactGroupNumber=b,j.processes=l,j.mem=Math.round(d),j.instances=m,a._cacheList=null,a.setState(j);case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getParamsLocalAndPanel=Object(c.a)(r.a.mark((function e(){var t,n,o,i,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.socket.readBaseSettings(a.props.currentHost).then((function(e){var t,n;return!!(null===(t=e.config)||void 0===t||null===(n=t.system)||void 0===n?void 0:n.compact)})).catch((function(e){return window.alert('Cannot read compact mode by host "'.concat(a.props.currentHost,'": ').concat(e))}));case 2:t=e.sent,n=JSON.parse(window.localStorage.getItem("Instances.onlyCurrentHost")),o=JSON.parse(window.localStorage.getItem("Instances.playArrow")),i=JSON.parse(window.localStorage.getItem("Instances.viewMode")),s=JSON.parse(window.localStorage.getItem("Instances.viewCategory")),(c=JSON.parse(window.localStorage.getItem("Instances.filterCompactGroup")))||0===c||(c="All"),a._cacheList=null,a.setState({filterCompactGroup:c,compact:t,onlyCurrentHost:n,playArrow:o,viewMode:i,viewCategory:s});case 11:case"end":return e.stop()}}),e)}))),a.onStateChange=function(e,t){var n=a.states[e];a.states[e]=t,(!n&&t||n&&!t||n&&t&&n.val!==t.val)&&("config"===a.state.dialog&&a.state.dialogProp?(a.statesUpdateTimer&&clearTimeout(a.statesUpdateTimer),a.statesUpdateTimer=null,a.shouldUpdateAfterDialogClosed=!0):a.statesUpdateTimer||(a.statesUpdateTimer=setTimeout((function(){a.statesUpdateTimer=null,a._cacheList=null,a.forceUpdate()}),1e3)))},a.extendObject=function(e,t){a.props.socket.extendObject(e,t).catch((function(e){return window.alert(e)}))},a.openConfig=function(e){be.a.doNavigate("tab-instances","config",e)},a.getInstanceStatus=function(e){var t=e?e.common:null,n=(null===t||void 0===t?void 0:t.mode)||"",o="daemon"===n?"green":"blue";if(!t||!t.enabled||t.webExtension&&e.native.webInstance&&"daemon"!==n)o="daemon"===n?"grey":"blue";else{var i=a.states[e._id+".alive"],s=a.states[e._id+".connected"],r=a.states[e._id.replace("system.adapter.","")+".info.connection"];(null===s||void 0===s?void 0:s.val)&&(null===i||void 0===i?void 0:i.val)||(o="daemon"===n?"red":"orangeDevice"),r&&!(null===r||void 0===r?void 0:r.val)&&"red"!==o&&(o="orange")}return o},a.isRunning=function(e){var t,n;return(null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.onlyWWW)||(null===e||void 0===e||null===(n=e.common)||void 0===n?void 0:n.enabled)},a.isCompactGroup=function(e){var t;return(null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.compactGroup)||null},a.isCompact=function(e){var t;return(null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.runAsCompactMode)||!1},a.isCompactGroupCheck=function(e){var t,n=a.adapters.find((function(t){return t._id==="system.adapter.".concat(e)}));return(null===n||void 0===n||null===(t=n.common)||void 0===t?void 0:t.compact)||!1},a.getSentrySettings=function(e){var t,n;return!!(null===e||void 0===e||null===(t=e.common)||void 0===t||null===(n=t.plugins)||void 0===n?void 0:n.sentry)||!1},a.isSentry=function(e){var t,n,a;return!!(null===e||void 0===e||null===(t=e.common)||void 0===t||null===(n=t.plugins)||void 0===n?void 0:n.sentry)&&!(null===e||void 0===e||null===(a=e.common)||void 0===a?void 0:a.disableDataReporting)||!1},a.getSchedule=function(e){var t;return(null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.schedule)?e.common.schedule:""},a.getName=function(e){return e&&e.common?e.common.titleLang?"string"===typeof e.common.titleLang?e.common.titleLang:e.common.titleLang[a.props.lang]||e.common.titleLang.en||"":e.common.title&&"object"===typeof e.common.title?e.common.title[a.props.lang]||e.common.title.en||"":e.common.title||"":""},a.isModeSchedule=function(e){var t,n;return(null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.mode)&&"schedule"===(null===e||void 0===e||null===(n=e.common)||void 0===n?void 0:n.mode)||!1},a.getMemoryLimitMB=function(e){var t;return null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.memoryLimitMB},a.getInstanceHost=function(e){var t;return null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.host},a.getRestartSchedule=function(e){var t;return(null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.restartSchedule)?e.common.restartSchedule:""},a.getMemory=function(e){var t=a.states[e+".memRss"];return t?null===t||void 0===t?void 0:t.val:0},a.getInputOutput=function(e){var t=a.states[e+".inputCount"],n=a.states[e+".outputCount"];return{stateInput:(null===t||void 0===t?void 0:t.val)?t.val:0,stateOutput:(null===n||void 0===n?void 0:n.val)?n.val:0}},a.isAlive=function(e){var t=a.states[e+".alive"];return!!t&&t.val},a.isConnectedToHost=function(e){var t=a.states[e+".connected"];return!!t&&t.val},a.isConnected=function(e){var t=a.state.instances[e];return a.states[t.id+".info.connection"]?a.states[t.id+".info.connection"].val:null},a.getModeIcon=function(e,t,n){return"daemon"===e?"orange"===t?Object(mt.jsx)(A.a,{className:n}):"green"===t?Object(mt.jsx)("div",{className:Object(m.default)(n,a.props.classes.okSymbol),children:Object(mt.jsx)("div",{className:a.props.classes.okSymbolInner})}):Object(mt.jsx)(Q.a,{className:n}):"schedule"===e?Object(mt.jsx)(K.a,{className:n}):null},a.getStatusFilter=function(e){switch(e){case"not_alive":return"red";case"alive_no_device":return"orangeDevice";case"alive_not_connected":return"orange";case"ok":return"green";case"disabled":default:return"grey"}},a.setSentry=function(e){return a.extendObject("system.adapter."+e.id,{common:{disableDataReporting:!!a.isSentry(e.obj)}})},a.setTier=function(e,t){return a.extendObject("system.adapter."+e.id,{common:{tier:t}})},a.setName=function(e,t){return a.extendObject("system.adapter."+e.id,{common:{titleLang:t}})},a.setLogLevel=function(e,t,n){n?a.props.socket.setState("system.adapter.".concat(e.id,".logLevel"),t):a.extendObject("system.adapter."+e.id,{common:{loglevel:t}})},a.setSchedule=function(e,t){t?a.extendObject("system.adapter."+e.id,{common:{schedule:t}}):a.props.socket.getObject("system.adapter."+e.id).then((function(e){if(e.common.schedule)return delete e.common.schedule,a.props.socket.setObject(e._id,e)}))},a.setMemoryLimitMB=function(e,t){return a.extendObject("system.adapter."+e.id,{common:{memoryLimitMB:t}})},a.deletedInstances=function(e){a.setState({deleting:e.id},(function(){return a.props.executeCommand("del "+e.id)}))},a.setCompact=function(e){return a.extendObject("system.adapter."+e.id,{common:{runAsCompactMode:!a.isCompact(e.obj)}})},a.setRestartSchedule=function(e,t){t?a.extendObject("system.adapter."+e.id,{common:{restartSchedule:t}}):a.props.socket.getObject("system.adapter."+e.id).then((function(e){if(e.common.restartSchedule)return delete e.common.restartSchedule,a.props.socket.setObject(e._id,e)}))},a.setHost=function(e,t){return a.extendObject("system.adapter."+e.id,{common:{host:t}})},a.setCompactGroup=function(e,t){a.extendObject("system.adapter."+e.id,{common:{compactGroup:"controller"===t?0:"default"===t?1:parseInt(t,10)}}),a.state.maxCompactGroupNumber<t&&(a._cacheList=null,a.setState({maxCompactGroupNumber:t}))},a.onExpandRow=function(e){a.setState((function(t){return{expanded:t.expanded!==e?e:null}}))},a.changeSetStateBool=function(e){return a.setState((function(t){return window.localStorage.setItem("Instances.".concat(e),JSON.stringify(!t[e])),Object(i.a)({},e,!t[e])}))},a.changeSetState=function(e,t){return a.setState((function(n){return window.localStorage.setItem("Instances.".concat(e),t),Object(i.a)({},e,t)}))},a.changeStartedStopped=function(e){a._cacheList=null,a.setState((function(e){var t=e.playArrow?e.playArrow<2&&2:1;return window.localStorage.setItem("Instances.playArrow",JSON.stringify(t)),{playArrow:t}}))},a.changeCompactGroup=function(e){a._cacheList=null,window.localStorage.setItem("Instances.filterCompactGroup",JSON.stringify(e)),a.setState({filterCompactGroup:e})};var o=[];if(window.localStorage.getItem("Instances.expandedFolder"))try{o=JSON.parse(window.localStorage.getItem("Instances.expandedFolder"))}catch(s){}return a.state={expertMode:a.props.expertMode,runningInstances:!1,dialog:null,instances:null,dialogProp:null,states:null,playArrow:!1,onlyCurrentHost:!1,viewMode:!1,viewCategory:!1,folderOpen:!1,hostData:null,processes:null,mem:null,percent:null,memFree:null,filterText:window.localStorage.getItem("instances.filter")||"",compact:!1,maxCompactGroupNumber:1,filterCompactGroup:"All",sentry:!1,deleting:null,expandedFolder:o,filterMode:window.localStorage.getItem("Instances.filterMode")?"null"===window.localStorage.getItem("Instances.filterMode")?null:window.localStorage.getItem("Instances.filterMode"):null,filterStatus:window.localStorage.getItem("Instances.filterStatus")?"null"===window.localStorage.getItem("Instances.filterStatus")?null:window.localStorage.getItem("Instances.filterStatus"):null},a.columns={instance:{onlyExpert:!1},actions:{onlyExpert:!1},title:{onlyExpert:!1},schedule:{onlyExpert:!1},restart:{onlyExpert:!0},log:{onlyExpert:!0},ramLimit:{onlyExpert:!0},events:{onlyExpert:!0},ram:{onlyExpert:!1}},a.promises={},a.states={},a.adapters=[],a.statesUpdateTimer=null,a.wordCache={},a.oneReload=!1,a.t=a.translate,a.inputRef=Object(h.createRef)(),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getParamsLocalAndPanel();case 2:return e.next=4,this.props.instancesWorker.registerHandler(this.getInstances);case 4:return e.next=6,this.getData();case 6:return e.next=8,this.getHostsData();case 8:return e.next=10,this.getInstances();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.subscribeStates(!0),this.props.instancesWorker.unregisterHandler(this.getInstances);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStates",value:function(e){return e&&(this.promises.states=null),this.promises.states=this.promises.states||this.props.socket.getForeignStates("system.adapter.*"),this.promises.states}},{key:"getData",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,i,s,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.props.socket.getAdapters(t),a=this.getStates(),e.next=5,Promise.all([a,n]);case 5:i=e.sent,s=Object(o.a)(i,2),c=s[0],l=s[1],this.adapters=l||[],this.states=c||[],e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:if(this.states){e.next=18;break}return e.abrupt("return");case 18:this.subscribed||(this.subscribed=!0,this.subscribeStates());case 19:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeStates",value:function(e){var t=e?this.props.socket.unsubscribeState:this.props.socket.subscribeState;t.call(this.props.socket,"system.adapter.*.alive",this.onStateChange),t.call(this.props.socket,"system.adapter.*.connected",this.onStateChange),t.call(this.props.socket,"system.adapter.*.inputCount",this.onStateChange),t.call(this.props.socket,"system.adapter.*.memRss",this.onStateChange),t.call(this.props.socket,"system.adapter.*.outputCount",this.onStateChange),t.call(this.props.socket,"system.adapter.*.logLevel",this.onStateChange),t.call(this.props.socket,"system.host.*.diskFree",this.onStateChange),t.call(this.props.socket,"system.host.*.diskSize",this.onStateChange),t.call(this.props.socket,"system.host.*.diskWarning",this.onStateChange),t.call(this.props.socket,"system.host.*.freemem",this.onStateChange),t.call(this.props.socket,"*.info.connection",this.onStateChange)}},{key:"getHeaders",value:function(){var e=this,t=[];return Object.keys(this.columns).forEach((function(n,a){n.onlyExpert&&n.onlyExpert!==e.state.expertMode||t.push(Object(mt.jsx)(x.a,{children:a},a))})),t}},{key:"getLogLevelIcon",value:function(e){return"debug"===e?Object(mt.jsx)(M.a,{}):"info"===e?Object(mt.jsx)(R.a,{}):"warn"===e?Object(mt.jsx)(A.a,{}):"error"===e?Object(mt.jsx)(H.a,{}):null}},{key:"cacheInstances",value:function(){var e=this,t=this.props.currentHost.replace(/^system.host./,"");if(this._cacheList=Object.keys(this.state.instances).map((function(t){var n,a,o,i=e.state.instances[t],s=e.isRunning(i.obj),r=e.isCompactGroup(i.obj),c=e.isCompactGroupCheck(i.adapter)&&e.state.compact,l=e.isAlive(t),d=e.isCompact(i.obj),u=i.compact||!1,p=e.isConnectedToHost(t),h=e.isConnected(t),m=e.getName(i.obj),b=(null===(n=e.states["".concat(t,".logLevel")])||void 0===n?void 0:n.val)||i.loglevel,j=i.loglevel,f=(null===i||void 0===i||null===(a=i.obj)||void 0===a||null===(o=a.common)||void 0===o?void 0:o.tier)||3,g=e.getLogLevelIcon(b),x=e.getInputOutput(t),v=e.isModeSchedule(i.obj),O=e.getMemoryLimitMB(i.obj),y=e.getSentrySettings(i.obj),w=e.isSentry(i.obj);return{id:t,running:s,host:i.host,nameId:i.id,compactGroup:r,checkCompact:c,mode:i.mode,sentry:w,category:i.obj.common.type||"other",status:e.getInstanceStatus(i.obj),alive:l,compact:d,supportCompact:u,connectedToHost:p,connected:h,name:m,logLevel:b,logLevelObject:j,tier:f,loglevelIcon:g,inputOutput:x,modeSchedule:v,checkSentry:y,memoryLimitMB:O,allowInstanceSettings:!e.props.repository[i.adapter]||e.props.repository[i.adapter].allowInstanceSettings,allowInstanceDelete:!e.props.repository[i.adapter]||e.props.repository[i.adapter].allowInstanceDelete,allowInstanceLink:!e.props.repository[i.adapter]||e.props.repository[i.adapter].allowInstanceLink}})),this.state.playArrow&&(this._cacheList=this._cacheList.filter((function(t){var n=t.running;return e.state.playArrow<2?n:!n}))),this.state.onlyCurrentHost&&(this._cacheList=this._cacheList.filter((function(e){return e.host===t}))),this.state.filterText){var n=this.state.filterText.toLowerCase();this._cacheList=this._cacheList.filter((function(e){var t=e.name,a=e.nameId;return t.toLowerCase().includes(n)||a.toLowerCase().includes(n)}))}if(this.props.expertMode&&(this.state.filterCompactGroup||0===this.state.filterCompactGroup)&&this.state.compact&&(this._cacheList=this._cacheList.filter((function(t){var n=t.compactGroup;return n===e.state.filterCompactGroup||"All"===e.state.filterCompactGroup||"default"===e.state.filterCompactGroup&&(null===n||1===n)||"controller"===e.state.filterCompactGroup&&"0"===n}))),this.state.filterMode&&(this._cacheList=this._cacheList.filter((function(t){return t.mode===e.state.filterMode}))),this.state.filterStatus){var a=this.getStatusFilter(this.state.filterStatus);this._cacheList=this._cacheList.filter((function(e){return a===e.status}))}return this._cacheList}},{key:"clearAllFilters",value:function(){var e=this;window.localStorage.removeItem("instances.filter"),window.localStorage.removeItem("Instances.playArrow"),window.localStorage.removeItem("Instances.onlyCurrentHost"),window.localStorage.removeItem("Instances.playArrow"),window.localStorage.removeItem("Instances.filterCompactGroup"),window.localStorage.removeItem("Instances.filterMode"),window.localStorage.removeItem("Instances.filterStatus"),this._cacheList=null,this.setState({playArrow:!1,onlyCurrentHost:!1,filterCompactGroup:"All",filterMode:null,filterStatus:null,filterText:""},(function(){e.inputRef.current&&(e.inputRef.current.value=""),e.cacheInstances()}))}},{key:"getPanels",value:function(){var e=this;this._cacheList||this.cacheInstances();var t=this._cacheList.map((function(t,n){var a=t.id,o=e.state.instances[a];return e.state.viewMode?{category:t.category,render:Object(mt.jsx)(Rt,{deleting:e.state.deleting===o.id,adminInstance:e.props.adminInstance,maxCompactGroupNumber:e.state.maxCompactGroupNumber,deletedInstances:e.deletedInstances,expertMode:e.props.expertMode,extendObject:e.extendObject,getMemory:e.getMemory,getRestartSchedule:function(){return e.getRestartSchedule(o.obj)},getSchedule:function(){return e.getSchedule(o.obj)},hosts:e.props.hosts,id:a,instance:o,openConfig:e.openConfig,setCompact:e.setCompact,setCompactGroup:e.setCompactGroup,setHost:e.setHost,setLogLevel:e.setLogLevel,setMemoryLimitMB:e.setMemoryLimitMB,setName:e.setName,setRestartSchedule:e.setRestartSchedule,setSchedule:e.setSchedule,setSentry:e.setSentry,setTier:e.setTier,t:e.t,themeType:e.props.themeType,item:t},o.id)}:{category:t.category,render:Object(mt.jsx)(Ut,{deleting:e.state.deleting===o.id,adminInstance:e.props.adminInstance,maxCompactGroupNumber:e.state.maxCompactGroupNumber,deletedInstances:e.deletedInstances,expanded:e.state.expanded,expertMode:e.props.expertMode,extendObject:e.extendObject,getInstanceStatus:function(){return e.getInstanceStatus(o.obj)},getMemory:e.getMemory,getModeIcon:e.getModeIcon,getRestartSchedule:function(){return e.getRestartSchedule(o.obj)},getSchedule:function(){return e.getSchedule(o.obj)},onExpandRow:e.onExpandRow,hosts:e.props.hosts,id:a,idx:n,instance:o,openConfig:e.openConfig,setCompact:e.setCompact,setCompactGroup:e.setCompactGroup,setHost:e.setHost,setLogLevel:e.setLogLevel,setMemoryLimitMB:e.setMemoryLimitMB,setName:e.setName,setRestartSchedule:e.setRestartSchedule,setSchedule:e.setSchedule,setSentry:e.setSentry,setTier:e.setTier,t:e.t,themeType:e.props.themeType,item:t},o.id)}}));if(!t.length)return Object(mt.jsx)("div",{title:this.t("Click to clear all filters"),onClick:function(){return e.clearAllFilters()},style:{margin:20,fontSize:26,textAlign:"center",cursor:"pointer"},children:this.t("all items are filtered out")});if(!this.state.viewMode&&this.state.viewCategory){var n=[];return t.forEach((function(e){var t=e.category;return!n.includes(t)&&n.push(t)})),n.sort((function(e,t){return"general"===e&&"general"!==t?-1:"general"!==e&&"general"===t||e>t?1:e<t?-1:0})),n.map((function(n){return Object(mt.jsx)(hn,{name:n,expanded:e.state.expandedFolder.includes(n),onExpand:function(t){var o=Object(a.a)(e.state.expandedFolder),i=o.indexOf(n);t?-1===i&&(o.push(n),o.sort()):-1!==i&&o.splice(i,1),window.localStorage.setItem("Instances.expandedFolder",JSON.stringify(o)),e.setState({expandedFolder:o})},children:t.filter((function(e){return e.category===n})).map((function(e){return e.render}))},n)}))}return t.map((function(e){return e.render}))}},{key:"getHostsData",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,o,i,s,c=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.socket.getHostInfo(this.props.currentHost,!1,1e4).catch((function(e){return e.toString().includes("May not read")||window.alert("Cannot read host information: "+e),{}})).then((function(e){c._cacheList=null,c.setState({hostData:e})})),e.next=3,this.props.socket.getState("".concat(this.props.currentHost,".memAvailable"));case 3:return n=e.sent,e.next=6,this.props.socket.getState("".concat(this.props.currentHost,".freemem"));case 6:return a=e.sent,e.next=9,this.props.socket.getObject("".concat(this.props.currentHost));case 9:o=e.sent,n?t=n:a&&(t=a),t&&(i=(null===o||void 0===o?void 0:o.native.hardware.totalmem)/1048576,s=Math.round(t.val/i*100),this._cacheList=null,this.setState({percent:s,memFree:t.val}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFilterChange",value:function(e){var t=this;this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout((function(e){t.typingTimer=null,t._cacheList=null,t.setState({filterText:e}),window.localStorage.setItem("instances.filter",e)}),300,e.target.value)}},{key:"render",value:function(){var e=this;if(!this.state.instances)return Object(mt.jsx)(g.a,{});var t=this.props.classes;if("config"===this.state.dialog&&this.state.dialogProp){var n=this.state.instances[this.state.dialogProp]||null;if(n)return Object(mt.jsx)(O.a,{className:t.paper,children:Object(mt.jsx)(je.a,{adapter:n.id.split(".")[0],className:t.iframe,configStored:this.props.configStored,dateFormat:this.props.dateFormat,icon:n.image,instance:parseInt(n.id.split(".")[1]),isFloatComma:this.props.isFloatComma,jsonConfig:n.jsonConfig,lang:this.props.lang,materialize:n.materialize,menuPadding:this.props.menuPadding,socket:this.props.socket,t:this.t,theme:this.props.theme,themeName:this.props.themeName,themeType:this.props.themeType,width:this.props.width,onRegisterIframeRef:function(t){return e.props.onRegisterIframeRef(t)},onUnregisterIframeRef:function(t){return e.props.onUnregisterIframeRef(t)}})})}return this.shouldUpdateAfterDialogClosed&&(this.shouldUpdateAfterDialogClosed=!1,this.statesUpdateTimer||this.statesUpdateTimer||(this.statesUpdateTimer=setTimeout((function(){e.statesUpdateTimer=null,e.forceUpdate()}),300))),Object(mt.jsxs)(ge.a,{children:[Object(mt.jsxs)(ve.a,{children:[Object(mt.jsx)(v.a,{title:this.t("Show / hide List"),children:Object(mt.jsx)(f.a,{onClick:function(){return e.changeSetStateBool("viewMode")},children:this.state.viewMode?Object(mt.jsx)(W.a,{}):Object(mt.jsx)(D.a,{})})}),!this.state.viewMode&&Object(mt.jsx)(v.a,{title:this.t("Category"),children:Object(mt.jsx)(f.a,{onClick:function(){return e.changeSetStateBool("viewCategory")},children:Object(mt.jsx)(ne.a,{color:this.state.viewCategory?"primary":"inherit"})})}),!this.state.viewMode&&this.state.viewCategory&&Object(mt.jsxs)(mt.Fragment,{children:[Object(mt.jsx)(v.a,{title:this.t("expand all"),children:Object(mt.jsx)(f.a,{onClick:function(){var t=[];e._cacheList.forEach((function(e){var n=e.category;return!t.includes(n)&&t.push(n)})),t.sort(),window.localStorage.setItem("Instances.expandedFolder",JSON.stringify(t)),e.setState({expandedFolder:t})},children:Object(mt.jsx)(ee.a,{})})}),Object(mt.jsx)(v.a,{title:this.t("collapse all"),children:Object(mt.jsx)(f.a,{onClick:function(){window.localStorage.removeItem("Instances.expandedFolder"),e.setState({expandedFolder:[]})},children:Object(mt.jsx)(Y.a,{})})})]}),Object(mt.jsx)(v.a,{title:this.t("Reload"),children:Object(mt.jsx)(f.a,{onClick:function(){return e.getData(!0)},children:Object(mt.jsx)(I.a,{})})}),this.props.hosts.length>1?Object(mt.jsx)(v.a,{title:this.t("Show instances only for current host"),children:Object(mt.jsx)(f.a,{onClick:function(){return e.changeSetStateBool("onlyCurrentHost")},children:Object(mt.jsx)(F.a,{color:this.state.onlyCurrentHost?"primary":"inherit"})})}):null,Object(mt.jsx)(v.a,{title:this.t(this.state.playArrow?this.state.playArrow<2?"Showed only running instances":"Showed only stopped instances":"Show running or stopped instances"),children:Object(mt.jsx)(f.a,{onClick:function(){return e.changeStartedStopped(e.state.playArrow)},children:Object(mt.jsx)(k.a,{style:2===this.state.playArrow?{color:"red"}:null,color:this.state.playArrow&&this.state.playArrow<2?"primary":"inherit"})})}),Object(mt.jsx)(v.a,{title:this.t("Filter instances"),children:Object(mt.jsx)(f.a,{onClick:function(){return t=function(t){t&&(e._cacheList=null,e.setState(t),e.changeSetState("filterMode",t.filterMode),e.changeSetState("filterStatus",t.filterStatus))},n=e.state.filterMode,a=e.state.filterStatus,o=e.getModeIcon,sn||((sn=document.createElement("div")).id="renderModal",document.body.appendChild(sn)),qt.a.render(Object(mt.jsx)(un,{cb:t,getModeIcon:o,filterMode:n,filterStatus:a}),sn);var t,n,a,o},children:Object(mt.jsx)(ae.FaFilter,{style:{width:16,height:16},className:this.state.filterMode||this.state.filterStatus?t.filterActive:""})})}),this.props.expertMode&&this.state.compact?Object(mt.jsx)(Vt.a,{title:this.t("Filter specific compact group"),t:this.t,arrayItem:[{name:"All"},{name:"controller"},{name:"default"}].concat(Object(a.a)(Array(this.state.maxCompactGroupNumber-1).fill().map((function(e,t){return{name:t+2}})))),buttonIcon:Object(mt.jsx)(J.a,{style:{marginRight:4},color:"primary"}),onClick:function(t){return e.changeCompactGroup(t)},value:this.state.filterCompactGroup}):null,Object(mt.jsx)("div",{className:t.grow}),Object(mt.jsx)(y.a,{inputRef:this.inputRef,label:this.t("Filter"),style:{margin:"5px 0"},defaultValue:this.state.filterText,onChange:function(t){return e.handleFilterChange(t)},InputProps:{endAdornment:this.state.filterText?Object(mt.jsx)(w.a,{position:"end",children:Object(mt.jsx)(f.a,{size:"small",onClick:function(){e.inputRef.current.value="",e._cacheList=null,e.setState({filterText:""}),window.localStorage.setItem("instances.filter","")},children:Object(mt.jsx)(U.a,{})})}):null}}),Object(mt.jsx)("div",{className:t.grow}),Object(mt.jsx)(C.a,{xsDown:!0,children:this.state.hostData&&"".concat(this.t("Disk free"),": ").concat(Math.round(this.state.hostData["Disk free"]/(this.state.hostData["Disk size"]/100)),"%, ").concat(this.t("Total RAM usage"),": ").concat(this.state.mem," Mb / ").concat(this.t("Free"),": ").concat(this.state.percent,"% = ").concat(this.state.memFree," Mb [").concat(this.t("Host"),": ").concat(this.props.currentHostName," - ").concat(this.state.processes," ").concat(this.t("processes"),"]")})]}),Object(mt.jsx)(xe.a,{overflow:"auto",children:Object(mt.jsx)("div",{className:this.state.viewMode?t.cards:"",children:this.getPanels(t)})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=be.a.getLocation(),a={dialog:n.dialog,dialogProp:n.id};return e.expertMode!==t.expertMode&&(a.expertMode=e.expertMode),a}}]),n}(h.Component);t.default=Object(b.a)()(Object(j.a)((function(e){return{table:{minWidth:650},tableRow:{"&:nth-of-type(odd)":{backgroundColor:ue.a[300]},"&:nth-of-type(even)":{backgroundColor:ue.a[200]}},smallAvatar:{width:e.spacing(3),height:e.spacing(3)},button:{padding:"5px"},enabled:{color:le.a[400],"&:hover":{backgroundColor:le.a[200]}},disabled:{color:he.a[400],"&:hover":{backgroundColor:he.a[200]}},hide:{visibility:"hidden"},state:{width:e.spacing(2),height:e.spacing(2),borderRadius:"100%"},green:{backgroundColor:le.a[700]},red:{backgroundColor:he.a[700]},grey:{backgroundColor:ue.a[700]},blue:{backgroundColor:re.a[700]},transparent:{color:"transparent",backgroundColor:"transparent"},paper:{height:"100%"},iframe:{height:"100%",width:"100%",backgroundColor:"#FFF",color:"#000",borderRadius:4,boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",border:"0px solid #888"},silly:{},debug:{backgroundColor:ue.a[700]},info:{backgroundColor:re.a[700]},warn:{backgroundColor:ie.a[700]},error:{backgroundColor:he.a[700]},grow:{flexGrow:1},tableRender:{tableLayout:"fixed",minWidth:960,"& td":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},cards:{display:"flex",flexFlow:"wrap",justifyContent:"center"},sentry:{width:24,height:24,objectFit:"fill",filter:"invert(0%) sepia(90%) saturate(1267%) hue-rotate(-539deg) brightness(99%) contrast(97%)"},contrast0:{filter:"contrast(0%)"},compactButtons:{display:"inline-block",borderRadius:4,border:"1px gray dotted"},okSymbol:{width:20,height:20,margin:2,borderRadius:2},okSymbolInner:{width:"calc(100% - 2px)",height:"calc(100% - 2px)",borderRadius:2,margin:1,backgroundColor:"#66bb6a"},square:{width:24,height:24,filter:"dark"===e.palette.type?"brightness(0) invert(1)":"grayscale(100%)",opacity:"dark"===e.palette.type?1:.8},primary:{filter:"invert(0%) sepia(90%) saturate(300%) hue-rotate(-537deg) brightness(99%) contrast(97%)"},filterActive:{color:e.palette.primary.main}}}))(mn))}}]);
//# sourceMappingURL=10.c6cfac01.chunk.js.map